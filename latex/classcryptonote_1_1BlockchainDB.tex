\hypertarget{classcryptonote_1_1BlockchainDB}{}\doxysection{cryptonote\+::Blockchain\+DB Class Reference}
\label{classcryptonote_1_1BlockchainDB}\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}


The \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} backing store interface declaration/contract.  




{\ttfamily \#include $<$blockchain\+\_\+db.\+h$>$}



Inheritance diagram for cryptonote\+::Blockchain\+DB\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcryptonote_1_1BlockchainDB__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cryptonote\+::Blockchain\+DB\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{classcryptonote_1_1BlockchainDB__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aaf29e0968ffb8cc59c098a961fc66f3a}{Blockchain\+DB}} ()=default
\begin{DoxyCompactList}\small\item\em An empty constructor. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_af365f01d877b12ba937ed3c220648ed4}{$\sim$\+Blockchain\+DB}} ()=default
\begin{DoxyCompactList}\small\item\em An empty destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac43a54e523ed3fbe52e189e707ce4e0b}{reset\+\_\+stats}} ()
\begin{DoxyCompactList}\small\item\em reset profiling stats \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a58a3a419ffca88ff9cb81438448bd595}{show\+\_\+stats}} ()
\begin{DoxyCompactList}\small\item\em show profiling stats \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_abefe89ff405cc3c577e8f247616b0d77}{open}} (const fs\+::path \&filename, \mbox{\hyperlink{namespacecryptonote_a1823e8e194e85c09ac7231f927cca70a}{cryptonote\+::network\+\_\+type}} nettype, const int \mbox{\hyperlink{blockchain__blackball_8cpp_a1f30c0b350a9c342e27014c9f59d91f8}{db\+\_\+flags}}=0)=0
\begin{DoxyCompactList}\small\item\em open a db, or create it if necessary. \end{DoxyCompactList}\item 
\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a9892a628987edf6497a30a4107d47fbb}{is\+\_\+open}} () const
\begin{DoxyCompactList}\small\item\em Gets the current open/ready state of the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3448e4bfc25a0a9f97457d7e1ff3921a}{close}} ()=0
\begin{DoxyCompactList}\small\item\em close the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a8f1d5dc457664e47d43662b9f979e2ed}{sync}} ()=0
\begin{DoxyCompactList}\small\item\em sync the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} with disk \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a7d2e475422bc7cae4b9796ef2dccf791}{safesyncmode}} (const \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} onoff)=0
\begin{DoxyCompactList}\small\item\em toggle safe syncs for the DB \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aac857989dd8e08e8662804cb73e067ea}{reset}} ()=0
\begin{DoxyCompactList}\small\item\em Remove everything from the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}. \end{DoxyCompactList}\item 
virtual std\+::vector$<$ fs\+::path $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a68498c1a8845625b3abd3108384d3df8}{get\+\_\+filenames}} () const =0
\begin{DoxyCompactList}\small\item\em get all files used by the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} (if any) \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a2ebcf8ae990b9076e55e8d8abbee9661}{remove\+\_\+data\+\_\+file}} (const fs\+::path \&folder) const =0
\begin{DoxyCompactList}\small\item\em remove file(s) storing the database \end{DoxyCompactList}\item 
virtual std\+::string \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a7bd482e1a1e5dcb581437c998f91689d}{get\+\_\+db\+\_\+name}} () const =0
\begin{DoxyCompactList}\small\item\em gets the name of the folder the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}\textquotesingle{}s file(s) should be in \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac0811e2c65dd853e0130a63fbb1e31fd}{lock}} ()=0
\begin{DoxyCompactList}\small\item\em acquires the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} lock \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a5b4837afdba0c82abfc9d213e54cc6f9}{try\+\_\+lock}} ()=0
\begin{DoxyCompactList}\small\item\em tries to acquire the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} lock without blocking; returns true if the lock was acquired, false if acquiring it would block. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ade6171f4348b546146d141dff4c90b5e}{unlock}} ()=0
\begin{DoxyCompactList}\small\item\em This function releases the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} lock. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_abd978eaad5b93ffce845cbc8218d3120}{batch\+\_\+start}} (uint64\+\_\+t batch\+\_\+num\+\_\+blocks=0, uint64\+\_\+t batch\+\_\+bytes=0)=0
\begin{DoxyCompactList}\small\item\em tells the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} to start a new \char`\"{}batch\char`\"{} of blocks \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3cbe654e1c4a7fbc4e4d617abbe7a3de}{batch\+\_\+stop}} ()=0
\begin{DoxyCompactList}\small\item\em ends a batch transaction \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_abd6cd04f021cd399537ecded8f4a19c4}{batch\+\_\+abort}} ()=0
\begin{DoxyCompactList}\small\item\em aborts a batch transaction \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ae56573c54c4a8361b7b23c7036765062}{set\+\_\+batch\+\_\+transactions}} (\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}})=0
\begin{DoxyCompactList}\small\item\em sets whether or not to batch transactions \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a7490f685a94ea6e4d7bc750b635d49e2}{block\+\_\+wtxn\+\_\+start}} ()=0
\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a46cc97f10f812e1368d8f402477755f5}{block\+\_\+wtxn\+\_\+stop}} ()=0
\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_af2412ee39009c0bacc2d5bd01d2e6478}{block\+\_\+wtxn\+\_\+abort}} ()=0
\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a5afbaafb4f005a4e3542201a68a5c2bf}{block\+\_\+rtxn\+\_\+start}} () const =0
\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ad93bb793144ac8f24d2a17c7800e5dba}{block\+\_\+rtxn\+\_\+stop}} () const =0
\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ae09feed0f8305e2d8f93bb14ef31d62d}{block\+\_\+rtxn\+\_\+abort}} () const =0
\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac380af4385046eae7e6d3f74dab4c285}{add\+\_\+block}} (const std\+::pair$<$ \mbox{\hyperlink{structcryptonote_1_1block}{block}}, std\+::string $>$ \&blk, size\+\_\+t block\+\_\+weight, uint64\+\_\+t long\+\_\+term\+\_\+block\+\_\+weight, const \mbox{\hyperlink{namespacecryptonote_afa000315dc9cabb236f0b077dc812d6e}{difficulty\+\_\+type}} \&cumulative\+\_\+difficulty, const uint64\+\_\+t \&coins\+\_\+generated, const std\+::vector$<$ std\+::pair$<$ \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}}, std\+::string $>$$>$ \&txs)
\begin{DoxyCompactList}\small\item\em handles the addition of a new block to \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_abdbc94319eea2bc8aa8e9e982665faae}{update\+\_\+block\+\_\+checkpoint}} (\mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}} const \&checkpoint)=0
\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a0121411dd9be54fb437f73e55da06b5b}{remove\+\_\+block\+\_\+checkpoint}} (uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}})=0
\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a53a5ee660518ec8931475d2cef93e90b}{get\+\_\+block\+\_\+checkpoint}} (uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}, \mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}} \&checkpoint) const =0
\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a41ae92f79d6964b453180cf42117e077}{get\+\_\+top\+\_\+checkpoint}} (\mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}} \&checkpoint) const =0
\item 
virtual std\+::vector$<$ \mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}} $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ae3cc4175208f0832764e4255b95e7b6a}{get\+\_\+checkpoints\+\_\+range}} (uint64\+\_\+t start, uint64\+\_\+t end, size\+\_\+t num\+\_\+desired\+\_\+checkpoints=\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a70de9903897a1a603f420a15a57cbd14}{G\+E\+T\+\_\+\+A\+L\+L\+\_\+\+C\+H\+E\+C\+K\+P\+O\+I\+N\+TS}}) const =0
\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a257fd34fef63dc90efce90b48eb098e3}{get\+\_\+immutable\+\_\+checkpoint}} (\mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}} $\ast$immutable\+\_\+checkpoint, uint64\+\_\+t block\+\_\+height) const
\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ab4377742c7421c3d4f6bb7547ea91a2b}{block\+\_\+exists}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h, uint64\+\_\+t $\ast$\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}=N\+U\+LL) const =0
\begin{DoxyCompactList}\small\item\em checks if a block exists \end{DoxyCompactList}\item 
virtual std\+::string \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a42996ce32cb1bc99f4866b243284cde0}{get\+\_\+block\+\_\+blob}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h) const =0
\begin{DoxyCompactList}\small\item\em fetches the block with the given hash \end{DoxyCompactList}\item 
\mbox{\hyperlink{structcryptonote_1_1block}{block}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a57633ec111370c760a2242ba87c73a24}{get\+\_\+block}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h) const
\begin{DoxyCompactList}\small\item\em fetches the block with the given hash \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3fd7014d6fe3ed4cca74401dd98cb771}{get\+\_\+block\+\_\+height}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h) const =0
\begin{DoxyCompactList}\small\item\em gets the height of the block with a given hash \end{DoxyCompactList}\item 
\mbox{\hyperlink{structcryptonote_1_1block__header}{block\+\_\+header}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aa0863845925d5900c0856db0ec5407ab}{get\+\_\+block\+\_\+header}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h) const
\begin{DoxyCompactList}\small\item\em fetch a block header \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structcryptonote_1_1block__header}{block\+\_\+header}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a767aa5b8c0698c66ff9884ffe86e55f0}{get\+\_\+block\+\_\+header\+\_\+from\+\_\+height}} (uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block header with height \end{DoxyCompactList}\item 
virtual std\+::string \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a50143c7b141aace7e9503e2dbb90ec20}{get\+\_\+block\+\_\+blob\+\_\+from\+\_\+height}} (uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block blob by height \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structcryptonote_1_1block}{block}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aab956fbb07fa7b46c8e137a75357f0f7}{get\+\_\+block\+\_\+from\+\_\+height}} (uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block by height \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ae0b7135ab594b2685568748576c478d9}{get\+\_\+block\+\_\+timestamp}} (const uint64\+\_\+t \&\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block\textquotesingle{}s timestamp \end{DoxyCompactList}\item 
virtual std\+::vector$<$ uint64\+\_\+t $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a98d784cdf244a6827dd5f9afbe3ef1a2}{get\+\_\+block\+\_\+cumulative\+\_\+rct\+\_\+outputs}} (const std\+::vector$<$ uint64\+\_\+t $>$ \&heights) const =0
\begin{DoxyCompactList}\small\item\em fetch a block\textquotesingle{}s cumulative number of rct outputs \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a7c2fb815dffffd9c33f67a76b8cfff4f}{get\+\_\+top\+\_\+block\+\_\+timestamp}} () const =0
\begin{DoxyCompactList}\small\item\em fetch the top block\textquotesingle{}s timestamp \end{DoxyCompactList}\item 
virtual size\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aa45d0a5c8e1fd2a31a634754fcca618d}{get\+\_\+block\+\_\+weight}} (const uint64\+\_\+t \&\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block\textquotesingle{}s weight \end{DoxyCompactList}\item 
virtual std\+::vector$<$ uint64\+\_\+t $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a70a29664ff4687d6bce957a3afd4bb23}{get\+\_\+block\+\_\+weights}} (uint64\+\_\+t start\+\_\+height, size\+\_\+t count) const =0
\begin{DoxyCompactList}\small\item\em fetch the last N blocks\textquotesingle{} weights \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{namespacecryptonote_afa000315dc9cabb236f0b077dc812d6e}{difficulty\+\_\+type}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a974de4802b1a27443a01415075cbe5de}{get\+\_\+block\+\_\+cumulative\+\_\+difficulty}} (const uint64\+\_\+t \&\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block\textquotesingle{}s cumulative difficulty \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{namespacecryptonote_afa000315dc9cabb236f0b077dc812d6e}{difficulty\+\_\+type}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ad3a53da9a61b8a9a9e8a04e62880169d}{get\+\_\+block\+\_\+difficulty}} (const uint64\+\_\+t \&\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block\textquotesingle{}s difficulty \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a857ef0027e28136d36fdf87b6840b98a}{get\+\_\+block\+\_\+already\+\_\+generated\+\_\+coins}} (const uint64\+\_\+t \&\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block\textquotesingle{}s already generated coins \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ad3af37563e431371074942355a2d79f4}{get\+\_\+block\+\_\+long\+\_\+term\+\_\+weight}} (const uint64\+\_\+t \&\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block\textquotesingle{}s long term weight \end{DoxyCompactList}\item 
virtual std\+::vector$<$ uint64\+\_\+t $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac4fb16efa9e65d5ca0848d3b95d372ca}{get\+\_\+long\+\_\+term\+\_\+block\+\_\+weights}} (uint64\+\_\+t start\+\_\+height, size\+\_\+t count) const =0
\begin{DoxyCompactList}\small\item\em fetch the last N blocks\textquotesingle{} long term weights \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ae5bdebba8e8372815db8c42af1cde25f}{get\+\_\+block\+\_\+hash\+\_\+from\+\_\+height}} (const uint64\+\_\+t \&\mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}) const =0
\begin{DoxyCompactList}\small\item\em fetch a block\textquotesingle{}s hash \end{DoxyCompactList}\item 
virtual std\+::vector$<$ \mbox{\hyperlink{structcryptonote_1_1block}{block}} $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a78105c7f37ecd91f74404434e858a832}{get\+\_\+blocks\+\_\+range}} (const uint64\+\_\+t \&h1, const uint64\+\_\+t \&h2) const =0
\begin{DoxyCompactList}\small\item\em fetch a list of blocks \end{DoxyCompactList}\item 
virtual std\+::vector$<$ \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a1664a041ad54b95ad24a76a68a82ed89}{get\+\_\+hashes\+\_\+range}} (const uint64\+\_\+t \&h1, const uint64\+\_\+t \&h2) const =0
\begin{DoxyCompactList}\small\item\em fetch a list of block hashes \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a18756eb0d54ee237006dc82d5a7dcf8e}{top\+\_\+block\+\_\+hash}} (uint64\+\_\+t $\ast$block\+\_\+height=N\+U\+LL) const =0
\begin{DoxyCompactList}\small\item\em fetch the top block\textquotesingle{}s hash \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structcryptonote_1_1block}{block}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a800d8a35b0a3d8c67284946b7419362c}{get\+\_\+top\+\_\+block}} () const =0
\begin{DoxyCompactList}\small\item\em fetch the top block \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}} () const =0
\begin{DoxyCompactList}\small\item\em fetch the current blockchain height \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a27d01b3af6bbcb36c7b21df57a78335f}{pop\+\_\+block}} (\mbox{\hyperlink{structcryptonote_1_1block}{block}} \&blk, std\+::vector$<$ \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} $>$ \&txs)
\begin{DoxyCompactList}\small\item\em pops the top block off the blockchain \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a9fd80244596d43f903c9d63267d271b7}{tx\+\_\+exists}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h) const =0
\begin{DoxyCompactList}\small\item\em check if a transaction with a given hash exists \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a802fafdead610b0cd687f2aec738a9d8}{tx\+\_\+exists}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h, uint64\+\_\+t \&tx\+\_\+id) const =0
\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aab00f8eac85a50dd051cc1ced7d7e27c}{get\+\_\+tx\+\_\+unlock\+\_\+time}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h) const =0
\begin{DoxyCompactList}\small\item\em fetch a transaction\textquotesingle{}s unlock time/height \end{DoxyCompactList}\item 
uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a17e7793b8469f24d02f79a017d41df6c}{get\+\_\+output\+\_\+unlock\+\_\+time}} (const uint64\+\_\+t amount, const uint64\+\_\+t global\+\_\+index) const
\begin{DoxyCompactList}\small\item\em fetch an output\textquotesingle{}s unlock time/height \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aef33e0b205c54d6ec167e534e74dae3f}{get\+\_\+tx}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h) const
\begin{DoxyCompactList}\small\item\em fetches the transaction with the given hash \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a6d75417d12f6e77c6688d107bffa6961}{get\+\_\+pruned\+\_\+tx}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h) const
\begin{DoxyCompactList}\small\item\em fetches the transaction base with the given hash \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a13c76e345bc32f4a61140bf85d697bc8}{get\+\_\+tx}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h, \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} \&tx) const
\begin{DoxyCompactList}\small\item\em fetches the transaction with the given hash \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a0f8cdcb0aef9063f4d0c16cefc8e8b94}{get\+\_\+pruned\+\_\+tx}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h, \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} \&tx) const
\begin{DoxyCompactList}\small\item\em fetches the transaction base with the given hash \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ab8b7e48714a19ed9827ce3b90954860c}{get\+\_\+tx\+\_\+blob}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h, std\+::string \&tx) const =0
\begin{DoxyCompactList}\small\item\em fetches the transaction blob with the given hash \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_acfc499282ccf3e69958a42dd2471e481}{get\+\_\+pruned\+\_\+tx\+\_\+blob}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h, std\+::string \&tx) const =0
\begin{DoxyCompactList}\small\item\em fetches the pruned transaction blob with the given hash \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a23155b82179607fc332c470d8bea80fd}{get\+\_\+pruned\+\_\+tx\+\_\+blobs\+\_\+from}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h, size\+\_\+t count, std\+::vector$<$ std\+::string $>$ \&bd) const =0
\begin{DoxyCompactList}\small\item\em fetches a number of pruned transaction blob from the given hash, in canonical blockchain order \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3def9ec77af8a5bdb92da301d2f9478c}{get\+\_\+prunable\+\_\+tx\+\_\+blob}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h, std\+::string \&tx) const =0
\begin{DoxyCompactList}\small\item\em fetches the prunable transaction blob with the given hash \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a19fba67e7cbcd0ce969571b086d0f62b}{get\+\_\+prunable\+\_\+tx\+\_\+hash}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&tx\+\_\+hash, \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&prunable\+\_\+hash) const =0
\begin{DoxyCompactList}\small\item\em fetches the prunable transaction hash \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3b7e9c6cb8e4519fae153f7f59e3a022}{get\+\_\+tx\+\_\+count}} () const =0
\begin{DoxyCompactList}\small\item\em fetches the total number of transactions ever \end{DoxyCompactList}\item 
virtual std\+::vector$<$ \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a5cd3cd4f01c06662a281fa22e645d725}{get\+\_\+tx\+\_\+list}} (const std\+::vector$<$ \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} $>$ \&hlist) const =0
\begin{DoxyCompactList}\small\item\em fetches a list of transactions based on their hashes \end{DoxyCompactList}\item 
uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a4f5c382eaadcf7d08c5b9565b67605dc}{get\+\_\+tx\+\_\+block\+\_\+height}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&h) const
\begin{DoxyCompactList}\small\item\em fetches the height of a transaction\textquotesingle{}s block \end{DoxyCompactList}\item 
virtual std\+::vector$<$ uint64\+\_\+t $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aa28ad5b5920b8761353b209c2fc02806}{get\+\_\+tx\+\_\+block\+\_\+heights}} (const std\+::vector$<$ \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} $>$ \&h) const =0
\begin{DoxyCompactList}\small\item\em fetches the height of multiple transactions\textquotesingle{} blocks \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a827c727d888d3bbfd6ba20b0615c78ba}{get\+\_\+num\+\_\+outputs}} (const uint64\+\_\+t \&amount) const =0
\begin{DoxyCompactList}\small\item\em fetches the number of outputs of a given amount \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac063909edcc2bb826297b2fd3f1fed72}{get\+\_\+indexing\+\_\+base}} () const
\begin{DoxyCompactList}\small\item\em return index of the first element (should be hidden, but isn\textquotesingle{}t) \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structcryptonote_1_1output__data__t}{output\+\_\+data\+\_\+t}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac8b65f0f5d3d227a3fd30dfac0e49b0e}{get\+\_\+output\+\_\+key}} (const uint64\+\_\+t \&amount, const uint64\+\_\+t \&index, \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} include\+\_\+commitmemt=\mbox{\hyperlink{stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}) const =0
\begin{DoxyCompactList}\small\item\em get some of an output\textquotesingle{}s data \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{namespacecryptonote_ab982387d5cfb1211fdef0fd7e5fb1266}{tx\+\_\+out\+\_\+index}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a25a299c1d0f10875d4027b7582c039f3}{get\+\_\+output\+\_\+tx\+\_\+and\+\_\+index\+\_\+from\+\_\+global}} (const uint64\+\_\+t \&index) const =0
\begin{DoxyCompactList}\small\item\em gets an output\textquotesingle{}s tx hash and index \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{namespacecryptonote_ab982387d5cfb1211fdef0fd7e5fb1266}{tx\+\_\+out\+\_\+index}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a8a596514a464b819fa2b0187b8ae2b2b}{get\+\_\+output\+\_\+tx\+\_\+and\+\_\+index}} (const uint64\+\_\+t \&amount, const uint64\+\_\+t \&index) const =0
\begin{DoxyCompactList}\small\item\em gets an output\textquotesingle{}s tx hash and index \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3d27f453e0ab34b556fac3a1edfa1d1d}{get\+\_\+output\+\_\+tx\+\_\+and\+\_\+index}} (const uint64\+\_\+t \&amount, const std\+::vector$<$ uint64\+\_\+t $>$ \&offsets, std\+::vector$<$ \mbox{\hyperlink{namespacecryptonote_ab982387d5cfb1211fdef0fd7e5fb1266}{tx\+\_\+out\+\_\+index}} $>$ \&indices) const =0
\begin{DoxyCompactList}\small\item\em gets some outputs\textquotesingle{} tx hashes and indices \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a2d039d79b413030eff7bc4c6fa18e5e5}{get\+\_\+output\+\_\+key}} (const epee\+::span$<$ const uint64\+\_\+t $>$ \&amounts, const std\+::vector$<$ uint64\+\_\+t $>$ \&offsets, std\+::vector$<$ \mbox{\hyperlink{structcryptonote_1_1output__data__t}{output\+\_\+data\+\_\+t}} $>$ \&outputs, \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} allow\+\_\+partial=\mbox{\hyperlink{stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}}) const =0
\begin{DoxyCompactList}\small\item\em gets outputs\textquotesingle{} data \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a7aff4e007e700f131c7ac0109d277e75}{can\+\_\+thread\+\_\+bulk\+\_\+indices}} () const =0
\item 
virtual std\+::vector$<$ std\+::vector$<$ uint64\+\_\+t $>$ $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aa66aff4bea56ff6bbd2778d9f7c7d566}{get\+\_\+tx\+\_\+amount\+\_\+output\+\_\+indices}} (const uint64\+\_\+t tx\+\_\+id, size\+\_\+t n\+\_\+txes=1) const =0
\begin{DoxyCompactList}\small\item\em gets output indices (amount-\/specific) for a transaction\textquotesingle{}s outputs \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a9d182826e5989e0ada89c739052dbb21}{has\+\_\+key\+\_\+image}} (const \mbox{\hyperlink{structcrypto_1_1key__image}{crypto\+::key\+\_\+image}} \&img) const =0
\begin{DoxyCompactList}\small\item\em check if a key image is stored as spent \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a6e1da4f66dff85adac98a5d936ddf2b1}{add\+\_\+txpool\+\_\+tx}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&txid, const std\+::string \&blob, const \mbox{\hyperlink{structcryptonote_1_1txpool__tx__meta__t}{txpool\+\_\+tx\+\_\+meta\+\_\+t}} \&details)=0
\begin{DoxyCompactList}\small\item\em add a txpool transaction \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a38ec6a38ead3bb7d6a030931a34896d3}{update\+\_\+txpool\+\_\+tx}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&txid, const \mbox{\hyperlink{structcryptonote_1_1txpool__tx__meta__t}{txpool\+\_\+tx\+\_\+meta\+\_\+t}} \&details)=0
\begin{DoxyCompactList}\small\item\em update a txpool transaction\textquotesingle{}s metadata \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a31f61bd83a8cd12479348baf5fb204b3}{get\+\_\+txpool\+\_\+tx\+\_\+count}} (\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} include\+\_\+unrelayed\+\_\+txes=\mbox{\hyperlink{stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}) const =0
\begin{DoxyCompactList}\small\item\em get the number of transactions in the txpool \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a4910d723c4c6ae6f71fdd556e399faff}{txpool\+\_\+has\+\_\+tx}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&txid) const =0
\begin{DoxyCompactList}\small\item\em check whether a txid is in the txpool \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a7d465f59b4c42ef08dde724ce7cf0834}{remove\+\_\+txpool\+\_\+tx}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&txid)=0
\begin{DoxyCompactList}\small\item\em remove a txpool transaction \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a63e7b05e2eaddd2a1f08fc1696beb3a1}{get\+\_\+txpool\+\_\+tx\+\_\+meta}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&txid, \mbox{\hyperlink{structcryptonote_1_1txpool__tx__meta__t}{txpool\+\_\+tx\+\_\+meta\+\_\+t}} \&meta) const =0
\begin{DoxyCompactList}\small\item\em get a txpool transaction\textquotesingle{}s metadata \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a820c3da66755d5165dd9b9c5b7f13dad}{get\+\_\+txpool\+\_\+tx\+\_\+blob}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&txid, std\+::string \&bd) const =0
\begin{DoxyCompactList}\small\item\em get a txpool transaction\textquotesingle{}s blob \end{DoxyCompactList}\item 
virtual std\+::string \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3ace19ff71dcb5ce6742054ddb2cfe17}{get\+\_\+txpool\+\_\+tx\+\_\+blob}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&txid) const =0
\begin{DoxyCompactList}\small\item\em get a txpool transaction\textquotesingle{}s blob \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a0ea4d4666ec1e6846548ed7186174e3c}{prune\+\_\+outputs}} (uint64\+\_\+t amount)=0
\begin{DoxyCompactList}\small\item\em prune output data for the given amount \end{DoxyCompactList}\item 
virtual uint32\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a895755473aef6f558f290ad34a9c58b8}{get\+\_\+blockchain\+\_\+pruning\+\_\+seed}} () const =0
\begin{DoxyCompactList}\small\item\em get the blockchain pruning seed \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ae26a77df233d6baf1ca8bf27b1675842}{prune\+\_\+blockchain}} (uint32\+\_\+t pruning\+\_\+seed=0)=0
\begin{DoxyCompactList}\small\item\em prunes the blockchain \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ad3de7d8d1d2aaa75a69d8961776aee76}{update\+\_\+pruning}} ()=0
\begin{DoxyCompactList}\small\item\em prunes recent blockchain changes as needed, iff pruning is enabled \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ab800cf2bb2ae218ddc914d09474c4f08}{check\+\_\+pruning}} ()=0
\begin{DoxyCompactList}\small\item\em checks pruning was done correctly, iff enabled \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a076abb45426def4aa530eb3b3440f8be}{get\+\_\+max\+\_\+block\+\_\+size}} ()=0
\begin{DoxyCompactList}\small\item\em get the max block size \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aa84a571effea0b94917656448a410554}{add\+\_\+max\+\_\+block\+\_\+size}} (uint64\+\_\+t sz)=0
\begin{DoxyCompactList}\small\item\em add a new max block size \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a791b7af852f387c91b3d804f6a03c438}{add\+\_\+alt\+\_\+block}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&blkid, const \mbox{\hyperlink{structcryptonote_1_1alt__block__data__t}{cryptonote\+::alt\+\_\+block\+\_\+data\+\_\+t}} \&data, const std\+::string \&blob, const std\+::string $\ast$checkpoint)=0
\begin{DoxyCompactList}\small\item\em add a new alternative block \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ad93fe8b9fc11066ba66803c1f68af236}{get\+\_\+alt\+\_\+block}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&blkid, \mbox{\hyperlink{structcryptonote_1_1alt__block__data__t}{alt\+\_\+block\+\_\+data\+\_\+t}} $\ast$data, std\+::string $\ast$blob, std\+::string $\ast$checkpoint) const =0
\begin{DoxyCompactList}\small\item\em get an alternative block by hash \end{DoxyCompactList}\item 
\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_adf46cd64ad8cbeb1deef918e85d8536b}{get\+\_\+alt\+\_\+block\+\_\+header}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&blkid, \mbox{\hyperlink{structcryptonote_1_1alt__block__data__t}{alt\+\_\+block\+\_\+data\+\_\+t}} $\ast$data, \mbox{\hyperlink{structcryptonote_1_1block__header}{cryptonote\+::block\+\_\+header}} $\ast$header, std\+::string $\ast$checkpoint) const
\begin{DoxyCompactList}\small\item\em get the block header from the alternative block db \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a4ea2d418b0cc3cae07394c9c6dde7581}{remove\+\_\+alt\+\_\+block}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&blkid)=0
\begin{DoxyCompactList}\small\item\em remove an alternative block \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_acc111c1ee02ad714093cc55248df62cc}{get\+\_\+alt\+\_\+block\+\_\+count}} ()=0
\begin{DoxyCompactList}\small\item\em get the number of alternative blocks stored \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a90b45061b40e34d47e591f8638306312}{drop\+\_\+alt\+\_\+blocks}} ()=0
\begin{DoxyCompactList}\small\item\em drop all alternative blocks \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a0e82f640a69ca591719e92912a86c1b4}{for\+\_\+all\+\_\+txpool\+\_\+txes}} (std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&, const \mbox{\hyperlink{structcryptonote_1_1txpool__tx__meta__t}{txpool\+\_\+tx\+\_\+meta\+\_\+t}} \&, const std\+::string $\ast$)$>$, \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} include\+\_\+blob=\mbox{\hyperlink{stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}}, \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} include\+\_\+unrelayed\+\_\+txes=\mbox{\hyperlink{stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}) const =0
\begin{DoxyCompactList}\small\item\em runs a function over all txpool transactions \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a0991d43b7676ea54202551c5bc4bf722}{for\+\_\+all\+\_\+key\+\_\+images}} (std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(const \mbox{\hyperlink{structcrypto_1_1key__image}{crypto\+::key\+\_\+image}} \&)$>$) const =0
\begin{DoxyCompactList}\small\item\em runs a function over all key images stored \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac1b2d8c76f830d1337a23b9c16e5da34}{for\+\_\+blocks\+\_\+range}} (const uint64\+\_\+t \&h1, const uint64\+\_\+t \&h2, std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(uint64\+\_\+t, const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&, const \mbox{\hyperlink{structcryptonote_1_1block}{cryptonote\+::block}} \&)$>$) const =0
\begin{DoxyCompactList}\small\item\em runs a function over a range of blocks \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a692b378a22e08cf925c9b5b559c81ddd}{for\+\_\+all\+\_\+transactions}} (std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&, const \mbox{\hyperlink{classcryptonote_1_1transaction}{cryptonote\+::transaction}} \&)$>$, \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} pruned) const =0
\begin{DoxyCompactList}\small\item\em runs a function over all transactions stored \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac6d01b8385998549751a9d9b1079f1a0}{for\+\_\+all\+\_\+outputs}} (std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(uint64\+\_\+t amount, const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&tx\+\_\+hash, uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}, size\+\_\+t tx\+\_\+idx)$>$ f) const =0
\begin{DoxyCompactList}\small\item\em runs a function over all outputs stored \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a946b7fbcd7cc72a04dbea2b174c6b9d4}{for\+\_\+all\+\_\+outputs}} (uint64\+\_\+t amount, const std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}})$>$ \&f) const =0
\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a95cd17e0b581c8e927c4e8cc0bc37a69}{for\+\_\+all\+\_\+alt\+\_\+blocks}} (std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&blkid, const \mbox{\hyperlink{structcryptonote_1_1alt__block__data__t}{alt\+\_\+block\+\_\+data\+\_\+t}} \&data, const std\+::string $\ast$block\+\_\+blob, const std\+::string $\ast$checkpoint\+\_\+blob)$>$ f, \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} include\+\_\+blob=\mbox{\hyperlink{stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}}) const =0
\begin{DoxyCompactList}\small\item\em runs a function over all alternative blocks stored \end{DoxyCompactList}\item 
virtual std\+::map$<$ uint64\+\_\+t, std\+::tuple$<$ uint64\+\_\+t, uint64\+\_\+t, uint64\+\_\+t $>$ $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a1e17e2e13e5e9c9a12e732d0b9772dcb}{get\+\_\+output\+\_\+histogram}} (const std\+::vector$<$ uint64\+\_\+t $>$ \&amounts, \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} unlocked, uint64\+\_\+t recent\+\_\+cutoff, uint64\+\_\+t min\+\_\+count) const =0
\begin{DoxyCompactList}\small\item\em return a histogram of outputs on the blockchain \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a6906d045d1a1f0c94d6e2dbd2361ef0e}{get\+\_\+output\+\_\+distribution}} (uint64\+\_\+t amount, uint64\+\_\+t from\+\_\+height, uint64\+\_\+t to\+\_\+height, std\+::vector$<$ uint64\+\_\+t $>$ \&distribution, uint64\+\_\+t \&\mbox{\hyperlink{ommentedCombined_2ge__scalarmult__base_8c_af3faf1ee7f5ff97e93d7e5e1c13d3269}{base}}) const =0
\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a712a41de3896baa2ffb7e41dca20ab91}{is\+\_\+read\+\_\+only}} () const =0
\begin{DoxyCompactList}\small\item\em is \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} in read-\/only mode? \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a279ad4f2b7d59b799ca6823451293357}{get\+\_\+database\+\_\+size}} () const =0
\begin{DoxyCompactList}\small\item\em get disk space requirements \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_abee4c5f55e9647add03f74eee14a4026}{fixup}} (\mbox{\hyperlink{namespacecryptonote_a1823e8e194e85c09ac7231f927cca70a}{cryptonote\+::network\+\_\+type}} nettype)
\begin{DoxyCompactList}\small\item\em fix up anything that may be wrong due to past bugs \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a37e7744aed509893c6c7ccc2d1cb383b}{get\+\_\+output\+\_\+blacklist}} (std\+::vector$<$ uint64\+\_\+t $>$ \&blacklist) const =0
\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac18183a4ea41298176a7ccbe115deea8}{add\+\_\+output\+\_\+blacklist}} (std\+::vector$<$ uint64\+\_\+t $>$ const \&blacklist)=0
\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a4dba0223214f67c72345773d3bc04160}{set\+\_\+service\+\_\+node\+\_\+data}} (const std\+::string \&data, \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} long\+\_\+term)=0
\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3a6891ce166e6939094b126a6a779462}{get\+\_\+service\+\_\+node\+\_\+data}} (std\+::string \&data, \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} long\+\_\+term) const =0
\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_adc2e087da421c1434756c8db8a896062}{clear\+\_\+service\+\_\+node\+\_\+data}} ()=0
\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a40e209fbf58ac8fa83e5ef12707fb7ff}{get\+\_\+service\+\_\+node\+\_\+proof}} (const \mbox{\hyperlink{structcrypto_1_1public__key}{crypto\+::public\+\_\+key}} \&pubkey, \mbox{\hyperlink{structservice__nodes_1_1proof__info}{service\+\_\+nodes\+::proof\+\_\+info}} \&proof) const =0
\item 
virtual std\+::unordered\+\_\+map$<$ \mbox{\hyperlink{structcrypto_1_1public__key}{crypto\+::public\+\_\+key}}, \mbox{\hyperlink{structservice__nodes_1_1proof__info}{service\+\_\+nodes\+::proof\+\_\+info}} $>$ \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a84a54b1b8974f5a96f569aef6271b426}{get\+\_\+all\+\_\+service\+\_\+node\+\_\+proofs}} () const =0
\begin{DoxyCompactList}\small\item\em Returns pubkeys and proof data for all currently stored service nodes. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a9b9ab0c11238126efc1b5d442e14bce7}{set\+\_\+service\+\_\+node\+\_\+proof}} (const \mbox{\hyperlink{structcrypto_1_1public__key}{crypto\+::public\+\_\+key}} \&pubkey, const \mbox{\hyperlink{structservice__nodes_1_1proof__info}{service\+\_\+nodes\+::proof\+\_\+info}} \&proof)=0
\begin{DoxyCompactList}\small\item\em Creates or updates the proof data for a service node from a proof. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ad658fd1b94de70af306313f469c58fe8}{remove\+\_\+service\+\_\+node\+\_\+proof}} (const \mbox{\hyperlink{structcrypto_1_1public__key}{crypto\+::public\+\_\+key}} \&pubkey)=0
\item 
void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ad8c3e23983e9a3185554166ce6850d09}{fill\+\_\+timestamps\+\_\+and\+\_\+difficulties\+\_\+for\+\_\+pow}} (\mbox{\hyperlink{namespacecryptonote_a1823e8e194e85c09ac7231f927cca70a}{cryptonote\+::network\+\_\+type}} nettype, std\+::vector$<$ uint64\+\_\+t $>$ \&timestamps, std\+::vector$<$ uint64\+\_\+t $>$ \&difficulties, uint64\+\_\+t chain\+\_\+height, uint64\+\_\+t timestamps\+\_\+difficulty\+\_\+height) const
\item 
void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a5cb00491d93d7500c45054ca847032fb}{set\+\_\+auto\+\_\+remove\+\_\+logs}} (\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} auto\+\_\+remove)
\begin{DoxyCompactList}\small\item\em set whether or not to automatically remove logs \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a2891c246494f834687ce28f9fc036327}{init\+\_\+options}} (boost\+::program\+\_\+options\+::options\+\_\+description \&desc)
\begin{DoxyCompactList}\small\item\em init command line options \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a4ae4b3b7007c36a33044c182311e96d0}{m\+\_\+open}} = \mbox{\hyperlink{stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}}
\begin{DoxyCompactList}\small\item\em Whether or not the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} is open/ready for use. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a70de9903897a1a603f420a15a57cbd14}{G\+E\+T\+\_\+\+A\+L\+L\+\_\+\+C\+H\+E\+C\+K\+P\+O\+I\+N\+TS}} = 0
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a876432c67ca30c34f1669a4ae3da3de2}{add\+\_\+transaction}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&blk\+\_\+hash, const std\+::pair$<$ \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}}, std\+::string $>$ \&tx, const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} $\ast$tx\+\_\+hash\+\_\+ptr=N\+U\+LL, const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} $\ast$tx\+\_\+prunable\+\_\+hash\+\_\+ptr=N\+U\+LL)
\begin{DoxyCompactList}\small\item\em helper function for add\+\_\+transactions, to add each individual transaction \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::chrono\+::nanoseconds \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a39d869e2ab08c12d80db33d302a6de6d}{time\+\_\+tx\+\_\+exists}} = 0ns
\begin{DoxyCompactList}\small\item\em a performance metric \end{DoxyCompactList}\item 
std\+::chrono\+::nanoseconds \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aa9b1990c117d58b0184b13e047e801a9}{time\+\_\+commit1}} = 0ns
\begin{DoxyCompactList}\small\item\em a performance metric \end{DoxyCompactList}\item 
\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a6a25780b208624dc80018643e5983c6a}{m\+\_\+auto\+\_\+remove\+\_\+logs}} = \mbox{\hyperlink{stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}
\begin{DoxyCompactList}\small\item\em whether or not to automatically remove old logs \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a01f5fefccc7a121f8c6044942ccba927}{add\+\_\+block}} (const \mbox{\hyperlink{structcryptonote_1_1block}{block}} \&blk, size\+\_\+t block\+\_\+weight, uint64\+\_\+t long\+\_\+term\+\_\+block\+\_\+weight, const \mbox{\hyperlink{namespacecryptonote_afa000315dc9cabb236f0b077dc812d6e}{difficulty\+\_\+type}} \&cumulative\+\_\+difficulty, const uint64\+\_\+t \&coins\+\_\+generated, uint64\+\_\+t num\+\_\+rct\+\_\+outs, const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&blk\+\_\+hash)=0
\begin{DoxyCompactList}\small\item\em add the block and metadata to the db \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_afc0cd9e5d5d92fb346768eabcfbafa6a}{remove\+\_\+block}} ()=0
\begin{DoxyCompactList}\small\item\em remove data about the top block \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aac88400b1510f83ef4c95827fd3d815b}{add\+\_\+transaction\+\_\+data}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&blk\+\_\+hash, const std\+::pair$<$ \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}}, std\+::string $>$ \&tx, const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&tx\+\_\+hash, const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&tx\+\_\+prunable\+\_\+hash)=0
\begin{DoxyCompactList}\small\item\em store the transaction and its metadata \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3678260fb38cb19c8affd1ffcaeed414}{remove\+\_\+transaction\+\_\+data}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&tx\+\_\+hash, const \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} \&tx)=0
\begin{DoxyCompactList}\small\item\em remove data about a transaction \end{DoxyCompactList}\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a4b5e7bed5f737eed43b85ba58419c9e8}{add\+\_\+output}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&tx\+\_\+hash, const \mbox{\hyperlink{structcryptonote_1_1tx__out}{tx\+\_\+out}} \&tx\+\_\+output, const uint64\+\_\+t \&local\+\_\+index, const uint64\+\_\+t unlock\+\_\+time, const \mbox{\hyperlink{structrct_1_1key}{rct\+::key}} $\ast$commitment)=0
\begin{DoxyCompactList}\small\item\em store an output \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ae9bb1065d56d144e6157fd2258bec6aa}{add\+\_\+tx\+\_\+amount\+\_\+output\+\_\+indices}} (const uint64\+\_\+t tx\+\_\+id, const std\+::vector$<$ uint64\+\_\+t $>$ \&amount\+\_\+output\+\_\+indices)=0
\begin{DoxyCompactList}\small\item\em store amount output indices for a tx\textquotesingle{}s outputs \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ad046923f905835acadd722afcaa077c7}{add\+\_\+spent\+\_\+key}} (const \mbox{\hyperlink{structcrypto_1_1key__image}{crypto\+::key\+\_\+image}} \&k\+\_\+image)=0
\begin{DoxyCompactList}\small\item\em store a spent key \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a1123e8e9ebe6eb83dd5a3cb17bb45a8b}{remove\+\_\+spent\+\_\+key}} (const \mbox{\hyperlink{structcrypto_1_1key__image}{crypto\+::key\+\_\+image}} \&k\+\_\+image)=0
\begin{DoxyCompactList}\small\item\em remove a spent key \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_af486924656ac6564f5635995d50dd3aa}{pop\+\_\+block}} ()
\begin{DoxyCompactList}\small\item\em private version of pop\+\_\+block, for undoing if an add\+\_\+block fails \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a2f2f5380baf989b2616015fd0342415a}{remove\+\_\+transaction}} (const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&tx\+\_\+hash)
\begin{DoxyCompactList}\small\item\em helper function to remove transaction from the blockchain \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ad1e49b302fe4a52ca9d881e03cd0c7d0}{num\+\_\+calls}} = 0
\begin{DoxyCompactList}\small\item\em a performance metric \end{DoxyCompactList}\item 
std\+::chrono\+::nanoseconds \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ac4b8b05f8fd879c77bb7fd6dc6959a6b}{time\+\_\+blk\+\_\+hash}} = 0ns
\begin{DoxyCompactList}\small\item\em a performance metric \end{DoxyCompactList}\item 
std\+::chrono\+::nanoseconds \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a767aae6d1058ef696103778162f591b7}{time\+\_\+add\+\_\+block1}} = 0ns
\begin{DoxyCompactList}\small\item\em a performance metric \end{DoxyCompactList}\item 
std\+::chrono\+::nanoseconds \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a807d7b97a796845656263c4e1c18ea47}{time\+\_\+add\+\_\+transaction}} = 0ns
\begin{DoxyCompactList}\small\item\em a performance metric \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} backing store interface declaration/contract. 

This class provides a uniform interface for using \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} to store a blockchain. Any implementation of this class will also implement all functions exposed here, so one can use this class without knowing what implementation is being used. Refer to each pure virtual function\textquotesingle{}s documentation here when implementing a \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} subclass.

A subclass which encounters an issue should report that issue by throwing a \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}} which adequately conveys the issue. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aaf29e0968ffb8cc59c098a961fc66f3a}\label{classcryptonote_1_1BlockchainDB_aaf29e0968ffb8cc59c098a961fc66f3a}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!BlockchainDB@{BlockchainDB}}
\index{BlockchainDB@{BlockchainDB}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{BlockchainDB()}{BlockchainDB()}}
{\footnotesize\ttfamily cryptonote\+::\+Blockchain\+D\+B\+::\+Blockchain\+DB (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



An empty constructor. 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_af365f01d877b12ba937ed3c220648ed4}\label{classcryptonote_1_1BlockchainDB_af365f01d877b12ba937ed3c220648ed4}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!````~BlockchainDB@{$\sim$BlockchainDB}}
\index{````~BlockchainDB@{$\sim$BlockchainDB}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{$\sim$BlockchainDB()}{~BlockchainDB()}}
{\footnotesize\ttfamily virtual cryptonote\+::\+Blockchain\+D\+B\+::$\sim$\+Blockchain\+DB (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



An empty destructor. 



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a791b7af852f387c91b3d804f6a03c438}\label{classcryptonote_1_1BlockchainDB_a791b7af852f387c91b3d804f6a03c438}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_alt\_block@{add\_alt\_block}}
\index{add\_alt\_block@{add\_alt\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_alt\_block()}{add\_alt\_block()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+alt\+\_\+block (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{blkid,  }\item[{const \mbox{\hyperlink{structcryptonote_1_1alt__block__data__t}{cryptonote\+::alt\+\_\+block\+\_\+data\+\_\+t}} \&}]{data,  }\item[{const std\+::string \&}]{blob,  }\item[{const std\+::string $\ast$}]{checkpoint }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



add a new alternative block 


\begin{DoxyParams}{Parameters}
{\em } & blkid the block hash \\
\hline
{\em } & data\+: the metadata for the block \\
\hline
{\em } & blob\+: the block\textquotesingle{}s blob \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a1cc6b070f38ba2193007583a0523c959}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a96128b847d875897f2095c4b38278223}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a01f5fefccc7a121f8c6044942ccba927}\label{classcryptonote_1_1BlockchainDB_a01f5fefccc7a121f8c6044942ccba927}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_block@{add\_block}}
\index{add\_block@{add\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_block()}{add\_block()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+block (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcryptonote_1_1block}{block}} \&}]{blk,  }\item[{size\+\_\+t}]{block\+\_\+weight,  }\item[{uint64\+\_\+t}]{long\+\_\+term\+\_\+block\+\_\+weight,  }\item[{const \mbox{\hyperlink{namespacecryptonote_afa000315dc9cabb236f0b077dc812d6e}{difficulty\+\_\+type}} \&}]{cumulative\+\_\+difficulty,  }\item[{const uint64\+\_\+t \&}]{coins\+\_\+generated,  }\item[{uint64\+\_\+t}]{num\+\_\+rct\+\_\+outs,  }\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{blk\+\_\+hash }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



add the block and metadata to the db 

The subclass implementing this will add the specified block and block metadata to its backing store. This does not include its transactions, those are added in a separate step.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em blk} & the block to be added \\
\hline
{\em block\+\_\+weight} & the weight of the block (transactions and all) \\
\hline
{\em long\+\_\+term\+\_\+block\+\_\+weight} & the long term block weight of the block (transactions and all) \\
\hline
{\em cumulative\+\_\+difficulty} & the accumulated difficulty after this block \\
\hline
{\em coins\+\_\+generated} & the number of coins generated total after this block \\
\hline
{\em blk\+\_\+hash} & the hash of the block \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a05b028fe07e0edc63154de9320516a97}{cryptonote\+::\+Base\+Test\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a0ccf5377649f2fb12548da05270ac596}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac380af4385046eae7e6d3f74dab4c285}\label{classcryptonote_1_1BlockchainDB_ac380af4385046eae7e6d3f74dab4c285}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_block@{add\_block}}
\index{add\_block@{add\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_block()}{add\_block()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+block (\begin{DoxyParamCaption}\item[{const std\+::pair$<$ \mbox{\hyperlink{structcryptonote_1_1block}{block}}, std\+::string $>$ \&}]{blk,  }\item[{size\+\_\+t}]{block\+\_\+weight,  }\item[{uint64\+\_\+t}]{long\+\_\+term\+\_\+block\+\_\+weight,  }\item[{const \mbox{\hyperlink{namespacecryptonote_afa000315dc9cabb236f0b077dc812d6e}{difficulty\+\_\+type}} \&}]{cumulative\+\_\+difficulty,  }\item[{const uint64\+\_\+t \&}]{coins\+\_\+generated,  }\item[{const std\+::vector$<$ std\+::pair$<$ \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}}, std\+::string $>$$>$ \&}]{txs }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



handles the addition of a new block to \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} 

This function organizes block addition and calls various functions as necessary.

N\+O\+TE\+: subclass implementations of this (or the functions it calls) need to handle undoing any partially-\/added blocks in the event of a failure.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em blk} & the block to be added \\
\hline
{\em block\+\_\+weight} & the size of the block (transactions and all) \\
\hline
{\em long\+\_\+term\+\_\+block\+\_\+weight} & the long term weight of the block (transactions and all) \\
\hline
{\em cumulative\+\_\+difficulty} & the accumulated difficulty after this block \\
\hline
{\em coins\+\_\+generated} & the number of coins generated total after this block \\
\hline
{\em txs} & the transactions in the block\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the height of the chain post-\/addition 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a1cc22e6e2aca09acad65874e55e1d2b5}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aa84a571effea0b94917656448a410554}\label{classcryptonote_1_1BlockchainDB_aa84a571effea0b94917656448a410554}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_max\_block\_size@{add\_max\_block\_size}}
\index{add\_max\_block\_size@{add\_max\_block\_size}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_max\_block\_size()}{add\_max\_block\_size()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+max\+\_\+block\+\_\+size (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{sz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



add a new max block size 

The max block size will be the maximum of sz and the current block size


\begin{DoxyParams}{Parameters}
{\em } & sz the block size \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a1e4303d583eb5f8170df7809661a8133}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aac949402b83768a2c8ba4583fa22514c}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a4b5e7bed5f737eed43b85ba58419c9e8}\label{classcryptonote_1_1BlockchainDB_a4b5e7bed5f737eed43b85ba58419c9e8}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_output@{add\_output}}
\index{add\_output@{add\_output}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_output()}{add\_output()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+output (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{tx\+\_\+hash,  }\item[{const \mbox{\hyperlink{structcryptonote_1_1tx__out}{tx\+\_\+out}} \&}]{tx\+\_\+output,  }\item[{const uint64\+\_\+t \&}]{local\+\_\+index,  }\item[{const uint64\+\_\+t}]{unlock\+\_\+time,  }\item[{const \mbox{\hyperlink{structrct_1_1key}{rct\+::key}} $\ast$}]{commitment }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



store an output 

The subclass implementing this will add the output data passed to its backing store in a suitable manner. In addition, the subclass is responsible for keeping track of the global output count in some manner, so that outputs may be indexed by the order in which they were created. In the future, this tracking (of the number, at least) should be moved to this class, as it is necessary and the same among all \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}.

It returns an amount output index, which is the index of the output for its specified amount.

This data should be stored in such a manner that the only thing needed to reverse the process is the \mbox{\hyperlink{structcryptonote_1_1tx__out}{tx\+\_\+out}}.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em tx\+\_\+hash} & hash of the transaction the output was created by \\
\hline
{\em tx\+\_\+output} & the output \\
\hline
{\em local\+\_\+index} & index of the output in its transaction \\
\hline
{\em unlock\+\_\+time} & unlock time/height of the output \\
\hline
{\em commitment} & the rct commitment to the output amount \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
amount output index 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a98ad98970f53167987007bbdf241a1b0}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ae931ffa28554b61bccf2b26b25c381ee}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac18183a4ea41298176a7ccbe115deea8}\label{classcryptonote_1_1BlockchainDB_ac18183a4ea41298176a7ccbe115deea8}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_output\_blacklist@{add\_output\_blacklist}}
\index{add\_output\_blacklist@{add\_output\_blacklist}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_output\_blacklist()}{add\_output\_blacklist()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+output\+\_\+blacklist (\begin{DoxyParamCaption}\item[{std\+::vector$<$ uint64\+\_\+t $>$ const \&}]{blacklist }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a5e06ace1c3f56c035086b76b15bf5b1c}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ab5ddfb374dbba339c073203565099837}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ad046923f905835acadd722afcaa077c7}\label{classcryptonote_1_1BlockchainDB_ad046923f905835acadd722afcaa077c7}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_spent\_key@{add\_spent\_key}}
\index{add\_spent\_key@{add\_spent\_key}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_spent\_key()}{add\_spent\_key()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+spent\+\_\+key (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1key__image}{crypto\+::key\+\_\+image}} \&}]{k\+\_\+image }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



store a spent key 

The subclass implementing this will store the spent key image.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em k\+\_\+image} & the spent key image to store \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ab5682bae80b651f9a77b43d53ca8028b}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ad3a2b410edc3f80452ab825b4aa908ce}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a876432c67ca30c34f1669a4ae3da3de2}\label{classcryptonote_1_1BlockchainDB_a876432c67ca30c34f1669a4ae3da3de2}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_transaction@{add\_transaction}}
\index{add\_transaction@{add\_transaction}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_transaction()}{add\_transaction()}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+transaction (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{blk\+\_\+hash,  }\item[{const std\+::pair$<$ \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}}, std\+::string $>$ \&}]{tx,  }\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} $\ast$}]{tx\+\_\+hash\+\_\+ptr = {\ttfamily NULL},  }\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} $\ast$}]{tx\+\_\+prunable\+\_\+hash\+\_\+ptr = {\ttfamily NULL} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



helper function for add\+\_\+transactions, to add each individual transaction 

This function is called by add\+\_\+transactions() for each transaction to be added.


\begin{DoxyParams}{Parameters}
{\em blk\+\_\+hash} & hash of the block which has the transaction \\
\hline
{\em tx} & the transaction to add \\
\hline
{\em tx\+\_\+hash\+\_\+ptr} & the hash of the transaction, if already calculated \\
\hline
{\em tx\+\_\+prunable\+\_\+hash\+\_\+ptr} & the hash of the prunable part of the transaction, if already calculated \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aac88400b1510f83ef4c95827fd3d815b}\label{classcryptonote_1_1BlockchainDB_aac88400b1510f83ef4c95827fd3d815b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_transaction\_data@{add\_transaction\_data}}
\index{add\_transaction\_data@{add\_transaction\_data}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_transaction\_data()}{add\_transaction\_data()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+transaction\+\_\+data (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{blk\+\_\+hash,  }\item[{const std\+::pair$<$ \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}}, std\+::string $>$ \&}]{tx,  }\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{tx\+\_\+hash,  }\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{tx\+\_\+prunable\+\_\+hash }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



store the transaction and its metadata 

The subclass implementing this will add the specified transaction data to its backing store. This includes only the transaction blob itself and the other data passed here, not the separate outputs of the transaction.

It returns a tx ID, which is a mapping from the tx\+\_\+hash. The tx ID is used in \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_ae9bb1065d56d144e6157fd2258bec6aa}{add\+\_\+tx\+\_\+amount\+\_\+output\+\_\+indices()}}.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em blk\+\_\+hash} & the hash of the block containing the transaction \\
\hline
{\em tx} & the transaction to be added \\
\hline
{\em tx\+\_\+hash} & the hash of the transaction \\
\hline
{\em tx\+\_\+prunable\+\_\+hash} & the hash of the prunable part of the transaction \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the transaction ID 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a728c3c1091a520521ea4e31080d6fdc4}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ae9bb1065d56d144e6157fd2258bec6aa}\label{classcryptonote_1_1BlockchainDB_ae9bb1065d56d144e6157fd2258bec6aa}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_tx\_amount\_output\_indices@{add\_tx\_amount\_output\_indices}}
\index{add\_tx\_amount\_output\_indices@{add\_tx\_amount\_output\_indices}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_tx\_amount\_output\_indices()}{add\_tx\_amount\_output\_indices()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+tx\+\_\+amount\+\_\+output\+\_\+indices (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t}]{tx\+\_\+id,  }\item[{const std\+::vector$<$ uint64\+\_\+t $>$ \&}]{amount\+\_\+output\+\_\+indices }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



store amount output indices for a tx\textquotesingle{}s outputs 

The subclass implementing this will add the amount output indices to its backing store in a suitable manner. The tx\+\_\+id will be the same one that was returned from \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a4b5e7bed5f737eed43b85ba58419c9e8}{add\+\_\+output()}}.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em tx\+\_\+id} & ID of the transaction containing these outputs \\
\hline
{\em amount\+\_\+output\+\_\+indices} & the amount output indices of the transaction \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a4b742c599f2f25e41c7b5eea02a8b547}{cryptonote\+::\+Base\+Test\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a07fae818b12ab0e29d6e04df04e2546e}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a6e1da4f66dff85adac98a5d936ddf2b1}\label{classcryptonote_1_1BlockchainDB_a6e1da4f66dff85adac98a5d936ddf2b1}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!add\_txpool\_tx@{add\_txpool\_tx}}
\index{add\_txpool\_tx@{add\_txpool\_tx}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{add\_txpool\_tx()}{add\_txpool\_tx()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::add\+\_\+txpool\+\_\+tx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{txid,  }\item[{const std\+::string \&}]{blob,  }\item[{const \mbox{\hyperlink{structcryptonote_1_1txpool__tx__meta__t}{txpool\+\_\+tx\+\_\+meta\+\_\+t}} \&}]{details }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



add a txpool transaction 


\begin{DoxyParams}{Parameters}
{\em details} & the details of the transaction to add \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ab1d41a24b26b7946c5e58d6f86a5dfb7}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a044aac89923b90d5c295c40b67a269a6}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_abd6cd04f021cd399537ecded8f4a19c4}\label{classcryptonote_1_1BlockchainDB_abd6cd04f021cd399537ecded8f4a19c4}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!batch\_abort@{batch\_abort}}
\index{batch\_abort@{batch\_abort}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{batch\_abort()}{batch\_abort()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::batch\+\_\+abort (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



aborts a batch transaction 

If the subclass implements batching, this function should abort the batch it is currently on.

If no batch is in-\/progress, this function should throw a \mbox{\hyperlink{classcryptonote_1_1DB__ERROR}{D\+B\+\_\+\+E\+R\+R\+OR}}. This exception may change in the future if it is deemed necessary to have a more granular exception type for this scenario.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}} 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a7ca7674166f983847fd68f3e819528af}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ac5899092ec252fafd9a28d340377decc}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_abd978eaad5b93ffce845cbc8218d3120}\label{classcryptonote_1_1BlockchainDB_abd978eaad5b93ffce845cbc8218d3120}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!batch\_start@{batch\_start}}
\index{batch\_start@{batch\_start}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{batch\_start()}{batch\_start()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::batch\+\_\+start (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{batch\+\_\+num\+\_\+blocks = {\ttfamily 0},  }\item[{uint64\+\_\+t}]{batch\+\_\+bytes = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



tells the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} to start a new \char`\"{}batch\char`\"{} of blocks 

If the subclass implements a batching method of caching blocks in R\+AM to be added to a backing store in groups, it should start a batch which will end either when $<$batch\+\_\+num\+\_\+blocks$>$ has been added or \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3cbe654e1c4a7fbc4e4d617abbe7a3de}{batch\+\_\+stop()}} has been called. In either case, it should end the batch and write to its backing store.

If a batch is already in-\/progress, this function must return false. If a batch was started by this call, it must return true.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em batch\+\_\+num\+\_\+blocks} & number of blocks to batch together\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if we started the batch, false if already started 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a7662dd60f55e6054617410c1cf6557f0}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a26365994b639da0151bcdfed73471f71}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a3cbe654e1c4a7fbc4e4d617abbe7a3de}\label{classcryptonote_1_1BlockchainDB_a3cbe654e1c4a7fbc4e4d617abbe7a3de}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!batch\_stop@{batch\_stop}}
\index{batch\_stop@{batch\_stop}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{batch\_stop()}{batch\_stop()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::batch\+\_\+stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



ends a batch transaction 

If the subclass implements batching, this function should store the batch it is currently on and mark it finished.

If no batch is in-\/progress, this function should throw a \mbox{\hyperlink{classcryptonote_1_1DB__ERROR}{D\+B\+\_\+\+E\+R\+R\+OR}}. This exception may change in the future if it is deemed necessary to have a more granular exception type for this scenario.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}} 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ac6434bc5355b24ad10d06a3855c7e59e}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ad64c7b59348a2b2841a7fe600b2177a4}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ab4377742c7421c3d4f6bb7547ea91a2b}\label{classcryptonote_1_1BlockchainDB_ab4377742c7421c3d4f6bb7547ea91a2b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!block\_exists@{block\_exists}}
\index{block\_exists@{block\_exists}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{block\_exists()}{block\_exists()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::block\+\_\+exists (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h,  }\item[{uint64\+\_\+t $\ast$}]{height = {\ttfamily NULL} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



checks if a block exists 


\begin{DoxyParams}{Parameters}
{\em h} & the hash of the requested block \\
\hline
{\em height} & if non N\+U\+LL, returns the block\textquotesingle{}s height if found\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true of the block exists, otherwise false 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a55bd5712a316283f259d7e1fcf6f0ce7}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a4f15852a7cdee18e21227b0cd69fcfde}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ae09feed0f8305e2d8f93bb14ef31d62d}\label{classcryptonote_1_1BlockchainDB_ae09feed0f8305e2d8f93bb14ef31d62d}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!block\_rtxn\_abort@{block\_rtxn\_abort}}
\index{block\_rtxn\_abort@{block\_rtxn\_abort}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{block\_rtxn\_abort()}{block\_rtxn\_abort()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::block\+\_\+rtxn\+\_\+abort (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a48371ec2e50f77ae7836a2c523634bf1}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ae19bc13b607556e7311baed2fad4def8}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a5afbaafb4f005a4e3542201a68a5c2bf}\label{classcryptonote_1_1BlockchainDB_a5afbaafb4f005a4e3542201a68a5c2bf}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!block\_rtxn\_start@{block\_rtxn\_start}}
\index{block\_rtxn\_start@{block\_rtxn\_start}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{block\_rtxn\_start()}{block\_rtxn\_start()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::block\+\_\+rtxn\+\_\+start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a1db308d379f1829ebc799cc09392ce05}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_af4cff8bc1026e6d86e79e0dd3432c2af}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ad93bb793144ac8f24d2a17c7800e5dba}\label{classcryptonote_1_1BlockchainDB_ad93bb793144ac8f24d2a17c7800e5dba}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!block\_rtxn\_stop@{block\_rtxn\_stop}}
\index{block\_rtxn\_stop@{block\_rtxn\_stop}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{block\_rtxn\_stop()}{block\_rtxn\_stop()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::block\+\_\+rtxn\+\_\+stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aefb8db954309f103a33083a8ce6709ec}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aa8f54657539e39885ea9a961a14a7443}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_af2412ee39009c0bacc2d5bd01d2e6478}\label{classcryptonote_1_1BlockchainDB_af2412ee39009c0bacc2d5bd01d2e6478}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!block\_wtxn\_abort@{block\_wtxn\_abort}}
\index{block\_wtxn\_abort@{block\_wtxn\_abort}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{block\_wtxn\_abort()}{block\_wtxn\_abort()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::block\+\_\+wtxn\+\_\+abort (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a7e49dd3f4fa2a0cb2483db241d9b5de2}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a8e7a96178929bcfacaf5ddaaf8bf28a4}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a7490f685a94ea6e4d7bc750b635d49e2}\label{classcryptonote_1_1BlockchainDB_a7490f685a94ea6e4d7bc750b635d49e2}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!block\_wtxn\_start@{block\_wtxn\_start}}
\index{block\_wtxn\_start@{block\_wtxn\_start}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{block\_wtxn\_start()}{block\_wtxn\_start()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::block\+\_\+wtxn\+\_\+start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a68318a3060ea7998a1b13e5ae55b6f23}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a6c730225143791cfccc6b304eb6d5508}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a46cc97f10f812e1368d8f402477755f5}\label{classcryptonote_1_1BlockchainDB_a46cc97f10f812e1368d8f402477755f5}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!block\_wtxn\_stop@{block\_wtxn\_stop}}
\index{block\_wtxn\_stop@{block\_wtxn\_stop}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{block\_wtxn\_stop()}{block\_wtxn\_stop()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::block\+\_\+wtxn\+\_\+stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a9dd5c1d9a78df106227d24223ae3dfed}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aa7679a4c2a8da8d119b9e02246915b9b}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a7aff4e007e700f131c7ac0109d277e75}\label{classcryptonote_1_1BlockchainDB_a7aff4e007e700f131c7ac0109d277e75}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!can\_thread\_bulk\_indices@{can\_thread\_bulk\_indices}}
\index{can\_thread\_bulk\_indices@{can\_thread\_bulk\_indices}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{can\_thread\_bulk\_indices()}{can\_thread\_bulk\_indices()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::can\+\_\+thread\+\_\+bulk\+\_\+indices (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a0e99b70010edd76201ae23a192a5592f}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a551c6ac8cf8e43a7f5bc74bfc52b7821}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ab800cf2bb2ae218ddc914d09474c4f08}\label{classcryptonote_1_1BlockchainDB_ab800cf2bb2ae218ddc914d09474c4f08}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!check\_pruning@{check\_pruning}}
\index{check\_pruning@{check\_pruning}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{check\_pruning()}{check\_pruning()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::check\+\_\+pruning (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



checks pruning was done correctly, iff enabled 

\begin{DoxyReturn}{Returns}
success iff true 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a31d4adbac851a77f7368cb8867456ab4}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ab53991882e4d05a698a0019b7ecf865f}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_adc2e087da421c1434756c8db8a896062}\label{classcryptonote_1_1BlockchainDB_adc2e087da421c1434756c8db8a896062}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!clear\_service\_node\_data@{clear\_service\_node\_data}}
\index{clear\_service\_node\_data@{clear\_service\_node\_data}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{clear\_service\_node\_data()}{clear\_service\_node\_data()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::clear\+\_\+service\+\_\+node\+\_\+data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a4529eb088ee13a1af78d0cb3ed045080}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aa91a0e8cd65c6aa45279ec2c18c3c10c}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a3448e4bfc25a0a9f97457d7e1ff3921a}\label{classcryptonote_1_1BlockchainDB_a3448e4bfc25a0a9f97457d7e1ff3921a}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!close@{close}}
\index{close@{close}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



close the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} 

At minimum, this call ensures that further use of the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} instance will not have effect. In any case where it is necessary to do so, a subclass implementing this will sync with disk.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}} 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a44991ab736afba37681eba138371bd2e}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ab12388f967df979126f3dd52a6195722}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a90b45061b40e34d47e591f8638306312}\label{classcryptonote_1_1BlockchainDB_a90b45061b40e34d47e591f8638306312}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!drop\_alt\_blocks@{drop\_alt\_blocks}}
\index{drop\_alt\_blocks@{drop\_alt\_blocks}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{drop\_alt\_blocks()}{drop\_alt\_blocks()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::drop\+\_\+alt\+\_\+blocks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



drop all alternative blocks 



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a87c4798f84fc2379739951095f6dbbf1}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ad416949ff84da862f990d9d02416adfa}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ad8c3e23983e9a3185554166ce6850d09}\label{classcryptonote_1_1BlockchainDB_ad8c3e23983e9a3185554166ce6850d09}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!fill\_timestamps\_and\_difficulties\_for\_pow@{fill\_timestamps\_and\_difficulties\_for\_pow}}
\index{fill\_timestamps\_and\_difficulties\_for\_pow@{fill\_timestamps\_and\_difficulties\_for\_pow}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{fill\_timestamps\_and\_difficulties\_for\_pow()}{fill\_timestamps\_and\_difficulties\_for\_pow()}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::fill\+\_\+timestamps\+\_\+and\+\_\+difficulties\+\_\+for\+\_\+pow (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecryptonote_a1823e8e194e85c09ac7231f927cca70a}{cryptonote\+::network\+\_\+type}}}]{nettype,  }\item[{std\+::vector$<$ uint64\+\_\+t $>$ \&}]{timestamps,  }\item[{std\+::vector$<$ uint64\+\_\+t $>$ \&}]{difficulties,  }\item[{uint64\+\_\+t}]{chain\+\_\+height,  }\item[{uint64\+\_\+t}]{timestamps\+\_\+difficulty\+\_\+height }\end{DoxyParamCaption}) const}

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_abee4c5f55e9647add03f74eee14a4026}\label{classcryptonote_1_1BlockchainDB_abee4c5f55e9647add03f74eee14a4026}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!fixup@{fixup}}
\index{fixup@{fixup}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{fixup()}{fixup()}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::fixup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecryptonote_a1823e8e194e85c09ac7231f927cca70a}{cryptonote\+::network\+\_\+type}}}]{nettype }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



fix up anything that may be wrong due to past bugs 



Reimplemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_abee404153a4606ea4a1af4bfda14cab8}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a95cd17e0b581c8e927c4e8cc0bc37a69}\label{classcryptonote_1_1BlockchainDB_a95cd17e0b581c8e927c4e8cc0bc37a69}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!for\_all\_alt\_blocks@{for\_all\_alt\_blocks}}
\index{for\_all\_alt\_blocks@{for\_all\_alt\_blocks}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{for\_all\_alt\_blocks()}{for\_all\_alt\_blocks()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::for\+\_\+all\+\_\+alt\+\_\+blocks (\begin{DoxyParamCaption}\item[{std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&blkid, const \mbox{\hyperlink{structcryptonote_1_1alt__block__data__t}{alt\+\_\+block\+\_\+data\+\_\+t}} \&data, const std\+::string $\ast$block\+\_\+blob, const std\+::string $\ast$checkpoint\+\_\+blob)$>$}]{f,  }\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{include\+\_\+blob = {\ttfamily \mbox{\hyperlink{stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



runs a function over all alternative blocks stored 

The subclass should run the passed function for each alt block it has stored, passing (blkid, data, blob) as its parameters.

If any call to the function returns false, the subclass should return false. Otherwise, the subclass returns true.

The subclass should throw \mbox{\hyperlink{classcryptonote_1_1DB__ERROR}{D\+B\+\_\+\+E\+R\+R\+OR}} if any of the expected values are not found. Current implementations simply return false.


\begin{DoxyParams}{Parameters}
{\em std\+::function} & f the function to run\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
false if the function returns false for any output, otherwise true 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a4b26e88bc722391cf083b70f9b59028b}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a7ae6ba46369df6bc66f01d3fc817afeb}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a0991d43b7676ea54202551c5bc4bf722}\label{classcryptonote_1_1BlockchainDB_a0991d43b7676ea54202551c5bc4bf722}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!for\_all\_key\_images@{for\_all\_key\_images}}
\index{for\_all\_key\_images@{for\_all\_key\_images}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{for\_all\_key\_images()}{for\_all\_key\_images()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::for\+\_\+all\+\_\+key\+\_\+images (\begin{DoxyParamCaption}\item[{std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(const \mbox{\hyperlink{structcrypto_1_1key__image}{crypto\+::key\+\_\+image}} \&)$>$}]{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



runs a function over all key images stored 

The subclass should run the passed function for each key image it has stored, passing the key image as its parameter.

If any call to the function returns false, the subclass should return false. Otherwise, the subclass returns true.


\begin{DoxyParams}{Parameters}
{\em std\+::function} & fn the function to run\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
false if the function returns false for any key image, otherwise true 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a43dd2d3c5548ca162a330f1341c58b37}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aafe963c0da7b7d3902861c2138b0af14}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac6d01b8385998549751a9d9b1079f1a0}\label{classcryptonote_1_1BlockchainDB_ac6d01b8385998549751a9d9b1079f1a0}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!for\_all\_outputs@{for\_all\_outputs}}
\index{for\_all\_outputs@{for\_all\_outputs}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{for\_all\_outputs()}{for\_all\_outputs()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::for\+\_\+all\+\_\+outputs (\begin{DoxyParamCaption}\item[{std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(uint64\+\_\+t amount, const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&tx\+\_\+hash, uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}}, size\+\_\+t tx\+\_\+idx)$>$}]{f }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



runs a function over all outputs stored 

The subclass should run the passed function for each output it has stored, passing (amount, transaction\+\_\+hash, tx\+\_\+local\+\_\+output\+\_\+index) as its parameters.

If any call to the function returns false, the subclass should return false. Otherwise, the subclass returns true.

The subclass should throw \mbox{\hyperlink{classcryptonote_1_1DB__ERROR}{D\+B\+\_\+\+E\+R\+R\+OR}} if any of the expected values are not found. Current implementations simply return false.


\begin{DoxyParams}{Parameters}
{\em std\+::function} & f the function to run\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
false if the function returns false for any output, otherwise true 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a455f02d24ef1a1c4e1222b630e0f405a}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a74d6fc746e44342fdd1dc71c71802a9e}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a946b7fbcd7cc72a04dbea2b174c6b9d4}\label{classcryptonote_1_1BlockchainDB_a946b7fbcd7cc72a04dbea2b174c6b9d4}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!for\_all\_outputs@{for\_all\_outputs}}
\index{for\_all\_outputs@{for\_all\_outputs}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{for\_all\_outputs()}{for\_all\_outputs()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::for\+\_\+all\+\_\+outputs (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{amount,  }\item[{const std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(uint64\+\_\+t \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}{height}})$>$ \&}]{f }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a1c3defb0d18b48b8345bcd938c09328d}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_af37f1284ddadba1d8b6f92249402f245}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a692b378a22e08cf925c9b5b559c81ddd}\label{classcryptonote_1_1BlockchainDB_a692b378a22e08cf925c9b5b559c81ddd}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!for\_all\_transactions@{for\_all\_transactions}}
\index{for\_all\_transactions@{for\_all\_transactions}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{for\_all\_transactions()}{for\_all\_transactions()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::for\+\_\+all\+\_\+transactions (\begin{DoxyParamCaption}\item[{std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&, const \mbox{\hyperlink{classcryptonote_1_1transaction}{cryptonote\+::transaction}} \&)$>$}]{,  }\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{pruned }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



runs a function over all transactions stored 

The subclass should run the passed function for each transaction it has stored, passing (transaction\+\_\+hash, transaction) as its parameters.

If any call to the function returns false, the subclass should return false. Otherwise, the subclass returns true.

The subclass should throw \mbox{\hyperlink{classcryptonote_1_1DB__ERROR}{D\+B\+\_\+\+E\+R\+R\+OR}} if any of the expected values are not found. Current implementations simply return false.


\begin{DoxyParams}{Parameters}
{\em std\+::function} & fn the function to run \\
\hline
{\em bool} & pruned whether to only get pruned tx data, or the whole\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
false if the function returns false for any transaction, otherwise true 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a81083bfe265d02077c22e0b97033cb23}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_abf6c75886c116bdded381d2f16b53a32}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a0e82f640a69ca591719e92912a86c1b4}\label{classcryptonote_1_1BlockchainDB_a0e82f640a69ca591719e92912a86c1b4}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!for\_all\_txpool\_txes@{for\_all\_txpool\_txes}}
\index{for\_all\_txpool\_txes@{for\_all\_txpool\_txes}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{for\_all\_txpool\_txes()}{for\_all\_txpool\_txes()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::for\+\_\+all\+\_\+txpool\+\_\+txes (\begin{DoxyParamCaption}\item[{std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&, const \mbox{\hyperlink{structcryptonote_1_1txpool__tx__meta__t}{txpool\+\_\+tx\+\_\+meta\+\_\+t}} \&, const std\+::string $\ast$)$>$}]{,  }\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{include\+\_\+blob = {\ttfamily \mbox{\hyperlink{stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}}},  }\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{include\+\_\+unrelayed\+\_\+txes = {\ttfamily \mbox{\hyperlink{stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



runs a function over all txpool transactions 

The subclass should run the passed function for each txpool tx it has stored, passing the tx id and metadata as its parameters.

If any call to the function returns false, the subclass should return false. Otherwise, the subclass returns true.


\begin{DoxyParams}{Parameters}
{\em std\+::function} & fn the function to run\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
false if the function returns false for any transaction, otherwise true 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ad1b21b1dddd7e85a9b0fb82d795d1206}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac1b2d8c76f830d1337a23b9c16e5da34}\label{classcryptonote_1_1BlockchainDB_ac1b2d8c76f830d1337a23b9c16e5da34}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!for\_blocks\_range@{for\_blocks\_range}}
\index{for\_blocks\_range@{for\_blocks\_range}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{for\_blocks\_range()}{for\_blocks\_range()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::for\+\_\+blocks\+\_\+range (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{h1,  }\item[{const uint64\+\_\+t \&}]{h2,  }\item[{std\+::function$<$ \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}(uint64\+\_\+t, const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&, const \mbox{\hyperlink{structcryptonote_1_1block}{cryptonote\+::block}} \&)$>$}]{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



runs a function over a range of blocks 

The subclass should run the passed function for each block in the specified range, passing (block\+\_\+height, block\+\_\+hash, block) as its parameters.

If any call to the function returns false, the subclass should return false. Otherwise, the subclass returns true.

The subclass should throw \mbox{\hyperlink{classcryptonote_1_1DB__ERROR}{D\+B\+\_\+\+E\+R\+R\+OR}} if any of the expected values are not found. Current implementations simply return false.


\begin{DoxyParams}{Parameters}
{\em h1} & the start height \\
\hline
{\em h2} & the end height (inclusive) \\
\hline
{\em std\+::function} & fn the function to run\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
false if the function returns false for any block, otherwise true 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a27741f11aedf10a9e9d69f29bd1e333c}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a2b2b8a25f39a159f56c6b0f842cb4780}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a84a54b1b8974f5a96f569aef6271b426}\label{classcryptonote_1_1BlockchainDB_a84a54b1b8974f5a96f569aef6271b426}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_all\_service\_node\_proofs@{get\_all\_service\_node\_proofs}}
\index{get\_all\_service\_node\_proofs@{get\_all\_service\_node\_proofs}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_all\_service\_node\_proofs()}{get\_all\_service\_node\_proofs()}}
{\footnotesize\ttfamily virtual std\+::unordered\+\_\+map$<$\mbox{\hyperlink{structcrypto_1_1public__key}{crypto\+::public\+\_\+key}}, \mbox{\hyperlink{structservice__nodes_1_1proof__info}{service\+\_\+nodes\+::proof\+\_\+info}}$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+all\+\_\+service\+\_\+node\+\_\+proofs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Returns pubkeys and proof data for all currently stored service nodes. 



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ad87faecbb65fa72a6951519ea35b7e55}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a70697421632e7e70089f1fc54cb6e267}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ad93fe8b9fc11066ba66803c1f68af236}\label{classcryptonote_1_1BlockchainDB_ad93fe8b9fc11066ba66803c1f68af236}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_alt\_block@{get\_alt\_block}}
\index{get\_alt\_block@{get\_alt\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_alt\_block()}{get\_alt\_block()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+alt\+\_\+block (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{blkid,  }\item[{\mbox{\hyperlink{structcryptonote_1_1alt__block__data__t}{alt\+\_\+block\+\_\+data\+\_\+t}} $\ast$}]{data,  }\item[{std\+::string $\ast$}]{blob,  }\item[{std\+::string $\ast$}]{checkpoint }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



get an alternative block by hash 


\begin{DoxyParams}{Parameters}
{\em } & blkid the block hash \\
\hline
{\em } & data\+: the metadata for the block \\
\hline
{\em } & blob\+: the block\textquotesingle{}s blob\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the block was found in the alternative blocks list, false otherwise 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aa37fff4e6641bb22004ec79a53273e1f}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_acd14ad57bc2a3d9353acad8ad898c839}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_acc111c1ee02ad714093cc55248df62cc}\label{classcryptonote_1_1BlockchainDB_acc111c1ee02ad714093cc55248df62cc}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_alt\_block\_count@{get\_alt\_block\_count}}
\index{get\_alt\_block\_count@{get\_alt\_block\_count}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_alt\_block\_count()}{get\_alt\_block\_count()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+alt\+\_\+block\+\_\+count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



get the number of alternative blocks stored 



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a54a984907f2ff44246a8dde792c4e97b}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aa3233da792c3ead0b7aed26c6a2a0e80}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_adf46cd64ad8cbeb1deef918e85d8536b}\label{classcryptonote_1_1BlockchainDB_adf46cd64ad8cbeb1deef918e85d8536b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_alt\_block\_header@{get\_alt\_block\_header}}
\index{get\_alt\_block\_header@{get\_alt\_block\_header}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_alt\_block\_header()}{get\_alt\_block\_header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+alt\+\_\+block\+\_\+header (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{blkid,  }\item[{\mbox{\hyperlink{structcryptonote_1_1alt__block__data__t}{alt\+\_\+block\+\_\+data\+\_\+t}} $\ast$}]{data,  }\item[{\mbox{\hyperlink{structcryptonote_1_1block__header}{cryptonote\+::block\+\_\+header}} $\ast$}]{header,  }\item[{std\+::string $\ast$}]{checkpoint }\end{DoxyParamCaption}) const}



get the block header from the alternative block db 


\begin{DoxyParams}{Parameters}
{\em } & blkid\+: the block hash \\
\hline
{\em } & data\+: the metadata for the block \\
\hline
{\em } & header\+: the alt block\textquotesingle{}s header \\
\hline
{\em } & checkpoint\+: the Service Nodee checkpoint associated with the block\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the block was found in the alternative blocks list, false otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a57633ec111370c760a2242ba87c73a24}\label{classcryptonote_1_1BlockchainDB_a57633ec111370c760a2242ba87c73a24}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block@{get\_block}}
\index{get\_block@{get\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block()}{get\_block()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcryptonote_1_1block}{block}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h }\end{DoxyParamCaption}) const}



fetches the block with the given hash 

Returns the requested block.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the block requested 
\end{DoxyReturn}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a857ef0027e28136d36fdf87b6840b98a}\label{classcryptonote_1_1BlockchainDB_a857ef0027e28136d36fdf87b6840b98a}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_already\_generated\_coins@{get\_block\_already\_generated\_coins}}
\index{get\_block\_already\_generated\_coins@{get\_block\_already\_generated\_coins}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_already\_generated\_coins()}{get\_block\_already\_generated\_coins()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+already\+\_\+generated\+\_\+coins (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block\textquotesingle{}s already generated coins 

The subclass should return the total coins generated as of the block with the given height.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the already generated coins 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a59cdb1c414b94bb5985d93da338177d8}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a9a4fdb156499b1fd2a2ad6fee7b14c22}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a42996ce32cb1bc99f4866b243284cde0}\label{classcryptonote_1_1BlockchainDB_a42996ce32cb1bc99f4866b243284cde0}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_blob@{get\_block\_blob}}
\index{get\_block\_blob@{get\_block\_blob}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_blob()}{get\_block\_blob()}}
{\footnotesize\ttfamily virtual std\+::string cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+blob (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches the block with the given hash 

The subclass should return the requested block.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the block requested 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a323b40ee9670312ab4f022f0c4227c4f}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a1a690ff10eb8efbb301b73a1149ab5c8}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a50143c7b141aace7e9503e2dbb90ec20}\label{classcryptonote_1_1BlockchainDB_a50143c7b141aace7e9503e2dbb90ec20}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_blob\_from\_height@{get\_block\_blob\_from\_height}}
\index{get\_block\_blob\_from\_height@{get\_block\_blob\_from\_height}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_blob\_from\_height()}{get\_block\_blob\_from\_height()}}
{\footnotesize\ttfamily virtual std\+::string cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+blob\+\_\+from\+\_\+height (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block blob by height 

The subclass should return the block at the given height.

If the block does not exist, that is to say if the blockchain is not that high, then the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the block blob 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aa5e8386afb1f26ebb1b6a93946d5af85}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a850414871d2db13e2e023d22227a1012}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a53a5ee660518ec8931475d2cef93e90b}\label{classcryptonote_1_1BlockchainDB_a53a5ee660518ec8931475d2cef93e90b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_checkpoint@{get\_block\_checkpoint}}
\index{get\_block\_checkpoint@{get\_block\_checkpoint}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_checkpoint()}{get\_block\_checkpoint()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+checkpoint (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{height,  }\item[{\mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}} \&}]{checkpoint }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a49e1d572d1883bd8ef42bec176a7aa07}{cryptonote\+::\+Base\+Test\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a568fd2fc367f42f2d95b0a5db622145b}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a974de4802b1a27443a01415075cbe5de}\label{classcryptonote_1_1BlockchainDB_a974de4802b1a27443a01415075cbe5de}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_cumulative\_difficulty@{get\_block\_cumulative\_difficulty}}
\index{get\_block\_cumulative\_difficulty@{get\_block\_cumulative\_difficulty}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_cumulative\_difficulty()}{get\_block\_cumulative\_difficulty()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespacecryptonote_afa000315dc9cabb236f0b077dc812d6e}{difficulty\+\_\+type}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+cumulative\+\_\+difficulty (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block\textquotesingle{}s cumulative difficulty 

The subclass should return the cumulative difficulty of the block with the given height.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the cumulative difficulty 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aa48ea1574b7565a9969acc61ba23e256}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a2411ceb81e417caf52cbefb560a19246}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a98d784cdf244a6827dd5f9afbe3ef1a2}\label{classcryptonote_1_1BlockchainDB_a98d784cdf244a6827dd5f9afbe3ef1a2}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_cumulative\_rct\_outputs@{get\_block\_cumulative\_rct\_outputs}}
\index{get\_block\_cumulative\_rct\_outputs@{get\_block\_cumulative\_rct\_outputs}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_cumulative\_rct\_outputs()}{get\_block\_cumulative\_rct\_outputs()}}
{\footnotesize\ttfamily virtual std\+::vector$<$uint64\+\_\+t$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+cumulative\+\_\+rct\+\_\+outputs (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ uint64\+\_\+t $>$ \&}]{heights }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block\textquotesingle{}s cumulative number of rct outputs 

The subclass should return the numer of rct outputs in the blockchain up to the block with the given height (inclusive).

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the cumulative number of rct outputs 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a7778cf04a0d4bf6dd292e95e2da54dcd}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ae11bc4f77d9a6186f2f1937b9be1dc91}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ad3a53da9a61b8a9a9e8a04e62880169d}\label{classcryptonote_1_1BlockchainDB_ad3a53da9a61b8a9a9e8a04e62880169d}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_difficulty@{get\_block\_difficulty}}
\index{get\_block\_difficulty@{get\_block\_difficulty}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_difficulty()}{get\_block\_difficulty()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespacecryptonote_afa000315dc9cabb236f0b077dc812d6e}{difficulty\+\_\+type}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+difficulty (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block\textquotesingle{}s difficulty 

The subclass should return the difficulty of the block with the given height.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the difficulty 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a5dcca622692a1da278836fa98f010513}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a3dec8698e68c402a514e0540a1e0aebd}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aab956fbb07fa7b46c8e137a75357f0f7}\label{classcryptonote_1_1BlockchainDB_aab956fbb07fa7b46c8e137a75357f0f7}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_from\_height@{get\_block\_from\_height}}
\index{get\_block\_from\_height@{get\_block\_from\_height}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_from\_height()}{get\_block\_from\_height()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{structcryptonote_1_1block}{block}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+from\+\_\+height (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block by height 

If the block does not exist, that is to say if the blockchain is not that high, then the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the block 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ae7f5dcba86096a6460030fd94956e05f}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_af67fbddeb82ee2c1b625999b78be2bb5}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ae5bdebba8e8372815db8c42af1cde25f}\label{classcryptonote_1_1BlockchainDB_ae5bdebba8e8372815db8c42af1cde25f}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_hash\_from\_height@{get\_block\_hash\_from\_height}}
\index{get\_block\_hash\_from\_height@{get\_block\_hash\_from\_height}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_hash\_from\_height()}{get\_block\_hash\_from\_height()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+hash\+\_\+from\+\_\+height (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block\textquotesingle{}s hash 

The subclass should return hash of the block with the given height.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the hash 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a1a5c9e0aac8db1aed085cf8e1eb16745}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a10dbfa0d721350a0aae55d81e31f29b8}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aa0863845925d5900c0856db0ec5407ab}\label{classcryptonote_1_1BlockchainDB_aa0863845925d5900c0856db0ec5407ab}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_header@{get\_block\_header}}
\index{get\_block\_header@{get\_block\_header}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_header()}{get\_block\_header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcryptonote_1_1block__header}{block\+\_\+header}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+header (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h }\end{DoxyParamCaption}) const}



fetch a block header 

The subclass should return the block header from the block with the given hash.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the block header 
\end{DoxyReturn}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a767aa5b8c0698c66ff9884ffe86e55f0}\label{classcryptonote_1_1BlockchainDB_a767aa5b8c0698c66ff9884ffe86e55f0}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_header\_from\_height@{get\_block\_header\_from\_height}}
\index{get\_block\_header\_from\_height@{get\_block\_header\_from\_height}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_header\_from\_height()}{get\_block\_header\_from\_height()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{structcryptonote_1_1block__header}{block\+\_\+header}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+header\+\_\+from\+\_\+height (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block header with height 

The subclass should return the block header from the block with the given hash.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em h} & the height to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the block header 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a12e2a91b51e7e94d96b190268efcbddd}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a92521f86a07880025e1026fb5bcf888a}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a3fd7014d6fe3ed4cca74401dd98cb771}\label{classcryptonote_1_1BlockchainDB_a3fd7014d6fe3ed4cca74401dd98cb771}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_height@{get\_block\_height}}
\index{get\_block\_height@{get\_block\_height}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_height()}{get\_block\_height()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+height (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



gets the height of the block with a given hash 

The subclass should return the requested height.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the height 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a6e1fafa76250eef39f3a0a29de68e8c7}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a3bea3674e4db131a30fd938a263ba807}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ad3af37563e431371074942355a2d79f4}\label{classcryptonote_1_1BlockchainDB_ad3af37563e431371074942355a2d79f4}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_long\_term\_weight@{get\_block\_long\_term\_weight}}
\index{get\_block\_long\_term\_weight@{get\_block\_long\_term\_weight}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_long\_term\_weight()}{get\_block\_long\_term\_weight()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+long\+\_\+term\+\_\+weight (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block\textquotesingle{}s long term weight 

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the long term weight 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a80141f78e3cd47a072ad0ee168ef0cc2}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_abb4828e3e4e46ed5f1d3ddf53a09cacf}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ae0b7135ab594b2685568748576c478d9}\label{classcryptonote_1_1BlockchainDB_ae0b7135ab594b2685568748576c478d9}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_timestamp@{get\_block\_timestamp}}
\index{get\_block\_timestamp@{get\_block\_timestamp}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_timestamp()}{get\_block\_timestamp()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+timestamp (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block\textquotesingle{}s timestamp 

The subclass should return the timestamp of the block with the given height.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the timestamp 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a323e42c15b2b68f7c8b144797a9b50e4}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a5b1e3fdb03bcb86821c9fb2506fb85b1}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aa45d0a5c8e1fd2a31a634754fcca618d}\label{classcryptonote_1_1BlockchainDB_aa45d0a5c8e1fd2a31a634754fcca618d}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_weight@{get\_block\_weight}}
\index{get\_block\_weight@{get\_block\_weight}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_weight()}{get\_block\_weight()}}
{\footnotesize\ttfamily virtual size\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+weight (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a block\textquotesingle{}s weight 

The subclass should return the weight of the block with the given height.

If the block does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}


\begin{DoxyParams}{Parameters}
{\em height} & the height requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the weight 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a67b613b095e9d81e292615742a68b50c}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a7b2d1fb4e19ab3974597dc94d41d9a86}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a70a29664ff4687d6bce957a3afd4bb23}\label{classcryptonote_1_1BlockchainDB_a70a29664ff4687d6bce957a3afd4bb23}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_block\_weights@{get\_block\_weights}}
\index{get\_block\_weights@{get\_block\_weights}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_block\_weights()}{get\_block\_weights()}}
{\footnotesize\ttfamily virtual std\+::vector$<$uint64\+\_\+t$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+block\+\_\+weights (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{start\+\_\+height,  }\item[{size\+\_\+t}]{count }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch the last N blocks\textquotesingle{} weights 

If there are fewer than N blocks, the returned array will be smaller than N


\begin{DoxyParams}{Parameters}
{\em count} & the number of blocks requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the weights 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ad8f98ec5eef4072b7258d9e6449db3ab}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a517edb688094622364d11058df323ad2}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a895755473aef6f558f290ad34a9c58b8}\label{classcryptonote_1_1BlockchainDB_a895755473aef6f558f290ad34a9c58b8}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_blockchain\_pruning\_seed@{get\_blockchain\_pruning\_seed}}
\index{get\_blockchain\_pruning\_seed@{get\_blockchain\_pruning\_seed}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_blockchain\_pruning\_seed()}{get\_blockchain\_pruning\_seed()}}
{\footnotesize\ttfamily virtual uint32\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+blockchain\+\_\+pruning\+\_\+seed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



get the blockchain pruning seed 

\begin{DoxyReturn}{Returns}
the blockchain pruning seed 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a6b839da9876e9fff6204f38a516dcfaf}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_abc84a94769e720c22137ac8dbcf906da}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a78105c7f37ecd91f74404434e858a832}\label{classcryptonote_1_1BlockchainDB_a78105c7f37ecd91f74404434e858a832}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_blocks\_range@{get\_blocks\_range}}
\index{get\_blocks\_range@{get\_blocks\_range}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_blocks\_range()}{get\_blocks\_range()}}
{\footnotesize\ttfamily virtual std\+::vector$<$\mbox{\hyperlink{structcryptonote_1_1block}{block}}$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+blocks\+\_\+range (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{h1,  }\item[{const uint64\+\_\+t \&}]{h2 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a list of blocks 

The subclass should return a vector of blocks with heights starting at h1 and ending at h2, inclusively.

If the height range requested goes past the end of the blockchain, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}. (current implementations simply don\textquotesingle{}t catch this exception as thrown by methods called within)


\begin{DoxyParams}{Parameters}
{\em h1} & the start height \\
\hline
{\em h2} & the end height\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a vector of blocks 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_af4b6ea51db86a56fa1deba41db949137}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aad49646ef5deaa9454ec69c9da71485a}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ae3cc4175208f0832764e4255b95e7b6a}\label{classcryptonote_1_1BlockchainDB_ae3cc4175208f0832764e4255b95e7b6a}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_checkpoints\_range@{get\_checkpoints\_range}}
\index{get\_checkpoints\_range@{get\_checkpoints\_range}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_checkpoints\_range()}{get\_checkpoints\_range()}}
{\footnotesize\ttfamily virtual std\+::vector$<$\mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}}$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+checkpoints\+\_\+range (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{start,  }\item[{uint64\+\_\+t}]{end,  }\item[{size\+\_\+t}]{num\+\_\+desired\+\_\+checkpoints = {\ttfamily \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a70de9903897a1a603f420a15a57cbd14}{G\+E\+T\+\_\+\+A\+L\+L\+\_\+\+C\+H\+E\+C\+K\+P\+O\+I\+N\+TS}}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_af4a929f1921ab0da3bcd1bfe802b4e35}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a06b306d6fe1e711d7f5d787058531a81}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a279ad4f2b7d59b799ca6823451293357}\label{classcryptonote_1_1BlockchainDB_a279ad4f2b7d59b799ca6823451293357}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_database\_size@{get\_database\_size}}
\index{get\_database\_size@{get\_database\_size}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_database\_size()}{get\_database\_size()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+database\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



get disk space requirements 

\begin{DoxyReturn}{Returns}
the size required 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a715b28f6ff892b8bac403289b3c4b414}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a20f44a791e3676305061bcd68012e0a4}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a7bd482e1a1e5dcb581437c998f91689d}\label{classcryptonote_1_1BlockchainDB_a7bd482e1a1e5dcb581437c998f91689d}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_db\_name@{get\_db\_name}}
\index{get\_db\_name@{get\_db\_name}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_db\_name()}{get\_db\_name()}}
{\footnotesize\ttfamily virtual std\+::string cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+db\+\_\+name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



gets the name of the folder the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}\textquotesingle{}s file(s) should be in 

The subclass implementation should return the name of the folder in which it stores files, or an empty string if there is none.

\begin{DoxyReturn}{Returns}
the name of the folder with the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}\textquotesingle{}s files, if any. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a672218cf247269c4c3e24a1686190889}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a98590a58265a48ff0ce91c63875b3807}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a68498c1a8845625b3abd3108384d3df8}\label{classcryptonote_1_1BlockchainDB_a68498c1a8845625b3abd3108384d3df8}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_filenames@{get\_filenames}}
\index{get\_filenames@{get\_filenames}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_filenames()}{get\_filenames()}}
{\footnotesize\ttfamily virtual std\+::vector$<$fs\+::path$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+filenames (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



get all files used by the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} (if any) 

This function is largely for ease of automation, namely for unit tests.

The subclass implementation should return all filenames it uses.

\begin{DoxyReturn}{Returns}
a list of filenames 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_abb1e5829d7d2cba7392fd7d8590c8b30}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a2e68d6b77c863e9633f9281736c36b83}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a1664a041ad54b95ad24a76a68a82ed89}\label{classcryptonote_1_1BlockchainDB_a1664a041ad54b95ad24a76a68a82ed89}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_hashes\_range@{get\_hashes\_range}}
\index{get\_hashes\_range@{get\_hashes\_range}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_hashes\_range()}{get\_hashes\_range()}}
{\footnotesize\ttfamily virtual std\+::vector$<$\mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}}$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+hashes\+\_\+range (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{h1,  }\item[{const uint64\+\_\+t \&}]{h2 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a list of block hashes 

The subclass should return a vector of block hashes from blocks with heights starting at h1 and ending at h2, inclusively.

If the height range requested goes past the end of the blockchain, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1BLOCK__DNE}{B\+L\+O\+C\+K\+\_\+\+D\+NE}}. (current implementations simply don\textquotesingle{}t catch this exception as thrown by methods called within)


\begin{DoxyParams}{Parameters}
{\em h1} & the start height \\
\hline
{\em h2} & the end height\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a vector of block hashes 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a4add8932f411d54315b10e499b98d8f5}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_af6f1a2a76a89e7c4a280c41def6d0bf0}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a257fd34fef63dc90efce90b48eb098e3}\label{classcryptonote_1_1BlockchainDB_a257fd34fef63dc90efce90b48eb098e3}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_immutable\_checkpoint@{get\_immutable\_checkpoint}}
\index{get\_immutable\_checkpoint@{get\_immutable\_checkpoint}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_immutable\_checkpoint()}{get\_immutable\_checkpoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+immutable\+\_\+checkpoint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}} $\ast$}]{immutable\+\_\+checkpoint,  }\item[{uint64\+\_\+t}]{block\+\_\+height }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac063909edcc2bb826297b2fd3f1fed72}\label{classcryptonote_1_1BlockchainDB_ac063909edcc2bb826297b2fd3f1fed72}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_indexing\_base@{get\_indexing\_base}}
\index{get\_indexing\_base@{get\_indexing\_base}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_indexing\_base()}{get\_indexing\_base()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+indexing\+\_\+base (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



return index of the first element (should be hidden, but isn\textquotesingle{}t) 

\begin{DoxyReturn}{Returns}
the index 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a1ed03729aed557d35be9eb47e9688095}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac4fb16efa9e65d5ca0848d3b95d372ca}\label{classcryptonote_1_1BlockchainDB_ac4fb16efa9e65d5ca0848d3b95d372ca}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_long\_term\_block\_weights@{get\_long\_term\_block\_weights}}
\index{get\_long\_term\_block\_weights@{get\_long\_term\_block\_weights}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_long\_term\_block\_weights()}{get\_long\_term\_block\_weights()}}
{\footnotesize\ttfamily virtual std\+::vector$<$uint64\+\_\+t$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+long\+\_\+term\+\_\+block\+\_\+weights (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{start\+\_\+height,  }\item[{size\+\_\+t}]{count }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch the last N blocks\textquotesingle{} long term weights 

If there are fewer than N blocks, the returned array will be smaller than N


\begin{DoxyParams}{Parameters}
{\em count} & the number of blocks requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the weights 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ab303a0b8855d37c8ed94764ef9b6b13b}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a7fbc64d3d2cd0666579382a053d72d3c}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a076abb45426def4aa530eb3b3440f8be}\label{classcryptonote_1_1BlockchainDB_a076abb45426def4aa530eb3b3440f8be}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_max\_block\_size@{get\_max\_block\_size}}
\index{get\_max\_block\_size@{get\_max\_block\_size}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_max\_block\_size()}{get\_max\_block\_size()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+max\+\_\+block\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



get the max block size 



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a6c86cf1d88b92ef2d38c70af17474ae8}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a58d6910e3159d6871320630197c768f9}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a827c727d888d3bbfd6ba20b0615c78ba}\label{classcryptonote_1_1BlockchainDB_a827c727d888d3bbfd6ba20b0615c78ba}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_num\_outputs@{get\_num\_outputs}}
\index{get\_num\_outputs@{get\_num\_outputs}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_num\_outputs()}{get\_num\_outputs()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+num\+\_\+outputs (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{amount }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches the number of outputs of a given amount 

The subclass should return a count of outputs of the given amount, or zero if there are none.


\begin{DoxyParams}{Parameters}
{\em amount} & the output amount being looked up\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of outputs of the given amount 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_adebcf763c6004b27750361cddfde35b9}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ac427c665bb99da6644277aeec172edd2}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a37e7744aed509893c6c7ccc2d1cb383b}\label{classcryptonote_1_1BlockchainDB_a37e7744aed509893c6c7ccc2d1cb383b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_output\_blacklist@{get\_output\_blacklist}}
\index{get\_output\_blacklist@{get\_output\_blacklist}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_output\_blacklist()}{get\_output\_blacklist()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+output\+\_\+blacklist (\begin{DoxyParamCaption}\item[{std\+::vector$<$ uint64\+\_\+t $>$ \&}]{blacklist }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aea5ab78e4ab79fd8430f9a2d9181e04a}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ac0987ec60f99bf375048c5b6525a076b}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a6906d045d1a1f0c94d6e2dbd2361ef0e}\label{classcryptonote_1_1BlockchainDB_a6906d045d1a1f0c94d6e2dbd2361ef0e}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_output\_distribution@{get\_output\_distribution}}
\index{get\_output\_distribution@{get\_output\_distribution}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_output\_distribution()}{get\_output\_distribution()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+output\+\_\+distribution (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{amount,  }\item[{uint64\+\_\+t}]{from\+\_\+height,  }\item[{uint64\+\_\+t}]{to\+\_\+height,  }\item[{std\+::vector$<$ uint64\+\_\+t $>$ \&}]{distribution,  }\item[{uint64\+\_\+t \&}]{base }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a8dc7ce2d224d7e4ae98cd2c071bd60d3}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a32aa978ae3b82cdfbb9c24a4529afbc6}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a1e17e2e13e5e9c9a12e732d0b9772dcb}\label{classcryptonote_1_1BlockchainDB_a1e17e2e13e5e9c9a12e732d0b9772dcb}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_output\_histogram@{get\_output\_histogram}}
\index{get\_output\_histogram@{get\_output\_histogram}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_output\_histogram()}{get\_output\_histogram()}}
{\footnotesize\ttfamily virtual std\+::map$<$uint64\+\_\+t, std\+::tuple$<$uint64\+\_\+t, uint64\+\_\+t, uint64\+\_\+t$>$ $>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+output\+\_\+histogram (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ uint64\+\_\+t $>$ \&}]{amounts,  }\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{unlocked,  }\item[{uint64\+\_\+t}]{recent\+\_\+cutoff,  }\item[{uint64\+\_\+t}]{min\+\_\+count }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



return a histogram of outputs on the blockchain 


\begin{DoxyParams}{Parameters}
{\em amounts} & optional set of amounts to lookup \\
\hline
{\em unlocked} & whether to restrict count to unlocked outputs \\
\hline
{\em recent\+\_\+cutoff} & timestamp to determine whether an output is recent \\
\hline
{\em min\+\_\+count} & return only amounts with at least that many instances\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a set of amount/instances 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a19596180e2c9d4b4b4dc6997bc79318b}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a51bd717af2bc2824e759059aae5782df}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a2d039d79b413030eff7bc4c6fa18e5e5}\label{classcryptonote_1_1BlockchainDB_a2d039d79b413030eff7bc4c6fa18e5e5}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_output\_key@{get\_output\_key}}
\index{get\_output\_key@{get\_output\_key}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_output\_key()}{get\_output\_key()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+output\+\_\+key (\begin{DoxyParamCaption}\item[{const epee\+::span$<$ const uint64\+\_\+t $>$ \&}]{amounts,  }\item[{const std\+::vector$<$ uint64\+\_\+t $>$ \&}]{offsets,  }\item[{std\+::vector$<$ \mbox{\hyperlink{structcryptonote_1_1output__data__t}{output\+\_\+data\+\_\+t}} $>$ \&}]{outputs,  }\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{allow\+\_\+partial = {\ttfamily \mbox{\hyperlink{stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



gets outputs\textquotesingle{} data 

This function is a mirror of get\+\_\+output\+\_\+data(const uint64\+\_\+t\& amount, const uint64\+\_\+t\& index) but for a list of outputs rather than just one.


\begin{DoxyParams}{Parameters}
{\em amounts} & an output amount, or as many as offsets \\
\hline
{\em offsets} & a list of amount-\/specific output indices \\
\hline
{\em outputs} & return-\/by-\/reference a list of outputs\textquotesingle{} metadata \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_adeed7ae491746f853c6ed2d631b94c53}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac8b65f0f5d3d227a3fd30dfac0e49b0e}\label{classcryptonote_1_1BlockchainDB_ac8b65f0f5d3d227a3fd30dfac0e49b0e}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_output\_key@{get\_output\_key}}
\index{get\_output\_key@{get\_output\_key}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_output\_key()}{get\_output\_key()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{structcryptonote_1_1output__data__t}{output\+\_\+data\+\_\+t}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+output\+\_\+key (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{amount,  }\item[{const uint64\+\_\+t \&}]{index,  }\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{include\+\_\+commitmemt = {\ttfamily \mbox{\hyperlink{stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



get some of an output\textquotesingle{}s data 

The subclass should return the public key, unlock time, and block height for the output with the given amount and index, collected in a struct.

If the output cannot be found, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1OUTPUT__DNE}{O\+U\+T\+P\+U\+T\+\_\+\+D\+NE}}.

If any of these parts cannot be found, but some are, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1DB__ERROR}{D\+B\+\_\+\+E\+R\+R\+OR}} with a message stating as much.


\begin{DoxyParams}{Parameters}
{\em amount} & the output amount \\
\hline
{\em index} & the output\textquotesingle{}s index (indexed by amount)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the requested output data 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a47f76b188c39914e36204a5eae70e925}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a1dd4a3e31c36553716241878a717a98f}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a3d27f453e0ab34b556fac3a1edfa1d1d}\label{classcryptonote_1_1BlockchainDB_a3d27f453e0ab34b556fac3a1edfa1d1d}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_output\_tx\_and\_index@{get\_output\_tx\_and\_index}}
\index{get\_output\_tx\_and\_index@{get\_output\_tx\_and\_index}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_output\_tx\_and\_index()}{get\_output\_tx\_and\_index()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+output\+\_\+tx\+\_\+and\+\_\+index (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{amount,  }\item[{const std\+::vector$<$ uint64\+\_\+t $>$ \&}]{offsets,  }\item[{std\+::vector$<$ \mbox{\hyperlink{namespacecryptonote_ab982387d5cfb1211fdef0fd7e5fb1266}{tx\+\_\+out\+\_\+index}} $>$ \&}]{indices }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



gets some outputs\textquotesingle{} tx hashes and indices 

This function is a mirror of get\+\_\+output\+\_\+tx\+\_\+and\+\_\+index(const uint64\+\_\+t\& amount, const uint64\+\_\+t\& index), but for a list of outputs rather than just one.


\begin{DoxyParams}{Parameters}
{\em amount} & an output amount \\
\hline
{\em offsets} & a list of amount-\/specific output indices \\
\hline
{\em indices} & return-\/by-\/reference a list of tx hashes and output indices (as pairs) \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a9446bc5a8ceea02ac462bfc221cc2c6f}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a8a596514a464b819fa2b0187b8ae2b2b}\label{classcryptonote_1_1BlockchainDB_a8a596514a464b819fa2b0187b8ae2b2b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_output\_tx\_and\_index@{get\_output\_tx\_and\_index}}
\index{get\_output\_tx\_and\_index@{get\_output\_tx\_and\_index}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_output\_tx\_and\_index()}{get\_output\_tx\_and\_index()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespacecryptonote_ab982387d5cfb1211fdef0fd7e5fb1266}{tx\+\_\+out\+\_\+index}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+output\+\_\+tx\+\_\+and\+\_\+index (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{amount,  }\item[{const uint64\+\_\+t \&}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



gets an output\textquotesingle{}s tx hash and index 

The subclass should return the hash of the transaction which created the output with the amount and index given, as well as its index in that transaction.


\begin{DoxyParams}{Parameters}
{\em amount} & an output amount \\
\hline
{\em index} & an output\textquotesingle{}s amount-\/specific index\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the tx hash and output index 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_af3722e7487895eb2490bf4976dde61e9}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a049def5f464f6f6fcd7df4783219ac64}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a25a299c1d0f10875d4027b7582c039f3}\label{classcryptonote_1_1BlockchainDB_a25a299c1d0f10875d4027b7582c039f3}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_output\_tx\_and\_index\_from\_global@{get\_output\_tx\_and\_index\_from\_global}}
\index{get\_output\_tx\_and\_index\_from\_global@{get\_output\_tx\_and\_index\_from\_global}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_output\_tx\_and\_index\_from\_global()}{get\_output\_tx\_and\_index\_from\_global()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespacecryptonote_ab982387d5cfb1211fdef0fd7e5fb1266}{tx\+\_\+out\+\_\+index}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+output\+\_\+tx\+\_\+and\+\_\+index\+\_\+from\+\_\+global (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t \&}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



gets an output\textquotesingle{}s tx hash and index 

The subclass should return the hash of the transaction which created the output with the global index given, as well as its index in that transaction.


\begin{DoxyParams}{Parameters}
{\em index} & an output\textquotesingle{}s global index\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the tx hash and output index 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ad63e7bbc95e5b14c09795be484ba7a31}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aac4c57c16a0930a85cd76dad6d3b30ee}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a17e7793b8469f24d02f79a017d41df6c}\label{classcryptonote_1_1BlockchainDB_a17e7793b8469f24d02f79a017d41df6c}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_output\_unlock\_time@{get\_output\_unlock\_time}}
\index{get\_output\_unlock\_time@{get\_output\_unlock\_time}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_output\_unlock\_time()}{get\_output\_unlock\_time()}}
{\footnotesize\ttfamily uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+output\+\_\+unlock\+\_\+time (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t}]{amount,  }\item[{const uint64\+\_\+t}]{global\+\_\+index }\end{DoxyParamCaption}) const}



fetch an output\textquotesingle{}s unlock time/height 

The subclass should return the stored unlock time for the output with the given amount and output amount index.

If no such output exists, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1OUTPUT__DNE}{O\+U\+T\+P\+U\+T\+\_\+\+D\+NE}}.


\begin{DoxyParams}{Parameters}
{\em amount} & the amount of the requested output \\
\hline
{\em amount\+\_\+index} & the amount index of the requested output\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the unlock time/height 
\end{DoxyReturn}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a3def9ec77af8a5bdb92da301d2f9478c}\label{classcryptonote_1_1BlockchainDB_a3def9ec77af8a5bdb92da301d2f9478c}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_prunable\_tx\_blob@{get\_prunable\_tx\_blob}}
\index{get\_prunable\_tx\_blob@{get\_prunable\_tx\_blob}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_prunable\_tx\_blob()}{get\_prunable\_tx\_blob()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+prunable\+\_\+tx\+\_\+blob (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h,  }\item[{std\+::string \&}]{tx }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches the prunable transaction blob with the given hash 

The subclass should return the prunable transaction stored which has the given hash.

If the transaction does not exist, or if we do not have that prunable data, the subclass should return false.


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true iff the transaction was found and we have its prunable data 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a88ed1376620aca4f92ac2f56bda5006a}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_af42ad0eef700a5f2f9bc3d6289febdbd}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a19fba67e7cbcd0ce969571b086d0f62b}\label{classcryptonote_1_1BlockchainDB_a19fba67e7cbcd0ce969571b086d0f62b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_prunable\_tx\_hash@{get\_prunable\_tx\_hash}}
\index{get\_prunable\_tx\_hash@{get\_prunable\_tx\_hash}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_prunable\_tx\_hash()}{get\_prunable\_tx\_hash()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+prunable\+\_\+tx\+\_\+hash (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{tx\+\_\+hash,  }\item[{\mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{prunable\+\_\+hash }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches the prunable transaction hash 

The subclass should return the hash of the prunable transaction data.

If the transaction hash does not exist, the subclass should return false.


\begin{DoxyParams}{Parameters}
{\em h} & the tx hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true iff the transaction was found 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a3e8575b2b6da64a38ce5a0ffba60b81e}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a7a23ef9fe1d12d974a21e80d8a98df95}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a6d75417d12f6e77c6688d107bffa6961}\label{classcryptonote_1_1BlockchainDB_a6d75417d12f6e77c6688d107bffa6961}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_pruned\_tx@{get\_pruned\_tx}}
\index{get\_pruned\_tx@{get\_pruned\_tx}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_pruned\_tx()}{get\_pruned\_tx()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+pruned\+\_\+tx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



fetches the transaction base with the given hash 

If the transaction does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1TX__DNE}{T\+X\+\_\+\+D\+NE}}.


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the transaction with the given hash 
\end{DoxyReturn}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a0f8cdcb0aef9063f4d0c16cefc8e8b94}\label{classcryptonote_1_1BlockchainDB_a0f8cdcb0aef9063f4d0c16cefc8e8b94}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_pruned\_tx@{get\_pruned\_tx}}
\index{get\_pruned\_tx@{get\_pruned\_tx}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_pruned\_tx()}{get\_pruned\_tx()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+pruned\+\_\+tx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h,  }\item[{\mbox{\hyperlink{classcryptonote_1_1transaction}{cryptonote\+::transaction}} \&}]{tx }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



fetches the transaction base with the given hash 

If the transaction does not exist, the subclass should return false.


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true iff the transaction was found 
\end{DoxyReturn}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_acfc499282ccf3e69958a42dd2471e481}\label{classcryptonote_1_1BlockchainDB_acfc499282ccf3e69958a42dd2471e481}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_pruned\_tx\_blob@{get\_pruned\_tx\_blob}}
\index{get\_pruned\_tx\_blob@{get\_pruned\_tx\_blob}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_pruned\_tx\_blob()}{get\_pruned\_tx\_blob()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+pruned\+\_\+tx\+\_\+blob (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h,  }\item[{std\+::string \&}]{tx }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches the pruned transaction blob with the given hash 

The subclass should return the pruned transaction stored which has the given hash.

If the transaction does not exist, the subclass should return false.


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true iff the transaction was found 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_afbfa6737461f7c69193e7dde2aff0dfa}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aeb65375bb0123046787cae5cc20e44b5}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a23155b82179607fc332c470d8bea80fd}\label{classcryptonote_1_1BlockchainDB_a23155b82179607fc332c470d8bea80fd}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_pruned\_tx\_blobs\_from@{get\_pruned\_tx\_blobs\_from}}
\index{get\_pruned\_tx\_blobs\_from@{get\_pruned\_tx\_blobs\_from}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_pruned\_tx\_blobs\_from()}{get\_pruned\_tx\_blobs\_from()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+pruned\+\_\+tx\+\_\+blobs\+\_\+from (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h,  }\item[{size\+\_\+t}]{count,  }\item[{std\+::vector$<$ std\+::string $>$ \&}]{bd }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches a number of pruned transaction blob from the given hash, in canonical blockchain order 

The subclass should return the pruned transactions stored from the one with the given hash.

If the first transaction does not exist, the subclass should return false. If the first transaction exists, but there are fewer transactions starting with it than requested, the subclass should return false.


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true iff the transactions were found 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_abc7743a83a3150df64c6984c7f8508c2}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a500e8450e339cddb599a6abbf7e600ff}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a3a6891ce166e6939094b126a6a779462}\label{classcryptonote_1_1BlockchainDB_a3a6891ce166e6939094b126a6a779462}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_service\_node\_data@{get\_service\_node\_data}}
\index{get\_service\_node\_data@{get\_service\_node\_data}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_service\_node\_data()}{get\_service\_node\_data()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+service\+\_\+node\+\_\+data (\begin{DoxyParamCaption}\item[{std\+::string \&}]{data,  }\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{long\+\_\+term }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a69470892ff97d60e0ebef53013137d0d}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a2c26407a4dae0870e498021451f6ae57}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a40e209fbf58ac8fa83e5ef12707fb7ff}\label{classcryptonote_1_1BlockchainDB_a40e209fbf58ac8fa83e5ef12707fb7ff}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_service\_node\_proof@{get\_service\_node\_proof}}
\index{get\_service\_node\_proof@{get\_service\_node\_proof}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_service\_node\_proof()}{get\_service\_node\_proof()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+service\+\_\+node\+\_\+proof (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1public__key}{crypto\+::public\+\_\+key}} \&}]{pubkey,  }\item[{\mbox{\hyperlink{structservice__nodes_1_1proof__info}{service\+\_\+nodes\+::proof\+\_\+info}} \&}]{proof }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

Updates the given proof data with the latest stored info for the given service node. Returns true if found (and fields updated), false otherwise. 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a4ec4367258fb3490b9d47f5179b3bcca}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a44f27a210db87a7dabed0f14606b10f2}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a800d8a35b0a3d8c67284946b7419362c}\label{classcryptonote_1_1BlockchainDB_a800d8a35b0a3d8c67284946b7419362c}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_top\_block@{get\_top\_block}}
\index{get\_top\_block@{get\_top\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_top\_block()}{get\_top\_block()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{structcryptonote_1_1block}{block}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+top\+\_\+block (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch the top block 

The subclass should return most recent block

\begin{DoxyReturn}{Returns}
the top block 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a638034247d6ab72855807b0af54f8b07}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_afea7edaad5c4372baa786929a2ea97ff}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a7c2fb815dffffd9c33f67a76b8cfff4f}\label{classcryptonote_1_1BlockchainDB_a7c2fb815dffffd9c33f67a76b8cfff4f}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_top\_block\_timestamp@{get\_top\_block\_timestamp}}
\index{get\_top\_block\_timestamp@{get\_top\_block\_timestamp}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_top\_block\_timestamp()}{get\_top\_block\_timestamp()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+top\+\_\+block\+\_\+timestamp (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch the top block\textquotesingle{}s timestamp 

The subclass should return the timestamp of the most recent block.

\begin{DoxyReturn}{Returns}
the top block\textquotesingle{}s timestamp 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a7ca038ca2bf36b0fa1e2a5b3a35d1589}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a365c544ef3a791b22db93222697faa7f}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a41ae92f79d6964b453180cf42117e077}\label{classcryptonote_1_1BlockchainDB_a41ae92f79d6964b453180cf42117e077}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_top\_checkpoint@{get\_top\_checkpoint}}
\index{get\_top\_checkpoint@{get\_top\_checkpoint}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_top\_checkpoint()}{get\_top\_checkpoint()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+top\+\_\+checkpoint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}} \&}]{checkpoint }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_af24ae0276a3686cad0b08b9c6aaec2c2}{cryptonote\+::\+Base\+Test\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a401090074fe589264d7780d7ab910964}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aef33e0b205c54d6ec167e534e74dae3f}\label{classcryptonote_1_1BlockchainDB_aef33e0b205c54d6ec167e534e74dae3f}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_tx@{get\_tx}}
\index{get\_tx@{get\_tx}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_tx()}{get\_tx()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+tx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



fetches the transaction with the given hash 

If the transaction does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1TX__DNE}{T\+X\+\_\+\+D\+NE}}.


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the transaction with the given hash 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a80b72bc4001927ecb6475818f7a8165b}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a13c76e345bc32f4a61140bf85d697bc8}\label{classcryptonote_1_1BlockchainDB_a13c76e345bc32f4a61140bf85d697bc8}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_tx@{get\_tx}}
\index{get\_tx@{get\_tx}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_tx()}{get\_tx()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+tx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h,  }\item[{\mbox{\hyperlink{classcryptonote_1_1transaction}{cryptonote\+::transaction}} \&}]{tx }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



fetches the transaction with the given hash 

If the transaction does not exist, the subclass should return false.


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true iff the transaction was found 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a5ae35d41da9ab8f28745f94fa228e844}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aa66aff4bea56ff6bbd2778d9f7c7d566}\label{classcryptonote_1_1BlockchainDB_aa66aff4bea56ff6bbd2778d9f7c7d566}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_tx\_amount\_output\_indices@{get\_tx\_amount\_output\_indices}}
\index{get\_tx\_amount\_output\_indices@{get\_tx\_amount\_output\_indices}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_tx\_amount\_output\_indices()}{get\_tx\_amount\_output\_indices()}}
{\footnotesize\ttfamily virtual std\+::vector$<$std\+::vector$<$uint64\+\_\+t$>$ $>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+tx\+\_\+amount\+\_\+output\+\_\+indices (\begin{DoxyParamCaption}\item[{const uint64\+\_\+t}]{tx\+\_\+id,  }\item[{size\+\_\+t}]{n\+\_\+txes = {\ttfamily 1} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



gets output indices (amount-\/specific) for a transaction\textquotesingle{}s outputs 

The subclass should fetch the amount-\/specific output indices for each output in the transaction with the given ID.

If the transaction does not exist, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1TX__DNE}{T\+X\+\_\+\+D\+NE}}.

If an output cannot be found, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1OUTPUT__DNE}{O\+U\+T\+P\+U\+T\+\_\+\+D\+NE}}.


\begin{DoxyParams}{Parameters}
{\em tx\+\_\+id} & a transaction ID \\
\hline
{\em n\+\_\+txes} & how many txes to get data for, starting with tx\+\_\+id\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a list of amount-\/specific output indices 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ac66ee2b39b3373b58c41ddc18a4ab477}{cryptonote\+::\+Base\+Test\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_af31fb0d31ba602f95a974510bb16c5fc}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ab8b7e48714a19ed9827ce3b90954860c}\label{classcryptonote_1_1BlockchainDB_ab8b7e48714a19ed9827ce3b90954860c}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_tx\_blob@{get\_tx\_blob}}
\index{get\_tx\_blob@{get\_tx\_blob}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_tx\_blob()}{get\_tx\_blob()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+tx\+\_\+blob (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h,  }\item[{std\+::string \&}]{tx }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches the transaction blob with the given hash 

The subclass should return the transaction stored which has the given hash.

If the transaction does not exist, the subclass should return false.


\begin{DoxyParams}{Parameters}
{\em h} & the hash to look for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true iff the transaction was found 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a9a4680405d1bd5cef0a777cd5de2b59f}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a028825df754f5f1c1d56f6ec6a782b34}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a4f5c382eaadcf7d08c5b9565b67605dc}\label{classcryptonote_1_1BlockchainDB_a4f5c382eaadcf7d08c5b9565b67605dc}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_tx\_block\_height@{get\_tx\_block\_height}}
\index{get\_tx\_block\_height@{get\_tx\_block\_height}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_tx\_block\_height()}{get\_tx\_block\_height()}}
{\footnotesize\ttfamily uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+tx\+\_\+block\+\_\+height (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h }\end{DoxyParamCaption}) const}



fetches the height of a transaction\textquotesingle{}s block 

This is a simple wrapper around calling get\+\_\+tx\+\_\+block\+\_\+heights with a single transaction and converts a not-\/found height value to a \mbox{\hyperlink{classcryptonote_1_1TX__DNE}{T\+X\+\_\+\+D\+NE}} exception.

Not virtual\+: subclasses should override get\+\_\+tx\+\_\+block\+\_\+heights instead.


\begin{DoxyParams}{Parameters}
{\em h} & the hash of the transaction\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the height of the transaction\textquotesingle{}s block 
\end{DoxyReturn}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aa28ad5b5920b8761353b209c2fc02806}\label{classcryptonote_1_1BlockchainDB_aa28ad5b5920b8761353b209c2fc02806}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_tx\_block\_heights@{get\_tx\_block\_heights}}
\index{get\_tx\_block\_heights@{get\_tx\_block\_heights}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_tx\_block\_heights()}{get\_tx\_block\_heights()}}
{\footnotesize\ttfamily virtual std\+::vector$<$uint64\+\_\+t$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+tx\+\_\+block\+\_\+heights (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} $>$ \&}]{h }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches the height of multiple transactions\textquotesingle{} blocks 

Any transactions not found in the database will have a value of std\+::numeric\+\_\+limits$<$uint64\+\_\+t$>$\+::max() set (unlike get\+\_\+tx\+\_\+block\+\_\+height, which throws \mbox{\hyperlink{classcryptonote_1_1TX__DNE}{T\+X\+\_\+\+D\+NE}}).


\begin{DoxyParams}{Parameters}
{\em h} & vector of hashes of the desired transactions\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
vector of heights corresponding to each hash, or (uint64\+\_\+t)-\/1 if not found 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a681853c802d6fd3aeba2ad9ba9e319cb}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a9693ae5903853bb135fd20e187bfba5a}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a3b7e9c6cb8e4519fae153f7f59e3a022}\label{classcryptonote_1_1BlockchainDB_a3b7e9c6cb8e4519fae153f7f59e3a022}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_tx\_count@{get\_tx\_count}}
\index{get\_tx\_count@{get\_tx\_count}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_tx\_count()}{get\_tx\_count()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+tx\+\_\+count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches the total number of transactions ever 

The subclass should return a count of all the transactions from all blocks.

\begin{DoxyReturn}{Returns}
the number of transactions in the blockchain 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a88ea58ec0e0ecac36e3bee558cc1e0ec}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a106a86a197818278bd9e2cc353251488}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a5cd3cd4f01c06662a281fa22e645d725}\label{classcryptonote_1_1BlockchainDB_a5cd3cd4f01c06662a281fa22e645d725}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_tx\_list@{get\_tx\_list}}
\index{get\_tx\_list@{get\_tx\_list}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_tx\_list()}{get\_tx\_list()}}
{\footnotesize\ttfamily virtual std\+::vector$<$\mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}}$>$ cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+tx\+\_\+list (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} $>$ \&}]{hlist }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetches a list of transactions based on their hashes 

The subclass should attempt to fetch each transaction referred to by the hashes passed.

Currently, if any of the transactions is not in \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}, the call to get\+\_\+tx in the implementation will throw \mbox{\hyperlink{classcryptonote_1_1TX__DNE}{T\+X\+\_\+\+D\+NE}}.


\begin{DoxyParams}{Parameters}
{\em hlist} & a list of hashes\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the list of transactions 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aab8a8e8c9f7deda1a0e0ae4b545595b8}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aa51fc1b9afdaf73a8aaf22722235ca7b}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aab00f8eac85a50dd051cc1ced7d7e27c}\label{classcryptonote_1_1BlockchainDB_aab00f8eac85a50dd051cc1ced7d7e27c}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_tx\_unlock\_time@{get\_tx\_unlock\_time}}
\index{get\_tx\_unlock\_time@{get\_tx\_unlock\_time}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_tx\_unlock\_time()}{get\_tx\_unlock\_time()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+tx\+\_\+unlock\+\_\+time (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch a transaction\textquotesingle{}s unlock time/height 

The subclass should return the stored unlock time for the transaction with the given hash.

If no such transaction exists, the subclass should throw \mbox{\hyperlink{classcryptonote_1_1TX__DNE}{T\+X\+\_\+\+D\+NE}}.


\begin{DoxyParams}{Parameters}
{\em h} & the hash of the requested transaction\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the unlock time/height 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aa3a684e8ff3d0a19e64dd15b66c15c99}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a6c83a1cd205c17affa70add9aa48ddda}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a3ace19ff71dcb5ce6742054ddb2cfe17}\label{classcryptonote_1_1BlockchainDB_a3ace19ff71dcb5ce6742054ddb2cfe17}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_txpool\_tx\_blob@{get\_txpool\_tx\_blob}}
\index{get\_txpool\_tx\_blob@{get\_txpool\_tx\_blob}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_txpool\_tx\_blob()}{get\_txpool\_tx\_blob()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily virtual std\+::string cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+txpool\+\_\+tx\+\_\+blob (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{txid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



get a txpool transaction\textquotesingle{}s blob 


\begin{DoxyParams}{Parameters}
{\em txid} & the transaction id of the transation to lookup\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the blob for that transaction 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a10b6faf4f1153554e6eb2653555c52e4}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a23817d976a37c5be9981797a237b6853}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a820c3da66755d5165dd9b9c5b7f13dad}\label{classcryptonote_1_1BlockchainDB_a820c3da66755d5165dd9b9c5b7f13dad}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_txpool\_tx\_blob@{get\_txpool\_tx\_blob}}
\index{get\_txpool\_tx\_blob@{get\_txpool\_tx\_blob}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_txpool\_tx\_blob()}{get\_txpool\_tx\_blob()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+txpool\+\_\+tx\+\_\+blob (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{txid,  }\item[{std\+::string \&}]{bd }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



get a txpool transaction\textquotesingle{}s blob 


\begin{DoxyParams}{Parameters}
{\em txid} & the transaction id of the transation to lookup \\
\hline
{\em bd} & the blob to return\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the txid was in the txpool, false otherwise 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a3a2d0030196f571baf20457423f585e8}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ac5ba84db0d1d7590eb0302e54366ad8b}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a31f61bd83a8cd12479348baf5fb204b3}\label{classcryptonote_1_1BlockchainDB_a31f61bd83a8cd12479348baf5fb204b3}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_txpool\_tx\_count@{get\_txpool\_tx\_count}}
\index{get\_txpool\_tx\_count@{get\_txpool\_tx\_count}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_txpool\_tx\_count()}{get\_txpool\_tx\_count()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+txpool\+\_\+tx\+\_\+count (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{include\+\_\+unrelayed\+\_\+txes = {\ttfamily \mbox{\hyperlink{stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



get the number of transactions in the txpool 



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ab1652e4e4f58d2cf0ac3b2cb66e43fd9}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a734963dc56baed4adb2883189bf37147}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a63e7b05e2eaddd2a1f08fc1696beb3a1}\label{classcryptonote_1_1BlockchainDB_a63e7b05e2eaddd2a1f08fc1696beb3a1}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!get\_txpool\_tx\_meta@{get\_txpool\_tx\_meta}}
\index{get\_txpool\_tx\_meta@{get\_txpool\_tx\_meta}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{get\_txpool\_tx\_meta()}{get\_txpool\_tx\_meta()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::get\+\_\+txpool\+\_\+tx\+\_\+meta (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{txid,  }\item[{\mbox{\hyperlink{structcryptonote_1_1txpool__tx__meta__t}{txpool\+\_\+tx\+\_\+meta\+\_\+t}} \&}]{meta }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



get a txpool transaction\textquotesingle{}s metadata 


\begin{DoxyParams}{Parameters}
{\em txid} & the transaction id of the transation to lookup \\
\hline
{\em meta} & the metadata to return\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the tx meta was found, false otherwise 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a211409798fa26d4ebcd1955887281809}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ad48ce984fd171012a3e6729ddbab39a1}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a9d182826e5989e0ada89c739052dbb21}\label{classcryptonote_1_1BlockchainDB_a9d182826e5989e0ada89c739052dbb21}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!has\_key\_image@{has\_key\_image}}
\index{has\_key\_image@{has\_key\_image}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{has\_key\_image()}{has\_key\_image()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::has\+\_\+key\+\_\+image (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1key__image}{crypto\+::key\+\_\+image}} \&}]{img }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



check if a key image is stored as spent 


\begin{DoxyParams}{Parameters}
{\em img} & the key image to check for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the image is present, otherwise false 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a8267a7863175e8878b1fcfcb77bf44ad}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a5ca5dc11a72864e89abaa2f9e60e7a5f}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}\label{classcryptonote_1_1BlockchainDB_a773326d5cb3812078751ec77e37f85f6}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!height@{height}}
\index{height@{height}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{height()}{height()}}
{\footnotesize\ttfamily virtual uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::height (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch the current blockchain height 

The subclass should return the current blockchain height

\begin{DoxyReturn}{Returns}
the current blockchain height 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a8f078512e6cf3a525977ec0a4941374c}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a2660b5025a85ed71d65c48a94ffbbe3f}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a2891c246494f834687ce28f9fc036327}\label{classcryptonote_1_1BlockchainDB_a2891c246494f834687ce28f9fc036327}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!init\_options@{init\_options}}
\index{init\_options@{init\_options}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{init\_options()}{init\_options()}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::init\+\_\+options (\begin{DoxyParamCaption}\item[{boost\+::program\+\_\+options\+::options\+\_\+description \&}]{desc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



init command line options 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a9892a628987edf6497a30a4107d47fbb}\label{classcryptonote_1_1BlockchainDB_a9892a628987edf6497a30a4107d47fbb}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!is\_open@{is\_open}}
\index{is\_open@{is\_open}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{is\_open()}{is\_open()}}
{\footnotesize\ttfamily \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::is\+\_\+open (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets the current open/ready state of the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}. 

\begin{DoxyReturn}{Returns}
true if open/ready, otherwise false 
\end{DoxyReturn}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a712a41de3896baa2ffb7e41dca20ab91}\label{classcryptonote_1_1BlockchainDB_a712a41de3896baa2ffb7e41dca20ab91}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!is\_read\_only@{is\_read\_only}}
\index{is\_read\_only@{is\_read\_only}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{is\_read\_only()}{is\_read\_only()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::is\+\_\+read\+\_\+only (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



is \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} in read-\/only mode? 

\begin{DoxyReturn}{Returns}
true if in read-\/only mode, otherwise false 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a03e4b6c82855dde279c0fc09adc6beff}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a006f2687fa947b1bd1b6b37aa4dba884}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac0811e2c65dd853e0130a63fbb1e31fd}\label{classcryptonote_1_1BlockchainDB_ac0811e2c65dd853e0130a63fbb1e31fd}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!lock@{lock}}
\index{lock@{lock}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{lock()}{lock()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



acquires the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} lock 

This lock ensures that there is only one database reader or writer, and is intended only for critical operations such as flushing the database to disk.

The subclass implementation should do a blocking acquire of some lock, if appropriate.

Callers should generally prefer to use a R\+A\+II wrapper rather than calling this directly\+:

\{ std\+::lock\+\_\+guard db\+\_\+lock\{db\}; // do some critical db operation \} 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a063ed082796ba5209be5e9bedb9a3484}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a09a296d8bd1408eb286e257e927581b6}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_abefe89ff405cc3c577e8f247616b0d77}\label{classcryptonote_1_1BlockchainDB_abefe89ff405cc3c577e8f247616b0d77}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!open@{open}}
\index{open@{open}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::open (\begin{DoxyParamCaption}\item[{const fs\+::path \&}]{filename,  }\item[{\mbox{\hyperlink{namespacecryptonote_a1823e8e194e85c09ac7231f927cca70a}{cryptonote\+::network\+\_\+type}}}]{nettype,  }\item[{const int}]{db\+\_\+flags = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



open a db, or create it if necessary. 

This function opens an existing database or creates it if it does not exist.

The subclass implementing this will handle all file opening/creation, and is responsible for maintaining its state.

For now, db\+\_\+flags are specific to the subclass being instantiated. This is subject to change, and the db\+\_\+flags parameter may be deprecated.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em filename} & a path referring to the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} to open \\
\hline
{\em db\+\_\+flags} & flags relevant to how to open/use the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ae4461cab4501c316056d5a8b2a43b3b9}{cryptonote\+::\+Base\+Test\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a7a9238034d74a4ec5a4baa8ca80467c4}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_af486924656ac6564f5635995d50dd3aa}\label{classcryptonote_1_1BlockchainDB_af486924656ac6564f5635995d50dd3aa}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!pop\_block@{pop\_block}}
\index{pop\_block@{pop\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{pop\_block()}{pop\_block()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::pop\+\_\+block (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



private version of pop\+\_\+block, for undoing if an add\+\_\+block fails 

This function simply calls \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a27d01b3af6bbcb36c7b21df57a78335f}{pop\+\_\+block(block\& blk, std\+::vector$<$transaction$>$\& txs)}} with dummy parameters, as the returns-\/by-\/reference can be discarded. \mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a27d01b3af6bbcb36c7b21df57a78335f}\label{classcryptonote_1_1BlockchainDB_a27d01b3af6bbcb36c7b21df57a78335f}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!pop\_block@{pop\_block}}
\index{pop\_block@{pop\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{pop\_block()}{pop\_block()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::pop\+\_\+block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcryptonote_1_1block}{block}} \&}]{blk,  }\item[{std\+::vector$<$ \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} $>$ \&}]{txs }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



pops the top block off the blockchain 

The subclass should remove the most recent block from the blockchain, along with all transactions, outputs, and other metadata created as a result of its addition to the blockchain. Most of this is handled by the concrete members of the base class provided the subclass correctly implements remove\+\_\+$\ast$ functions.

The subclass should return by reference the popped block and its associated transactions


\begin{DoxyParams}{Parameters}
{\em blk} & return-\/by-\/reference the block which was popped \\
\hline
{\em txs} & return-\/by-\/reference the transactions from the popped block \\
\hline
\end{DoxyParams}


Reimplemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aab4831ab9f04fbc932b523bec812de0e}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ae26a77df233d6baf1ca8bf27b1675842}\label{classcryptonote_1_1BlockchainDB_ae26a77df233d6baf1ca8bf27b1675842}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!prune\_blockchain@{prune\_blockchain}}
\index{prune\_blockchain@{prune\_blockchain}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{prune\_blockchain()}{prune\_blockchain()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::prune\+\_\+blockchain (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{pruning\+\_\+seed = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



prunes the blockchain 


\begin{DoxyParams}{Parameters}
{\em pruning\+\_\+seed} & the seed to use, 0 for default (highly recommended) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
success iff true 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a8e97b3f397b80645c96e18f93e0bf99b}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ab5b57389304b664da0827490ea30922a}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a0ea4d4666ec1e6846548ed7186174e3c}\label{classcryptonote_1_1BlockchainDB_a0ea4d4666ec1e6846548ed7186174e3c}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!prune\_outputs@{prune\_outputs}}
\index{prune\_outputs@{prune\_outputs}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{prune\_outputs()}{prune\_outputs()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::prune\+\_\+outputs (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{amount }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



prune output data for the given amount 


\begin{DoxyParams}{Parameters}
{\em amount} & the amount for which to prune data \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a8bbaadc56ea2c1c4cbe0c8764e41796e}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ac2445a50acf30f7fd982b5944b84a415}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a4ea2d418b0cc3cae07394c9c6dde7581}\label{classcryptonote_1_1BlockchainDB_a4ea2d418b0cc3cae07394c9c6dde7581}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!remove\_alt\_block@{remove\_alt\_block}}
\index{remove\_alt\_block@{remove\_alt\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{remove\_alt\_block()}{remove\_alt\_block()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::remove\+\_\+alt\+\_\+block (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{blkid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



remove an alternative block 


\begin{DoxyParams}{Parameters}
{\em } & blkid the block hash \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a194982018ca8db6d7c59b3af43502f9c}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ad74521f323ee926866c7a8504ac60f39}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_afc0cd9e5d5d92fb346768eabcfbafa6a}\label{classcryptonote_1_1BlockchainDB_afc0cd9e5d5d92fb346768eabcfbafa6a}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!remove\_block@{remove\_block}}
\index{remove\_block@{remove\_block}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{remove\_block()}{remove\_block()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::remove\+\_\+block (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



remove data about the top block 

The subclass implementing this will remove the block data from the top block in the chain. The data to be removed is that which was added in Blockchain\+D\+B\+::add\+\_\+block(const block\& blk, size\+\_\+t block\+\_\+weight, uint64\+\_\+t long\+\_\+term\+\_\+block\+\_\+weight, const difficulty\+\_\+type\& cumulative\+\_\+difficulty, const uint64\+\_\+t\& coins\+\_\+generated, const crypto\+::hash\& blk\+\_\+hash)

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}} 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aadccd34aa177afc6d6f7a6e92dba7dcc}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a5724494420b9418cdea8678c9b283f27}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a0121411dd9be54fb437f73e55da06b5b}\label{classcryptonote_1_1BlockchainDB_a0121411dd9be54fb437f73e55da06b5b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!remove\_block\_checkpoint@{remove\_block\_checkpoint}}
\index{remove\_block\_checkpoint@{remove\_block\_checkpoint}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{remove\_block\_checkpoint()}{remove\_block\_checkpoint()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::remove\+\_\+block\+\_\+checkpoint (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{height }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a589d5f3dd4b2dd3f6dcc8cb39c54ab26}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a62ad445ea4ab43e4e6944730b2cd64ec}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a2ebcf8ae990b9076e55e8d8abbee9661}\label{classcryptonote_1_1BlockchainDB_a2ebcf8ae990b9076e55e8d8abbee9661}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!remove\_data\_file@{remove\_data\_file}}
\index{remove\_data\_file@{remove\_data\_file}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{remove\_data\_file()}{remove\_data\_file()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::remove\+\_\+data\+\_\+file (\begin{DoxyParamCaption}\item[{const fs\+::path \&}]{folder }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



remove file(s) storing the database 

This function is for resetting the database (for core tests, functional tests, etc). The function \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aac857989dd8e08e8662804cb73e067ea}{reset()}} is not usable because it needs to open the database file first which can fail if the existing database file is in an incompatible format. As such, this function needs to be called before calling \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_abefe89ff405cc3c577e8f247616b0d77}{open()}}.


\begin{DoxyParams}{Parameters}
{\em folder} & The path of the folder containing the database file(s) which must not end with slash \textquotesingle{}/\textquotesingle{}.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the operation is succesfull 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a22c6688810dedf4300c22ecdfdac11a3}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_acc690faba9818e3632d7453400369986}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ad658fd1b94de70af306313f469c58fe8}\label{classcryptonote_1_1BlockchainDB_ad658fd1b94de70af306313f469c58fe8}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!remove\_service\_node\_proof@{remove\_service\_node\_proof}}
\index{remove\_service\_node\_proof@{remove\_service\_node\_proof}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{remove\_service\_node\_proof()}{remove\_service\_node\_proof()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::remove\+\_\+service\+\_\+node\+\_\+proof (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1public__key}{crypto\+::public\+\_\+key}} \&}]{pubkey }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Removes stored serialized proof sn data associated with the given pubkey. Returns true if found, false if not found. 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a17e48d3a08828200497207ec695810fe}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a6a1b54ee176dd62ecde1ef228ec091e3}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a1123e8e9ebe6eb83dd5a3cb17bb45a8b}\label{classcryptonote_1_1BlockchainDB_a1123e8e9ebe6eb83dd5a3cb17bb45a8b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!remove\_spent\_key@{remove\_spent\_key}}
\index{remove\_spent\_key@{remove\_spent\_key}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{remove\_spent\_key()}{remove\_spent\_key()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::remove\+\_\+spent\+\_\+key (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1key__image}{crypto\+::key\+\_\+image}} \&}]{k\+\_\+image }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



remove a spent key 

The subclass implementing this will remove the key image.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em k\+\_\+image} & the spent key image to remove \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a9dc9bb614bc7c467dc1a48b36670d4bd}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aebfb9771df8cc0d3187132e1d8d6ecb4}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a2f2f5380baf989b2616015fd0342415a}\label{classcryptonote_1_1BlockchainDB_a2f2f5380baf989b2616015fd0342415a}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!remove\_transaction@{remove\_transaction}}
\index{remove\_transaction@{remove\_transaction}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{remove\_transaction()}{remove\_transaction()}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::remove\+\_\+transaction (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{tx\+\_\+hash }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



helper function to remove transaction from the blockchain 

This function encapsulates aspects of removing a transaction.


\begin{DoxyParams}{Parameters}
{\em tx\+\_\+hash} & the hash of the transaction to be removed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a3678260fb38cb19c8affd1ffcaeed414}\label{classcryptonote_1_1BlockchainDB_a3678260fb38cb19c8affd1ffcaeed414}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!remove\_transaction\_data@{remove\_transaction\_data}}
\index{remove\_transaction\_data@{remove\_transaction\_data}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{remove\_transaction\_data()}{remove\_transaction\_data()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::remove\+\_\+transaction\+\_\+data (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{tx\+\_\+hash,  }\item[{const \mbox{\hyperlink{classcryptonote_1_1transaction}{transaction}} \&}]{tx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



remove data about a transaction 

The subclass implementing this will remove the transaction data for the passed transaction. The data to be removed was added in \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_aac88400b1510f83ef4c95827fd3d815b}{add\+\_\+transaction\+\_\+data()}}. Additionally, current subclasses have behavior which requires the transaction itself as a parameter here. Future implementations should note that this parameter is subject to be removed at a later time.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em tx\+\_\+hash} & the hash of the transaction to be removed \\
\hline
{\em tx} & the transaction \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a31cc849ef0b762a6a375f882b98fff9d}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a1a8613e0648f5520bb5a085fe128bc36}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a7d465f59b4c42ef08dde724ce7cf0834}\label{classcryptonote_1_1BlockchainDB_a7d465f59b4c42ef08dde724ce7cf0834}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!remove\_txpool\_tx@{remove\_txpool\_tx}}
\index{remove\_txpool\_tx@{remove\_txpool\_tx}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{remove\_txpool\_tx()}{remove\_txpool\_tx()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::remove\+\_\+txpool\+\_\+tx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{txid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



remove a txpool transaction 


\begin{DoxyParams}{Parameters}
{\em txid} & the transaction id of the transation to remove \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a34aa66b37d3e7cc69bf4dbca417e0af3}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a08950849a2ecc748944a03b8abc3ef74}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aac857989dd8e08e8662804cb73e067ea}\label{classcryptonote_1_1BlockchainDB_aac857989dd8e08e8662804cb73e067ea}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!reset@{reset}}
\index{reset@{reset}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Remove everything from the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}. 

This function should completely remove all data from a \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}}.

Use with caution!

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}} 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a5c628425dd925981df59d47700027861}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a3a3ed5583d05599cde2b321662ec7528}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac43a54e523ed3fbe52e189e707ce4e0b}\label{classcryptonote_1_1BlockchainDB_ac43a54e523ed3fbe52e189e707ce4e0b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!reset\_stats@{reset\_stats}}
\index{reset\_stats@{reset\_stats}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{reset\_stats()}{reset\_stats()}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::reset\+\_\+stats (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



reset profiling stats 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a7d2e475422bc7cae4b9796ef2dccf791}\label{classcryptonote_1_1BlockchainDB_a7d2e475422bc7cae4b9796ef2dccf791}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!safesyncmode@{safesyncmode}}
\index{safesyncmode@{safesyncmode}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{safesyncmode()}{safesyncmode()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::safesyncmode (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{onoff }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



toggle safe syncs for the DB 

Used to switch D\+B\+F\+\_\+\+S\+A\+FE on or off after starting up with D\+B\+F\+\_\+\+F\+A\+ST. 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ad59111e1be8e3a34b2784dc636a9b8ab}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_acb7f5c2762eda1de04f287cb06a06e37}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a5cb00491d93d7500c45054ca847032fb}\label{classcryptonote_1_1BlockchainDB_a5cb00491d93d7500c45054ca847032fb}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!set\_auto\_remove\_logs@{set\_auto\_remove\_logs}}
\index{set\_auto\_remove\_logs@{set\_auto\_remove\_logs}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{set\_auto\_remove\_logs()}{set\_auto\_remove\_logs()}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::set\+\_\+auto\+\_\+remove\+\_\+logs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{auto\+\_\+remove }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



set whether or not to automatically remove logs 

This function is only relevant for one implementation (Blockchain\+B\+DB), but is here to keep \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} users implementation-\/agnostic.


\begin{DoxyParams}{Parameters}
{\em auto\+\_\+remove} & whether or not to auto-\/remove logs \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ae56573c54c4a8361b7b23c7036765062}\label{classcryptonote_1_1BlockchainDB_ae56573c54c4a8361b7b23c7036765062}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!set\_batch\_transactions@{set\_batch\_transactions}}
\index{set\_batch\_transactions@{set\_batch\_transactions}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{set\_batch\_transactions()}{set\_batch\_transactions()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::set\+\_\+batch\+\_\+transactions (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



sets whether or not to batch transactions 

If the subclass implements batching, this function tells it to begin batching automatically.

If the subclass implements batching and has a batch in-\/progress, a parameter of false should disable batching and call \mbox{\hyperlink{classcryptonote_1_1BlockchainDB_a3cbe654e1c4a7fbc4e4d617abbe7a3de}{batch\+\_\+stop()}} to store the current batch.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}}


\begin{DoxyParams}{Parameters}
{\em bool} & batch whether or not to use batch transactions. \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a2823f3cf9ab28dde9c8e5da7235d19e9}{cryptonote\+::\+Base\+Test\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a2faae8400bb5b1f7c1045b2bbf6d91bd}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a4dba0223214f67c72345773d3bc04160}\label{classcryptonote_1_1BlockchainDB_a4dba0223214f67c72345773d3bc04160}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!set\_service\_node\_data@{set\_service\_node\_data}}
\index{set\_service\_node\_data@{set\_service\_node\_data}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{set\_service\_node\_data()}{set\_service\_node\_data()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::set\+\_\+service\+\_\+node\+\_\+data (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{data,  }\item[{\mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{long\+\_\+term }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aa6e28204eb34ff5adecb213110058022}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a91ce6a4e6e9f9e11109659d65bdf1620}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a9b9ab0c11238126efc1b5d442e14bce7}\label{classcryptonote_1_1BlockchainDB_a9b9ab0c11238126efc1b5d442e14bce7}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!set\_service\_node\_proof@{set\_service\_node\_proof}}
\index{set\_service\_node\_proof@{set\_service\_node\_proof}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{set\_service\_node\_proof()}{set\_service\_node\_proof()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::set\+\_\+service\+\_\+node\+\_\+proof (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1public__key}{crypto\+::public\+\_\+key}} \&}]{pubkey,  }\item[{const \mbox{\hyperlink{structservice__nodes_1_1proof__info}{service\+\_\+nodes\+::proof\+\_\+info}} \&}]{proof }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Creates or updates the proof data for a service node from a proof. 



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aa8ec0f75cd27a237e62a24a97417bc27}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_aae2eacf7f5714d90f10109553739a800}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a58a3a419ffca88ff9cb81438448bd595}\label{classcryptonote_1_1BlockchainDB_a58a3a419ffca88ff9cb81438448bd595}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!show\_stats@{show\_stats}}
\index{show\_stats@{show\_stats}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{show\_stats()}{show\_stats()}}
{\footnotesize\ttfamily void cryptonote\+::\+Blockchain\+D\+B\+::show\+\_\+stats (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



show profiling stats 

This function prints current performance/profiling data to whichever log file(s) are set up (possibly including stdout or stderr) \mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a8f1d5dc457664e47d43662b9f979e2ed}\label{classcryptonote_1_1BlockchainDB_a8f1d5dc457664e47d43662b9f979e2ed}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!sync@{sync}}
\index{sync@{sync}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{sync()}{sync()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::sync (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



sync the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} with disk 

This function should write any changes to whatever permanent backing store the subclass uses. Example\+: a \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} instance which keeps the whole blockchain in R\+AM won\textquotesingle{}t need to regularly access a disk, but should write out its state when this is called.

If any of this cannot be done, the subclass should throw the corresponding subclass of \mbox{\hyperlink{classcryptonote_1_1DB__EXCEPTION}{D\+B\+\_\+\+E\+X\+C\+E\+P\+T\+I\+ON}} 

Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a43e56b6d49482702779733aa02ed4d13}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a25a3ec7cb757565383ecd8f35316e436}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a18756eb0d54ee237006dc82d5a7dcf8e}\label{classcryptonote_1_1BlockchainDB_a18756eb0d54ee237006dc82d5a7dcf8e}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!top\_block\_hash@{top\_block\_hash}}
\index{top\_block\_hash@{top\_block\_hash}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{top\_block\_hash()}{top\_block\_hash()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} cryptonote\+::\+Blockchain\+D\+B\+::top\+\_\+block\+\_\+hash (\begin{DoxyParamCaption}\item[{uint64\+\_\+t $\ast$}]{block\+\_\+height = {\ttfamily NULL} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



fetch the top block\textquotesingle{}s hash 

The subclass should return the hash of the most recent block


\begin{DoxyParams}{Parameters}
{\em block\+\_\+height} & if non N\+U\+LL, returns the height of that block (ie, the blockchain height minus 1)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the top block\textquotesingle{}s hash 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ac6a32ea9fb2e7d8d826d847e022fdbc2}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a3054d3a0ce0ed01c028175cf4f20498f}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a5b4837afdba0c82abfc9d213e54cc6f9}\label{classcryptonote_1_1BlockchainDB_a5b4837afdba0c82abfc9d213e54cc6f9}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!try\_lock@{try\_lock}}
\index{try\_lock@{try\_lock}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{try\_lock()}{try\_lock()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::try\+\_\+lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



tries to acquire the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} lock without blocking; returns true if the lock was acquired, false if acquiring it would block. 



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a905d926f2f2a26fe7eeff0e6ece9dc90}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_ab58cede55da866577d8c2e116d2004a3}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a9fd80244596d43f903c9d63267d271b7}\label{classcryptonote_1_1BlockchainDB_a9fd80244596d43f903c9d63267d271b7}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!tx\_exists@{tx\_exists}}
\index{tx\_exists@{tx\_exists}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{tx\_exists()}{tx\_exists()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::tx\+\_\+exists (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



check if a transaction with a given hash exists 

The subclass should check if a transaction is stored which has the given hash and return true if so, false otherwise.


\begin{DoxyParams}{Parameters}
{\em h} & the hash to check against \\
\hline
{\em tx\+\_\+id} & (optional) returns the tx\+\_\+id for the tx hash\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the transaction exists, otherwise false 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a4758a6012d77eb6da344e2ca2d629f6e}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_acc06a5b2038aaa1a9415192c776c20af}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a802fafdead610b0cd687f2aec738a9d8}\label{classcryptonote_1_1BlockchainDB_a802fafdead610b0cd687f2aec738a9d8}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!tx\_exists@{tx\_exists}}
\index{tx\_exists@{tx\_exists}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{tx\_exists()}{tx\_exists()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::tx\+\_\+exists (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{h,  }\item[{uint64\+\_\+t \&}]{tx\+\_\+id }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a7229005edb970cc037f3056562c05dbe}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a63db70cf066f58aa600e089900a153ee}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a4910d723c4c6ae6f71fdd556e399faff}\label{classcryptonote_1_1BlockchainDB_a4910d723c4c6ae6f71fdd556e399faff}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!txpool\_has\_tx@{txpool\_has\_tx}}
\index{txpool\_has\_tx@{txpool\_has\_tx}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{txpool\_has\_tx()}{txpool\_has\_tx()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::txpool\+\_\+has\+\_\+tx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{txid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



check whether a txid is in the txpool 



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_aaf167c2ab6ae704b59f1a2909063de1d}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a3c2b9159f5499272d93365fc6ea78e3d}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ade6171f4348b546146d141dff4c90b5e}\label{classcryptonote_1_1BlockchainDB_ade6171f4348b546146d141dff4c90b5e}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!unlock@{unlock}}
\index{unlock@{unlock}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{unlock()}{unlock()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::unlock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



This function releases the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} lock. 



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_add889e70a71c871e06f108c6c2d63b41}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a6b51901a6e3db83806842c123d9fc7ec}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_abdbc94319eea2bc8aa8e9e982665faae}\label{classcryptonote_1_1BlockchainDB_abdbc94319eea2bc8aa8e9e982665faae}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!update\_block\_checkpoint@{update\_block\_checkpoint}}
\index{update\_block\_checkpoint@{update\_block\_checkpoint}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{update\_block\_checkpoint()}{update\_block\_checkpoint()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::update\+\_\+block\+\_\+checkpoint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcryptonote_1_1checkpoint__t}{checkpoint\+\_\+t}} const \&}]{checkpoint }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a8b280ca5cee717ff2d88f6a8c9dc15a4}{cryptonote\+::\+Blockchain\+L\+M\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ad3de7d8d1d2aaa75a69d8961776aee76}\label{classcryptonote_1_1BlockchainDB_ad3de7d8d1d2aaa75a69d8961776aee76}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!update\_pruning@{update\_pruning}}
\index{update\_pruning@{update\_pruning}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{update\_pruning()}{update\_pruning()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::update\+\_\+pruning (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



prunes recent blockchain changes as needed, iff pruning is enabled 

\begin{DoxyReturn}{Returns}
success iff true 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_a128d513c583b85b296eed9ca07db547c}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a4ce71822db869d21a1aa78460f85843c}{cryptonote\+::\+Base\+Test\+DB}}.

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a38ec6a38ead3bb7d6a030931a34896d3}\label{classcryptonote_1_1BlockchainDB_a38ec6a38ead3bb7d6a030931a34896d3}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!update\_txpool\_tx@{update\_txpool\_tx}}
\index{update\_txpool\_tx@{update\_txpool\_tx}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{update\_txpool\_tx()}{update\_txpool\_tx()}}
{\footnotesize\ttfamily virtual void cryptonote\+::\+Blockchain\+D\+B\+::update\+\_\+txpool\+\_\+tx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcrypto_1_1hash}{crypto\+::hash}} \&}]{txid,  }\item[{const \mbox{\hyperlink{structcryptonote_1_1txpool__tx__meta__t}{txpool\+\_\+tx\+\_\+meta\+\_\+t}} \&}]{details }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



update a txpool transaction\textquotesingle{}s metadata 


\begin{DoxyParams}{Parameters}
{\em txid} & the txid of the transaction to update \\
\hline
{\em details} & the details of the transaction to update \\
\hline
\end{DoxyParams}


Implemented in \mbox{\hyperlink{classcryptonote_1_1BlockchainLMDB_ad47b8fa06c2b2ea88dd2b6e3fe3ba9bb}{cryptonote\+::\+Blockchain\+L\+M\+DB}}, and \mbox{\hyperlink{classcryptonote_1_1BaseTestDB_a91368d676946b232b92ff92737308454}{cryptonote\+::\+Base\+Test\+DB}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a70de9903897a1a603f420a15a57cbd14}\label{classcryptonote_1_1BlockchainDB_a70de9903897a1a603f420a15a57cbd14}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!GET\_ALL\_CHECKPOINTS@{GET\_ALL\_CHECKPOINTS}}
\index{GET\_ALL\_CHECKPOINTS@{GET\_ALL\_CHECKPOINTS}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{GET\_ALL\_CHECKPOINTS}{GET\_ALL\_CHECKPOINTS}}
{\footnotesize\ttfamily constexpr size\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::\+G\+E\+T\+\_\+\+A\+L\+L\+\_\+\+C\+H\+E\+C\+K\+P\+O\+I\+N\+TS = 0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a6a25780b208624dc80018643e5983c6a}\label{classcryptonote_1_1BlockchainDB_a6a25780b208624dc80018643e5983c6a}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!m\_auto\_remove\_logs@{m\_auto\_remove\_logs}}
\index{m\_auto\_remove\_logs@{m\_auto\_remove\_logs}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{m\_auto\_remove\_logs}{m\_auto\_remove\_logs}}
{\footnotesize\ttfamily \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::m\+\_\+auto\+\_\+remove\+\_\+logs = \mbox{\hyperlink{stdbool_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}\hspace{0.3cm}{\ttfamily [protected]}}



whether or not to automatically remove old logs 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a4ae4b3b7007c36a33044c182311e96d0}\label{classcryptonote_1_1BlockchainDB_a4ae4b3b7007c36a33044c182311e96d0}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!m\_open@{m\_open}}
\index{m\_open@{m\_open}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{m\_open}{m\_open}}
{\footnotesize\ttfamily \mbox{\hyperlink{stdbool_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} cryptonote\+::\+Blockchain\+D\+B\+::m\+\_\+open = \mbox{\hyperlink{stdbool_8h_a65e9886d74aaee76545e83dd09011727}{false}}}



Whether or not the \mbox{\hyperlink{classcryptonote_1_1BlockchainDB}{Blockchain\+DB}} is open/ready for use. 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ad1e49b302fe4a52ca9d881e03cd0c7d0}\label{classcryptonote_1_1BlockchainDB_ad1e49b302fe4a52ca9d881e03cd0c7d0}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!num\_calls@{num\_calls}}
\index{num\_calls@{num\_calls}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{num\_calls}{num\_calls}}
{\footnotesize\ttfamily uint64\+\_\+t cryptonote\+::\+Blockchain\+D\+B\+::num\+\_\+calls = 0\hspace{0.3cm}{\ttfamily [private]}}



a performance metric 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a767aae6d1058ef696103778162f591b7}\label{classcryptonote_1_1BlockchainDB_a767aae6d1058ef696103778162f591b7}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!time\_add\_block1@{time\_add\_block1}}
\index{time\_add\_block1@{time\_add\_block1}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{time\_add\_block1}{time\_add\_block1}}
{\footnotesize\ttfamily std\+::chrono\+::nanoseconds cryptonote\+::\+Blockchain\+D\+B\+::time\+\_\+add\+\_\+block1 = 0ns\hspace{0.3cm}{\ttfamily [private]}}



a performance metric 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a807d7b97a796845656263c4e1c18ea47}\label{classcryptonote_1_1BlockchainDB_a807d7b97a796845656263c4e1c18ea47}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!time\_add\_transaction@{time\_add\_transaction}}
\index{time\_add\_transaction@{time\_add\_transaction}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{time\_add\_transaction}{time\_add\_transaction}}
{\footnotesize\ttfamily std\+::chrono\+::nanoseconds cryptonote\+::\+Blockchain\+D\+B\+::time\+\_\+add\+\_\+transaction = 0ns\hspace{0.3cm}{\ttfamily [private]}}



a performance metric 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_ac4b8b05f8fd879c77bb7fd6dc6959a6b}\label{classcryptonote_1_1BlockchainDB_ac4b8b05f8fd879c77bb7fd6dc6959a6b}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!time\_blk\_hash@{time\_blk\_hash}}
\index{time\_blk\_hash@{time\_blk\_hash}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{time\_blk\_hash}{time\_blk\_hash}}
{\footnotesize\ttfamily std\+::chrono\+::nanoseconds cryptonote\+::\+Blockchain\+D\+B\+::time\+\_\+blk\+\_\+hash = 0ns\hspace{0.3cm}{\ttfamily [private]}}



a performance metric 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_aa9b1990c117d58b0184b13e047e801a9}\label{classcryptonote_1_1BlockchainDB_aa9b1990c117d58b0184b13e047e801a9}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!time\_commit1@{time\_commit1}}
\index{time\_commit1@{time\_commit1}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{time\_commit1}{time\_commit1}}
{\footnotesize\ttfamily std\+::chrono\+::nanoseconds cryptonote\+::\+Blockchain\+D\+B\+::time\+\_\+commit1 = 0ns\hspace{0.3cm}{\ttfamily [protected]}}



a performance metric 

\mbox{\Hypertarget{classcryptonote_1_1BlockchainDB_a39d869e2ab08c12d80db33d302a6de6d}\label{classcryptonote_1_1BlockchainDB_a39d869e2ab08c12d80db33d302a6de6d}} 
\index{cryptonote::BlockchainDB@{cryptonote::BlockchainDB}!time\_tx\_exists@{time\_tx\_exists}}
\index{time\_tx\_exists@{time\_tx\_exists}!cryptonote::BlockchainDB@{cryptonote::BlockchainDB}}
\doxysubsubsection{\texorpdfstring{time\_tx\_exists}{time\_tx\_exists}}
{\footnotesize\ttfamily std\+::chrono\+::nanoseconds cryptonote\+::\+Blockchain\+D\+B\+::time\+\_\+tx\+\_\+exists = 0ns\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}



a performance metric 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/blockchain\+\_\+db/\mbox{\hyperlink{blockchain__db_8h}{blockchain\+\_\+db.\+h}}\item 
src/blockchain\+\_\+db/\mbox{\hyperlink{blockchain__db_8cpp}{blockchain\+\_\+db.\+cpp}}\end{DoxyCompactItemize}
