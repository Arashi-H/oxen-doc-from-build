<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monero: wallet::rpc::ONS_UPDATE_MAPPING Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Monero
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacewallet.html">wallet</a></li><li class="navelem"><a class="el" href="namespacewallet_1_1rpc.html">rpc</a></li><li class="navelem"><a class="el" href="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING.html">ONS_UPDATE_MAPPING</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">wallet::rpc::ONS_UPDATE_MAPPING Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="commands_8h_source.html">commands.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for wallet::rpc::ONS_UPDATE_MAPPING:</div>
<div class="dyncontent">
<div class="center"><img src="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING__inherit__graph.png" border="0" usemap="#wallet_1_1rpc_1_1ONS__UPDATE__MAPPING_inherit__map" alt="Inheritance graph"/></div>
<map name="wallet_1_1rpc_1_1ONS__UPDATE__MAPPING_inherit__map" id="wallet_1_1rpc_1_1ONS__UPDATE__MAPPING_inherit__map">
<area shape="rect" title=" " alt="" coords="17,169,203,211"/>
<area shape="rect" href="structcryptonote_1_1rpc_1_1RESTRICTED.html" title=" " alt="" coords="5,95,215,121"/>
<area shape="rect" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html" title=" " alt="" coords="33,5,187,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for wallet::rpc::ONS_UPDATE_MAPPING:</div>
<div class="dyncontent">
<div class="center"><img src="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING__coll__graph.png" border="0" usemap="#wallet_1_1rpc_1_1ONS__UPDATE__MAPPING_coll__map" alt="Collaboration graph"/></div>
<map name="wallet_1_1rpc_1_1ONS__UPDATE__MAPPING_coll__map" id="wallet_1_1rpc_1_1ONS__UPDATE__MAPPING_coll__map">
<area shape="rect" title=" " alt="" coords="183,319,368,360"/>
<area shape="rect" href="structcryptonote_1_1rpc_1_1RESTRICTED.html" title=" " alt="" coords="5,222,215,249"/>
<area shape="rect" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html" title=" " alt="" coords="33,124,187,165"/>
<area shape="rect" href="classcryptonote_1_1rpc_1_1json__binary__proxy.html" title=" " alt="" coords="33,5,187,47"/>
<area shape="rect" href="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING_1_1REQUEST.html" title=" " alt="" coords="239,215,424,256"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING_1_1REQUEST.html">REQUEST</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1f4c68cdd950225d512674a9254d6b29"><td class="memItemLeft" align="right" valign="top">static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING.html#a1f4c68cdd950225d512674a9254d6b29">names</a> ()</td></tr>
<tr class="separator:a1f4c68cdd950225d512674a9254d6b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac9a0f9e8b9ec74392562f0d6a8a2de93"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING_1_1REQUEST.html">wallet::rpc::ONS_UPDATE_MAPPING::REQUEST</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING.html#ac9a0f9e8b9ec74392562f0d6a8a2de93">request</a></td></tr>
<tr class="separator:ac9a0f9e8b9ec74392562f0d6a8a2de93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_structcryptonote_1_1rpc_1_1RPC__COMMAND')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html">cryptonote::rpc::RPC_COMMAND</a></td></tr>
<tr class="memitem:a2bc0bb6f3e058b65908b60b622312049 inherit pub_attribs_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memItemLeft" align="right" valign="top"><a class="el" href="transport_8cpp.html#afd59c6c3ac6616bcae5b57d264500a83">nlohmann::json</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html#a2bc0bb6f3e058b65908b60b622312049">response</a></td></tr>
<tr class="separator:a2bc0bb6f3e058b65908b60b622312049 inherit pub_attribs_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3265e6260157023b100ef173bdca5e inherit pub_attribs_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcryptonote_1_1rpc_1_1json__binary__proxy.html">json_binary_proxy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html#a7a3265e6260157023b100ef173bdca5e">response_hex</a> {<a class="el" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html#a2bc0bb6f3e058b65908b60b622312049">response</a>, <a class="el" href="classcryptonote_1_1rpc_1_1json__binary__proxy.html#a5a3657c39b6bc5817af70a0771bf7cbcab8d1b43eae73587ba56baef574709ecb">json_binary_proxy::fmt::hex</a>}</td></tr>
<tr class="separator:a7a3265e6260157023b100ef173bdca5e inherit pub_attribs_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b298e8b3de04794a866453f2afceb6 inherit pub_attribs_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcryptonote_1_1rpc_1_1json__binary__proxy.html">json_binary_proxy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html#a01b298e8b3de04794a866453f2afceb6">response_b64</a> {<a class="el" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html#a2bc0bb6f3e058b65908b60b622312049">response</a>, <a class="el" href="classcryptonote_1_1rpc_1_1json__binary__proxy.html#a5a3657c39b6bc5817af70a0771bf7cbca95a1446a7120e4af5c0c8878abb7e6d2">json_binary_proxy::fmt::base64</a>}</td></tr>
<tr class="separator:a01b298e8b3de04794a866453f2afceb6 inherit pub_attribs_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a7b1d8fef30f804bb6beca038b61ce073"><td class="memItemLeft" align="right" valign="top">static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING.html#a7b1d8fef30f804bb6beca038b61ce073">description</a></td></tr>
<tr class="separator:a7b1d8fef30f804bb6beca038b61ce073"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structcryptonote_1_1rpc_1_1RPC__COMMAND')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html">cryptonote::rpc::RPC_COMMAND</a></td></tr>
<tr class="memitem:a1175abfb3f49b18f5fc10401da137e14 inherit pub_methods_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#a1062901a7428fdd9c7f180f5e01ea056">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html#a1175abfb3f49b18f5fc10401da137e14">is_bt</a> () const</td></tr>
<tr class="memdesc:a1175abfb3f49b18f5fc10401da137e14 inherit pub_methods_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether this response is to be bt (true) or json (false) encoded. Do not set.  <a href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html#a1175abfb3f49b18f5fc10401da137e14">More...</a><br /></td></tr>
<tr class="separator:a1175abfb3f49b18f5fc10401da137e14 inherit pub_methods_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67edbae1cd7a1c34e039990d40efcea9 inherit pub_methods_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html#a67edbae1cd7a1c34e039990d40efcea9">set_bt</a> ()</td></tr>
<tr class="memdesc:a67edbae1cd7a1c34e039990d40efcea9 inherit pub_methods_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called early in the request to indicate that this request is a bt-encoded one.  <a href="structcryptonote_1_1rpc_1_1RPC__COMMAND.html#a67edbae1cd7a1c34e039990d40efcea9">More...</a><br /></td></tr>
<tr class="separator:a67edbae1cd7a1c34e039990d40efcea9 inherit pub_methods_structcryptonote_1_1rpc_1_1RPC__COMMAND"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Update the underlying value in the name-&gt;value mapping via Loki Name Service.</p>
<p>At least one field (value, owner, or backup owner) must be specified in the update. The existing owner (wallet address or ed25519 public key) of the mapping must be used to sign the update. If no signature is provided then the wallet's active address (or subaddress) will be used to sign the update. If signing is performed externally then you must first encrypt the <code>value</code> (if being updated), then sign a BLAKE2b hash of {encryptedvalue || owner || backup_owner || txid} (where txid is the most recent ONS update or registration transaction of this mapping; each of encrypted/owner/backup are empty strings if not being updated). For a wallet owner this is signed using the owning wallet's spend key; for a Ed25519 key this is a standard Ed25519 signature.</p>
<p>Inputs:</p>
<ul>
<li><code>type</code> &ndash; The mapping type, "session", "lokinet", or "wallet".</li>
<li><code>name</code> &ndash; The name to update via Loki Name Service</li>
<li><code>value</code> &ndash; (Optional): The new value that the name maps to via Loki Name Service. If not specified or given the empty string "", then the mapping's value remains unchanged. If using a <code>signature</code> then this value (if non-empty) must be already encrypted.</li>
<li><code>owner</code> &ndash; (Optional): The new owner of the mapping. If not specified or given the empty string "", then the mapping's owner remains unchanged.</li>
<li><code>backup_owner</code> &ndash; (Optional): The new backup owner of the mapping. If not specified or given the empty string "", then the mapping's backup owner remains unchanged.</li>
<li><code>signature</code> &ndash; (Optional): Signature derived using libsodium generichash on {current txid blob, new value blob} of the mapping to update. By default the hash is signed using the wallet's spend key as an ed25519 keypair, if signature is specified.</li>
<li><code>account_index</code> &ndash; (Optional) Transfer from this account index. (Defaults to 0)</li>
<li><code>subaddr_indices</code> &ndash; (Optional) Transfer from this set of subaddresses. (Defaults to 0)</li>
<li><code>priority</code> &ndash; Set a priority for the transaction. Accepted values are: 0-4 for: default, unimportant, normal, elevated, priority.</li>
<li><code>get_tx_key</code> &ndash; (Optional) Return the transaction key after sending.</li>
<li><code>do_not_relay</code> &ndash; (Optional) If true, the newly created transaction will not be relayed to the oxen network. (Defaults to false)</li>
<li><code>get_tx_hex</code> &ndash; Return the transaction as hex string after sending (Defaults to false)</li>
<li><code>get_tx_metadata</code> &ndash; Return the metadata needed to relay the transaction. (Defaults to false)</li>
</ul>
<p>Outputs:</p>
<ul>
<li><code>tx_hash</code> &ndash; Publicly searchable transaction hash.</li>
<li><code>tx_key</code> &ndash; Transaction key if <code>get_tx_key</code> is <code>true</code>, otherwise, blank string.</li>
<li><code>amount</code> &ndash; Amount transferred for the transaction in atomic units.</li>
<li><code>fee</code> &ndash; Value in atomic units of the fee charged for the tx.</li>
<li><code>tx_blob</code> &ndash; Raw transaction represented as hex string, if get_tx_hex is true.</li>
<li><code>tx_metadata</code> &ndash; Set of transaction metadata needed to relay this transfer later, if <code>get_tx_metadata</code> is <code>true</code>.</li>
<li><code>multisig_txset</code> &ndash; Set of multisig transactions in the process of being signed (empty for non-multisig).</li>
<li><code>unsigned_txset</code> &ndash; Set of unsigned tx for cold-signing purposes. </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1f4c68cdd950225d512674a9254d6b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4c68cdd950225d512674a9254d6b29">&#9670;&nbsp;</a></span>names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr auto wallet::rpc::ONS_UPDATE_MAPPING::names </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7b1d8fef30f804bb6beca038b61ce073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1d8fef30f804bb6beca038b61ce073">&#9670;&nbsp;</a></span>description</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* wallet::rpc::ONS_UPDATE_MAPPING::description</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">R<span class="stringliteral">&quot;(Update a Loki Name System mapping to refer to a new address or owner.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">At least one field (value, owner, or backup owner) must be specified in the update.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">The existing owner (wallet address or ed25519 public key) of the mapping must be used to sign the update. If no signature is provided then the wallet&#39;s active address (or subaddress) will be used to sign the update.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">If signing is performed externally then you must first encrypt the `value` (if being updated), then sign a BLAKE2b hash of {encryptedvalue || owner || backup_owner || txid} (where txid is the most recent ONS update or registration transaction of this mapping; each of encrypted/owner/backup are empty strings if not being updated). For a wallet owner this is signed using the owning wallet&#39;s spend key; for a Ed25519 key this is a standard Ed25519 signature.)&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9a0f9e8b9ec74392562f0d6a8a2de93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a0f9e8b9ec74392562f0d6a8a2de93">&#9670;&nbsp;</a></span>request</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structwallet_1_1rpc_1_1ONS__UPDATE__MAPPING_1_1REQUEST.html">wallet::rpc::ONS_UPDATE_MAPPING::REQUEST</a> wallet::rpc::ONS_UPDATE_MAPPING::request</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/wallet3/rpc/<a class="el" href="commands_8h_source.html">commands.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 21 2022 01:12:30 for Monero by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
