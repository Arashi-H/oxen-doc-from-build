<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monero: cryptonote::rpc::omq_rpc Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Monero
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecryptonote.html">cryptonote</a></li><li class="navelem"><a class="el" href="namespacecryptonote_1_1rpc.html">rpc</a></li><li class="navelem"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html">omq_rpc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcryptonote_1_1rpc_1_1omq__rpc-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cryptonote::rpc::omq_rpc Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="lmq__server_8h_source.html">lmq_server.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for cryptonote::rpc::omq_rpc:</div>
<div class="dyncontent">
<div class="center"><img src="classcryptonote_1_1rpc_1_1omq__rpc__coll__graph.png" border="0" usemap="#cryptonote_1_1rpc_1_1omq__rpc_coll__map" alt="Collaboration graph"/></div>
<map name="cryptonote_1_1rpc_1_1omq__rpc_coll__map" id="cryptonote_1_1rpc_1_1omq__rpc_coll__map">
<area shape="rect" title=" " alt="" coords="4148,676,4332,703"/>
<area shape="rect" href="classcryptonote_1_1core.html" title="handles core cryptonote functionality" alt="" coords="2839,645,2967,672"/>
<area shape="rect" href="classservice__nodes_1_1quorum__cop.html" title=" " alt="" coords="3188,73,3391,100"/>
<area shape="rect" href="classcryptonote_1_1rpc_1_1core__rpc__server.html" title=" " alt="" coords="3912,699,4068,741"/>
<area shape="rect" href="classcryptonote_1_1t__cryptonote__protocol__handler.html" title=" " alt="" coords="3178,1475,3401,1531"/>
<area shape="rect" href="structcryptonote_1_1i__miner__handler.html" title=" " alt="" coords="1943,1103,2092,1145"/>
<area shape="rect" href="classcryptonote_1_1miner.html" title=" " alt="" coords="2413,1131,2552,1157"/>
<area shape="rect" href="classcryptonote_1_1tx__memory__pool.html" title="Transaction pool, handles transactions which are not part of a block." alt="" coords="2377,729,2588,756"/>
<area shape="rect" href="classcryptonote_1_1Blockchain.html" title=" " alt="" coords="1932,729,2103,756"/>
<area shape="rect" href="classservice__nodes_1_1service__node__list.html" title=" " alt="" coords="2397,418,2568,459"/>
<area shape="rect" href="classcryptonote_1_1checkpoints.html" title="A container for blockchain checkpoints." alt="" coords="1540,617,1719,644"/>
<area shape="rect" title=" " alt="" coords="5,1063,80,1089"/>
<area shape="rect" href="classcryptonote_1_1BlockchainDB.html" title="The BlockchainDB backing store interface declaration/contract." alt="" coords="1073,624,1263,651"/>
<area shape="rect" href="structons_1_1name__system__db.html" title=" " alt="" coords="1084,1313,1252,1340"/>
<area shape="rect" href="structcryptonote_1_1block.html" title=" " alt="" coords="1562,1051,1697,1077"/>
<area shape="rect" href="structcryptonote_1_1block__header.html" title=" " alt="" coords="1075,1037,1261,1064"/>
<area shape="rect" href="classcryptonote_1_1transaction__prefix.html" title=" " alt="" coords="429,1247,603,1289"/>
<area shape="rect" href="structrct_1_1rctSigBase.html" title=" " alt="" coords="251,1352,367,1379"/>
<area shape="rect" href="classnodetool_1_1node__server.html" title=" " alt="" coords="3592,1246,3815,1317"/>
<area shape="rect" title=" " alt="" coords="690,797,750,824"/>
<area shape="rect" href="classcryptonote_1_1transaction.html" title=" " alt="" coords="1081,1252,1255,1279"/>
<area shape="rect" href="structservice__nodes_1_1participation__history.html" title=" " alt="" coords="1293,633,1499,689"/>
<area shape="rect" href="structcryptonote_1_1account__public__address.html" title=" " alt="" coords="1554,501,1705,542"/>
<area shape="rect" href="structcrypto_1_1public__key.html" title=" " alt="" coords="1098,381,1238,408"/>
<area shape="rect" href="structservice__nodes_1_1service__node__keys.html" title="Collection of keys used by a service node." alt="" coords="1544,215,1715,257"/>
<area shape="rect" href="structcrypto_1_1ec__point.html" title=" " alt="" coords="657,184,783,211"/>
<area shape="rect" href="structcrypto_1_1x25519__public__key.html" title=" " alt="" coords="1071,223,1265,249"/>
<area shape="rect" href="structcrypto_1_1ed25519__public__key.html" title=" " alt="" coords="1067,172,1269,199"/>
<area shape="rect" href="structcrypto_1_1bytes.html" title=" " alt="" coords="238,173,381,214"/>
<area shape="rect" href="structservice__nodes_1_1service__node__list_1_1data__for__serialization.html" title=" " alt="" coords="1899,418,2136,459"/>
<area shape="rect" href="classons_1_1sql__compiled__statement.html" title=" " alt="" coords="1523,1383,1736,1409"/>
<area shape="rect" href="structcrypto_1_1hash.html" title=" " alt="" coords="669,1196,771,1223"/>
<area shape="rect" href="structcrypto_1_1bytes.html" title=" " alt="" coords="230,1185,389,1226"/>
<area shape="rect" href="structcryptonote_1_1pulse__header.html" title=" " alt="" coords="627,977,813,1004"/>
<area shape="rect" href="structcryptonote_1_1pulse__random__value.html" title=" " alt="" coords="213,971,405,1013"/>
<area shape="rect" href="structrct_1_1rctSig.html" title=" " alt="" coords="678,1352,762,1379"/>
<area shape="rect" href="structrct_1_1rctSigPrunable.html" title=" " alt="" coords="239,1301,380,1328"/>
<area shape="rect" href="classtools_1_1periodic__task.html" title=" " alt="" coords="1943,1375,2092,1401"/>
<area shape="rect" href="structcryptonote_1_1i__cryptonote__protocol.html" title=" " alt="" coords="1927,238,2108,279"/>
<area shape="rect" href="structcryptonote_1_1cryptonote__protocol__stub.html" title=" " alt="" coords="2397,330,2568,371"/>
<area shape="rect" href="structservice__nodes_1_1voting__pool.html" title=" " alt="" coords="2804,5,3003,32"/>
<area shape="rect" title=" " alt="" coords="3168,1042,3411,1142"/>
<area shape="rect" href="structnodetool_1_1i__p2p__endpoint.html" title=" " alt="" coords="3176,1166,3403,1237"/>
<area shape="rect" title=" " alt="" coords="3221,1261,3358,1302"/>
<area shape="rect" href="classnodetool_1_1peerlist__storage.html" title=" " alt="" coords="3221,977,3357,1018"/>
<area shape="rect" href="structnodetool_1_1peerlist__types.html" title=" " alt="" coords="2835,977,2971,1018"/>
<area shape="rect" title=" " alt="" coords="3264,1327,3315,1353"/>
<area shape="rect" href="structnodetool_1_1i__p2p__endpoint.html" title=" " alt="" coords="2389,1668,2576,1724"/>
<area shape="rect" href="structnodetool_1_1p2p__endpoint__stub.html" title=" " alt="" coords="2793,1591,3013,1647"/>
<area shape="rect" href="classcryptonote_1_1block__queue.html" title=" " alt="" coords="2812,1671,2995,1697"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcryptonote_1_1rpc_1_1omq__rpc_1_1block__sub.html">block_sub</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcryptonote_1_1rpc_1_1omq__rpc_1_1mempool__sub.html">mempool_sub</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2141ff00110989b221af0540da22e988"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#a2141ff00110989b221af0540da22e988">omq_rpc</a> (<a class="el" href="classcryptonote_1_1core.html">cryptonote::core</a> &amp;<a class="el" href="classcryptonote_1_1core.html">core</a>, <a class="el" href="classcryptonote_1_1rpc_1_1core__rpc__server.html">core_rpc_server</a> &amp;rpc, const boost::program_options::variables_map &amp;vm)</td></tr>
<tr class="separator:a2141ff00110989b221af0540da22e988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39916510a78225901f4bec1b46f0cc2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#a39916510a78225901f4bec1b46f0cc2d">send_block_notifications</a> (const <a class="el" href="structcryptonote_1_1block.html">block</a> &amp;<a class="el" href="structcryptonote_1_1block.html">block</a>)</td></tr>
<tr class="separator:a39916510a78225901f4bec1b46f0cc2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184e0b38aa65facb24e0d9eb9dd60102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#a184e0b38aa65facb24e0d9eb9dd60102">send_mempool_notifications</a> (const <a class="el" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;id, const <a class="el" href="classcryptonote_1_1transaction.html">transaction</a> &amp;tx, const std::string &amp;blob, const <a class="el" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> &amp;opts)</td></tr>
<tr class="separator:a184e0b38aa65facb24e0d9eb9dd60102"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:aa57067607f9dd7f713b854d9d40655e5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#aa57067607f9dd7f713b854d9d40655e5">mempool_sub_type</a> { <a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#aa57067607f9dd7f713b854d9d40655e5aa181a603769c1f98ad927e7367c7aa51">mempool_sub_type::all</a>, 
<a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#aa57067607f9dd7f713b854d9d40655e5a40652ee9ae143f1c1c830f01a5449ecb">mempool_sub_type::blink</a>
 }</td></tr>
<tr class="separator:aa57067607f9dd7f713b854d9d40655e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae9265864e7a2796eb0cc1e63e5fccf0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#ae9265864e7a2796eb0cc1e63e5fccf0a">on_get_blocks</a> (oxenmq::Message &amp;m)</td></tr>
<tr class="separator:ae9265864e7a2796eb0cc1e63e5fccf0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefbc83d28e892e0296ce7b986379cc82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#aefbc83d28e892e0296ce7b986379cc82">on_mempool_sub_request</a> (oxenmq::Message &amp;m)</td></tr>
<tr class="separator:aefbc83d28e892e0296ce7b986379cc82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34449ba8c0d372d22caa52e2ffefeb58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#a34449ba8c0d372d22caa52e2ffefeb58">on_block_sub_request</a> (oxenmq::Message &amp;m)</td></tr>
<tr class="separator:a34449ba8c0d372d22caa52e2ffefeb58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3e69a6c8d29cf5cd558d6ee32371b101"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcryptonote_1_1core.html">cryptonote::core</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#a3e69a6c8d29cf5cd558d6ee32371b101">core_</a></td></tr>
<tr class="separator:a3e69a6c8d29cf5cd558d6ee32371b101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd4d57ff1e7f69bc0975f811f251624"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcryptonote_1_1rpc_1_1core__rpc__server.html">core_rpc_server</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#abdd4d57ff1e7f69bc0975f811f251624">rpc_</a></td></tr>
<tr class="separator:abdd4d57ff1e7f69bc0975f811f251624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f556dcaa8f85366ebe999038cc5a651"><td class="memItemLeft" align="right" valign="top">std::shared_timed_mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#a2f556dcaa8f85366ebe999038cc5a651">subs_mutex_</a></td></tr>
<tr class="separator:a2f556dcaa8f85366ebe999038cc5a651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5f63d2629682972a67c06076e94644"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; oxenmq::ConnectionID, <a class="el" href="structcryptonote_1_1rpc_1_1omq__rpc_1_1mempool__sub.html">mempool_sub</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#aad5f63d2629682972a67c06076e94644">mempool_subs_</a></td></tr>
<tr class="separator:aad5f63d2629682972a67c06076e94644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a1b326f94aec14a2b71e5f4d6af7e7a"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; oxenmq::ConnectionID, <a class="el" href="structcryptonote_1_1rpc_1_1omq__rpc_1_1block__sub.html">block_sub</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#a4a1b326f94aec14a2b71e5f4d6af7e7a">block_subs_</a></td></tr>
<tr class="separator:a4a1b326f94aec14a2b71e5f4d6af7e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>LMQ RPC server class. This doesn't actually hold the OxenMQ instance&ndash;that's in cryptonote_core&ndash;but it works with it to add RPC endpoints, make it listen on RPC ports, and handles RPC requests. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="aa57067607f9dd7f713b854d9d40655e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57067607f9dd7f713b854d9d40655e5">&#9670;&nbsp;</a></span>mempool_sub_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classcryptonote_1_1rpc_1_1omq__rpc.html#aa57067607f9dd7f713b854d9d40655e5">cryptonote::rpc::omq_rpc::mempool_sub_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa57067607f9dd7f713b854d9d40655e5aa181a603769c1f98ad927e7367c7aa51"></a>all&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa57067607f9dd7f713b854d9d40655e5a40652ee9ae143f1c1c830f01a5449ecb"></a>blink&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2141ff00110989b221af0540da22e988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2141ff00110989b221af0540da22e988">&#9670;&nbsp;</a></span>omq_rpc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cryptonote::rpc::omq_rpc::omq_rpc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcryptonote_1_1core.html">cryptonote::core</a> &amp;&#160;</td>
          <td class="paramname"><em>core</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcryptonote_1_1rpc_1_1core__rpc__server.html">core_rpc_server</a> &amp;&#160;</td>
          <td class="paramname"><em>rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::program_options::variables_map &amp;&#160;</td>
          <td class="paramname"><em>vm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a34449ba8c0d372d22caa52e2ffefeb58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34449ba8c0d372d22caa52e2ffefeb58">&#9670;&nbsp;</a></span>on_block_sub_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cryptonote::rpc::omq_rpc::on_block_sub_request </td>
          <td>(</td>
          <td class="paramtype">oxenmq::Message &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae9265864e7a2796eb0cc1e63e5fccf0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9265864e7a2796eb0cc1e63e5fccf0a">&#9670;&nbsp;</a></span>on_get_blocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cryptonote::rpc::omq_rpc::on_get_blocks </td>
          <td>(</td>
          <td class="paramtype">oxenmq::Message &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a set of blocks, their transactions, and their created outputs' global indices</p>
<p>Inputs:</p>
<ul>
<li><code>start_height</code> &ndash; height of first requested block. Requesting past the end of the chain is valid; The resulting block list will be empty if this happens.</li>
<li><code>size_limit</code> &ndash; limit for the response message size. If a single block would go over this limit, status will indicate with "TOO BIG"</li>
<li><code>max_count</code> &ndash; maximum number of blocks to send</li>
</ul>
<p>Outputs:</p>
<ul>
<li><p class="startli"><code>status</code> &ndash; General RPC status string. "OK" means the request was ok. "END" means the request reached the end of the chain (still ok). Anything else indicates an error, specified by the string given.</p>
<p class="startli">Blocks will be encoded based on the request parameters' encoding.</p>
</li>
<li><code>block</code> (top-level object/dict):<ul>
<li><code>hash</code> &ndash; the block hash</li>
<li><code>height</code> &ndash; the block height</li>
<li><code>timestamp</code> &ndash; the block timestamp</li>
<li><code>transactions</code> &ndash; list of the block's transactions (including miner tx), each a dict as follows:<ul>
<li><code>global_indices</code> &ndash; list of output indices for the transaction's created outputs</li>
<li><code>hash</code> &ndash; the transaction hash</li>
<li><code>tx</code> &ndash; base64 string of raw transaction data <dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>properly serialized transaction </dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
<a id="aefbc83d28e892e0296ce7b986379cc82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefbc83d28e892e0296ce7b986379cc82">&#9670;&nbsp;</a></span>on_mempool_sub_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cryptonote::rpc::omq_rpc::on_mempool_sub_request </td>
          <td>(</td>
          <td class="paramtype">oxenmq::Message &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a39916510a78225901f4bec1b46f0cc2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39916510a78225901f4bec1b46f0cc2d">&#9670;&nbsp;</a></span>send_block_notifications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cryptonote::rpc::omq_rpc::send_block_notifications </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcryptonote_1_1block.html">block</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a184e0b38aa65facb24e0d9eb9dd60102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184e0b38aa65facb24e0d9eb9dd60102">&#9670;&nbsp;</a></span>send_mempool_notifications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cryptonote::rpc::omq_rpc::send_mempool_notifications </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcryptonote_1_1transaction.html">transaction</a> &amp;&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4a1b326f94aec14a2b71e5f4d6af7e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a1b326f94aec14a2b71e5f4d6af7e7a">&#9670;&nbsp;</a></span>block_subs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;oxenmq::ConnectionID, <a class="el" href="structcryptonote_1_1rpc_1_1omq__rpc_1_1block__sub.html">block_sub</a>&gt; cryptonote::rpc::omq_rpc::block_subs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3e69a6c8d29cf5cd558d6ee32371b101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e69a6c8d29cf5cd558d6ee32371b101">&#9670;&nbsp;</a></span>core_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcryptonote_1_1core.html">cryptonote::core</a>&amp; cryptonote::rpc::omq_rpc::core_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aad5f63d2629682972a67c06076e94644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad5f63d2629682972a67c06076e94644">&#9670;&nbsp;</a></span>mempool_subs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;oxenmq::ConnectionID, <a class="el" href="structcryptonote_1_1rpc_1_1omq__rpc_1_1mempool__sub.html">mempool_sub</a>&gt; cryptonote::rpc::omq_rpc::mempool_subs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abdd4d57ff1e7f69bc0975f811f251624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdd4d57ff1e7f69bc0975f811f251624">&#9670;&nbsp;</a></span>rpc_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcryptonote_1_1rpc_1_1core__rpc__server.html">core_rpc_server</a>&amp; cryptonote::rpc::omq_rpc::rpc_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2f556dcaa8f85366ebe999038cc5a651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f556dcaa8f85366ebe999038cc5a651">&#9670;&nbsp;</a></span>subs_mutex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_timed_mutex cryptonote::rpc::omq_rpc::subs_mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/rpc/<a class="el" href="lmq__server_8h_source.html">lmq_server.h</a></li>
<li>src/rpc/<a class="el" href="lmq__server_8cpp.html">lmq_server.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 21 2022 01:12:11 for Monero by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
