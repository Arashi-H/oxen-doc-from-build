<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monero: src/cryptonote_core/tx_pool.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Monero
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c2124ce071ea3a7a634e4f0044274ddd.html">cryptonote_core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">tx_pool.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="tx__pool_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright (c) 2014-2019, The Monero Project</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// All rights reserved.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Redistribution and use in source and binary forms, with or without modification, are</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// 1. Redistributions of source code must retain the above copyright notice, this list of</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//    conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// 2. Redistributions in binary form must reproduce the above copyright notice, this list</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//    of conditions and the following disclaimer in the documentation and/or other</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//    materials provided with the distribution.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// 3. Neither the name of the copyright holder nor the names of its contributors may be</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//    used to endorse or promote products derived from this software without specific</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//    prior written permission.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// Parts of this file are originally copyright (c) 2012-2013 The Cryptonote developers</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;unordered_set&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;boost/serialization/version.hpp&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;epee/string_tools.h&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="periodic__task_8h.html">common/periodic_task.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cryptonote__basic__impl_8h.html">cryptonote_basic/cryptonote_basic_impl.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="verification__context_8h.html">cryptonote_basic/verification_context.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="blockchain__db_8h.html">blockchain_db/blockchain_db.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hash_8h.html">crypto/hash.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tx__blink_8h.html">tx_blink.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="oxen__economy_8h.html">oxen_economy.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacecryptonote.html">cryptonote</a></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="namespacecryptonote.html#ad52e7d48940abd955a97796d3d2e71f0">   51</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classcryptonote_1_1Blockchain.html">Blockchain</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">  /************************************************************************/</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="comment">/*                                                                      */</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">  /************************************************************************/</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keyword">typedef</span> std::pair&lt;std::tuple&lt;bool, double, std::time_t&gt;, <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a>&gt; <a class="code" href="namespacecryptonote.html#ad52e7d48940abd955a97796d3d2e71f0">tx_by_fee_and_receive_time_entry</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classcryptonote_1_1txCompare.html">   59</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classcryptonote_1_1txCompare.html">txCompare</a></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classcryptonote_1_1txCompare.html#a1451c93cfac701a2832e225a556a2ac0">   62</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1txCompare.html#a1451c93cfac701a2832e225a556a2ac0">operator()</a>(<span class="keyword">const</span> <a class="code" href="namespacecryptonote.html#ad52e7d48940abd955a97796d3d2e71f0">tx_by_fee_and_receive_time_entry</a>&amp; <a class="code" href="namespaceMakeCryptoOps.html#a788b859b89f277e1252442fa34588fa7">a</a>, <span class="keyword">const</span> <a class="code" href="namespacecryptonote.html#ad52e7d48940abd955a97796d3d2e71f0">tx_by_fee_and_receive_time_entry</a>&amp; <a class="code" href="namespacebase.html#acad90f7e7db0cef6b10f63a920e4a10e">b</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="comment">// Sort order:         non-standard txes,     fee (descending),      arrival time,         hash</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <span class="keywordflow">return</span> std::make_tuple(!std::get&lt;0&gt;(<a class="code" href="namespaceMakeCryptoOps.html#a788b859b89f277e1252442fa34588fa7">a</a>.first), -std::get&lt;1&gt;(<a class="code" href="namespaceMakeCryptoOps.html#a788b859b89f277e1252442fa34588fa7">a</a>.first), std::get&lt;2&gt;(<a class="code" href="namespaceMakeCryptoOps.html#a788b859b89f277e1252442fa34588fa7">a</a>.first), <a class="code" href="namespaceMakeCryptoOps.html#a788b859b89f277e1252442fa34588fa7">a</a>.second)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;           &lt; std::make_tuple(!std::get&lt;0&gt;(<a class="code" href="namespacebase.html#acad90f7e7db0cef6b10f63a920e4a10e">b</a>.first), -std::get&lt;1&gt;(<a class="code" href="namespacebase.html#acad90f7e7db0cef6b10f63a920e4a10e">b</a>.first), std::get&lt;2&gt;(<a class="code" href="namespacebase.html#acad90f7e7db0cef6b10f63a920e4a10e">b</a>.first), <a class="code" href="namespacebase.html#acad90f7e7db0cef6b10f63a920e4a10e">b</a>.second);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  };</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="namespacecryptonote.html#a519318e9f47111feb31d73d79a8003de">   71</a></span>&#160;  <span class="keyword">typedef</span> std::set&lt;tx_by_fee_and_receive_time_entry, txCompare&gt; <a class="code" href="namespacecryptonote.html#a519318e9f47111feb31d73d79a8003de">sorted_tx_container</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html">   74</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> {</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a502d8fed21226db749415ed7415fc4ce">   75</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html#a502d8fed21226db749415ed7415fc4ce">kept_by_block</a> = <span class="keyword">false</span>; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a79af50e6ab702ec22ad69226ee87f00f">   76</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html#a79af50e6ab702ec22ad69226ee87f00f">relayed</a> = <span class="keyword">false</span>; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a52a32f2f88cf6ab332c7d68e2e9a87d5">   77</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html#a52a32f2f88cf6ab332c7d68e2e9a87d5">do_not_relay</a> = <span class="keyword">false</span>; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a42c4a7b63dd11fc42f402616bf23873c">   78</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html#a42c4a7b63dd11fc42f402616bf23873c">approved_blink</a> = <span class="keyword">false</span>; </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a7c1a40ecfb16d900666993ada499513d">   79</a></span>&#160;    uint64_t <a class="code" href="structcryptonote_1_1tx__pool__options.html#a7c1a40ecfb16d900666993ada499513d">fee_percent</a> = 100; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#aa5579d05844f4e0fe4b49b6a07ad9dd5">   80</a></span>&#160;    uint64_t <a class="code" href="structcryptonote_1_1tx__pool__options.html#aa5579d05844f4e0fe4b49b6a07ad9dd5">burn_fixed</a> = 0; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a46c251121834a7f3627b64a887ae0fb2">   81</a></span>&#160;    uint64_t <a class="code" href="structcryptonote_1_1tx__pool__options.html#a46c251121834a7f3627b64a887ae0fb2">burn_percent</a> = 0; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a0f0cbf38cc22fed0c1e3e70d640e1371">   83</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> <a class="code" href="structcryptonote_1_1tx__pool__options.html#a0f0cbf38cc22fed0c1e3e70d640e1371">from_block</a>() { <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> o; o.<a class="code" href="structcryptonote_1_1tx__pool__options.html#a502d8fed21226db749415ed7415fc4ce">kept_by_block</a> = <span class="keyword">true</span>; o.<a class="code" href="structcryptonote_1_1tx__pool__options.html#a79af50e6ab702ec22ad69226ee87f00f">relayed</a> = <span class="keyword">true</span>; <span class="keywordflow">return</span> o; }</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a15127e16e6c8bf5e05adaeae2c962caf">   84</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> <a class="code" href="structcryptonote_1_1tx__pool__options.html#a15127e16e6c8bf5e05adaeae2c962caf">from_peer</a>() { <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> o; o.<a class="code" href="structcryptonote_1_1tx__pool__options.html#a79af50e6ab702ec22ad69226ee87f00f">relayed</a> = <span class="keyword">true</span>; <span class="keywordflow">return</span> o; }</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a06edb4320ccd38f29c4bd2e71c71ac8e">   85</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> <a class="code" href="structcryptonote_1_1tx__pool__options.html#a06edb4320ccd38f29c4bd2e71c71ac8e">new_tx</a>(<span class="keywordtype">bool</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html#a52a32f2f88cf6ab332c7d68e2e9a87d5">do_not_relay</a> = <span class="keyword">false</span>) { <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> o; o.<a class="code" href="structcryptonote_1_1tx__pool__options.html#a52a32f2f88cf6ab332c7d68e2e9a87d5">do_not_relay</a> = <a class="code" href="structcryptonote_1_1tx__pool__options.html#a52a32f2f88cf6ab332c7d68e2e9a87d5">do_not_relay</a>; <span class="keywordflow">return</span> o; }</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__pool__options.html#a3ca45a26f8f898479419592e10107a39">   86</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> <a class="code" href="structcryptonote_1_1tx__pool__options.html#a3ca45a26f8f898479419592e10107a39">new_blink</a>(<span class="keywordtype">bool</span> approved, <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">hf</a> hf_version) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> o;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      o.<a class="code" href="structcryptonote_1_1tx__pool__options.html#a52a32f2f88cf6ab332c7d68e2e9a87d5">do_not_relay</a> = !approved;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      o.<a class="code" href="structcryptonote_1_1tx__pool__options.html#a42c4a7b63dd11fc42f402616bf23873c">approved_blink</a> = approved;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      o.<a class="code" href="structcryptonote_1_1tx__pool__options.html#a7c1a40ecfb16d900666993ada499513d">fee_percent</a> = <a class="code" href="namespaceoxen.html#a0b3a347602a0433a588e21b2047ef39a">oxen::BLINK_MINER_TX_FEE_PERCENT</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      o.<a class="code" href="structcryptonote_1_1tx__pool__options.html#a46c251121834a7f3627b64a887ae0fb2">burn_percent</a> = <a class="code" href="namespaceoxen.html#a73145ac6fcfeee75e598ca9b9c94a39d">oxen::BLINK_BURN_TX_FEE_PERCENT_V18</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      o.<a class="code" href="structcryptonote_1_1tx__pool__options.html#aa5579d05844f4e0fe4b49b6a07ad9dd5">burn_fixed</a> = <a class="code" href="namespaceoxen.html#a0f6e48c7a3012ac3055ee50f3d3e672c">oxen::BLINK_BURN_FIXED</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  };</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html">  112</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classcryptonote_1_1tx__memory__pool.html">tx_memory_pool</a></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a992c709afc7268d0d9cf23485095d98f">tx_memory_pool</a>(<a class="code" href="classcryptonote_1_1Blockchain.html">Blockchain</a>&amp; bchs);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Non-copyable</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a992c709afc7268d0d9cf23485095d98f">tx_memory_pool</a>(<span class="keyword">const</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html">tx_memory_pool</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="classcryptonote_1_1tx__memory__pool.html">tx_memory_pool</a> &amp;<a class="code" href="classcryptonote_1_1tx__memory__pool.html#a48b0ca004bbdd657127cb3e85d986619">operator=</a>(<span class="keyword">const</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html">tx_memory_pool</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ad5946446c0e38b9e05b10bc658f949c9">add_tx</a>(<a class="code" href="classcryptonote_1_1transaction.html">transaction</a> &amp;tx, <span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;<span class="keywordtype">id</span>, <span class="keyword">const</span> std::string &amp;blob, <span class="keywordtype">size_t</span> tx_weight, <a class="code" href="structcryptonote_1_1tx__verification__context.html">tx_verification_context</a>&amp; tvc, <span class="keyword">const</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> &amp;opts, <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">hf</a> hf_version, uint64_t *blink_rollback_height = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ad5946446c0e38b9e05b10bc658f949c9">add_tx</a>(<a class="code" href="classcryptonote_1_1transaction.html">transaction</a> &amp;tx, <a class="code" href="structcryptonote_1_1tx__verification__context.html">tx_verification_context</a>&amp; tvc, <span class="keyword">const</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a> &amp;opts, <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">hf</a> hf_version);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a013deee6f30a649f65430ab8f27aa1ea">add_new_blink</a>(<span class="keyword">const</span> std::shared_ptr&lt;blink_tx&gt; &amp;<a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a40652ee9ae143f1c1c830f01a5449ecb">blink</a>, <a class="code" href="structcryptonote_1_1tx__verification__context.html">tx_verification_context</a>&amp; tvc, <span class="keywordtype">bool</span> &amp;blink_exists);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ab3d69f56ad1b8807de5d3ff108543433">add_existing_blink</a>(std::shared_ptr&lt;blink_tx&gt; <a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a40652ee9ae143f1c1c830f01a5449ecb">blink</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    std::shared_ptr&lt;blink_tx&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a4e9a263a86f5966b6b49421aaed989ec">get_blink</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;<a class="code" href="namespacewallet25.html#a069a9cf6e98b6412419b457042c3ea4e">tx_hash</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#aa99a39234919dfe66897951fa0bb5241">has_blink</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;<a class="code" href="namespacewallet25.html#a069a9cf6e98b6412419b457042c3ea4e">tx_hash</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a60742c292f673da41e8906e1ce18b59c">keep_missing_blinks</a>(std::vector&lt;crypto::hash&gt; &amp;tx_hashes) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    std::map&lt;uint64_t, crypto::hash&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ab424e94187ab40930a39b273ac6f31d7">get_blink_checksums</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    std::vector&lt;crypto::hash&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a9a1b40549be4e5ce2575db5736f591ce">get_mined_blinks</a>(<span class="keyword">const</span> std::set&lt;uint64_t&gt; &amp;heights) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#af2bba96b565d97b87f2a90fef343eba0">take_tx</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;<span class="keywordtype">id</span>, <a class="code" href="classcryptonote_1_1transaction.html">transaction</a> &amp;tx, std::string &amp;txblob, <span class="keywordtype">size_t</span>&amp; tx_weight, uint64_t&amp; fee, <span class="keywordtype">bool</span> &amp;relayed, <span class="keywordtype">bool</span> &amp;do_not_relay, <span class="keywordtype">bool</span> &amp;double_spend_seen);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a54c005079be92dc34c487216278086e4">have_tx</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;<span class="keywordtype">id</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    std::vector&lt;uint8_t&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ae6710a00d13e4ddc0a1974b391ae85aa">have_txs</a>(<span class="keyword">const</span> std::vector&lt;crypto::hash&gt; &amp;hashes) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a5d217ba322d9d2e06500411fffe07d67">on_blockchain_inc</a>(<a class="code" href="structcryptonote_1_1block.html">block</a> <span class="keyword">const</span> &amp;blk);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ae6da06ddc8334f31dd69aecffdcf948e">on_blockchain_dec</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a1b272997a403b2f451820e890ba628b0">on_idle</a>();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ae7fe5dc73d036d7ea07ac632317b6113">add_notify</a>(std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a>&amp;, <span class="keyword">const</span> <a class="code" href="classcryptonote_1_1transaction.html">transaction</a>&amp;, <span class="keyword">const</span> std::string&amp; blob, <span class="keyword">const</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a>&amp;)&gt; notify);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a0e718457416f64580f4dfdc4e9926cbd">  332</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a0e718457416f64580f4dfdc4e9926cbd">lock</a>()<span class="keyword"> const </span>{ <a class="code" href="classcryptonote_1_1tx__memory__pool.html#af6636b9a2711cc5e296bcd7f526983a9">m_transactions_lock</a>.lock(); }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a011855e34b5f72c21770d3718313ef40">  337</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a011855e34b5f72c21770d3718313ef40">unlock</a>()<span class="keyword"> const </span>{ <a class="code" href="classcryptonote_1_1tx__memory__pool.html#af6636b9a2711cc5e296bcd7f526983a9">m_transactions_lock</a>.unlock(); }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a65b8179f3f72c219b0afe760d6df55ee">  342</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a65b8179f3f72c219b0afe760d6df55ee">try_lock</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#af6636b9a2711cc5e296bcd7f526983a9">m_transactions_lock</a>.try_lock(); }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a010a25d6e7eb662d6c29c732da0ee1c2">  348</a></span>&#160;    <span class="keyword">auto</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a010a25d6e7eb662d6c29c732da0ee1c2">blink_unique_lock</a>(Args &amp;&amp;...<a class="code" href="namespacebuild__protob.html#af7b1584c0fc5c4d61fa20bd5a9917df9">args</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::unique_lock{<a class="code" href="classcryptonote_1_1tx__memory__pool.html#a0e1f7a8e08fea6ffe32904af0a99935c">m_blinks_mutex</a>, std::forward&lt;Args&gt;(<a class="code" href="namespacebuild__protob.html#af7b1584c0fc5c4d61fa20bd5a9917df9">args</a>)...}; }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#af13906ba925503f7de4bacfca1f1497c">  354</a></span>&#160;    <span class="keyword">auto</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#af13906ba925503f7de4bacfca1f1497c">blink_shared_lock</a>(Args &amp;&amp;...<a class="code" href="namespacebuild__protob.html#af7b1584c0fc5c4d61fa20bd5a9917df9">args</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::shared_lock{<a class="code" href="classcryptonote_1_1tx__memory__pool.html#a0e1f7a8e08fea6ffe32904af0a99935c">m_blinks_mutex</a>, std::forward&lt;Args&gt;(<a class="code" href="namespacebuild__protob.html#af7b1584c0fc5c4d61fa20bd5a9917df9">args</a>)...}; }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// load/store operations</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a82ef1c5e089c16db7f09595a092d1825">init</a>(<span class="keywordtype">size_t</span> max_txpool_weight = 0);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#afea956b17732998b8143d6d3d8e0ba7b">deinit</a>();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a1211f3aefd5033931d168da4e78fd80a">fill_block_template</a>(<a class="code" href="structcryptonote_1_1block.html">block</a> &amp;bl, <span class="keywordtype">size_t</span> median_weight, uint64_t already_generated_coins, <span class="keywordtype">size_t</span> &amp;total_weight, uint64_t &amp;raw_fee, uint64_t &amp;expected_reward, <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">hf</a> version, uint64_t height);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a781505a42371a8461edb4047bf6c2046">get_transactions</a>(std::vector&lt;transaction&gt;&amp; txs, <span class="keywordtype">bool</span> include_unrelayed_txes = <span class="keyword">true</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a3d0b85b526e1d7cf27a58b076270c52b">get_transaction_hashes</a>(std::vector&lt;crypto::hash&gt;&amp; txs, <span class="keywordtype">bool</span> include_unrelayed_txes = <span class="keyword">true</span>, <span class="keywordtype">bool</span> include_only_blinked = <span class="keyword">false</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html">  413</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html">tx_stats</a></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    {</div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a7cc30785acab0705af82a3ed6fb32b79">  415</a></span>&#160;      uint64_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a7cc30785acab0705af82a3ed6fb32b79">bytes_total</a>;     </div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#abe0121f98df0d3ccb836792ae2fb0fc9">  416</a></span>&#160;      uint32_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#abe0121f98df0d3ccb836792ae2fb0fc9">bytes_min</a>;       </div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a38f69e8e279b4c56c6f431a5c41998eb">  417</a></span>&#160;      uint32_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a38f69e8e279b4c56c6f431a5c41998eb">bytes_max</a>;       </div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a7feb4fcf9b2ea0155c71e4e85dd2de05">  418</a></span>&#160;      uint32_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a7feb4fcf9b2ea0155c71e4e85dd2de05">bytes_med</a>;       </div>
<div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#ad642b88d568e37372ef90a19ca9d954b">  419</a></span>&#160;      uint64_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#ad642b88d568e37372ef90a19ca9d954b">fee_total</a>;       </div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a82f7a0ff04f52c2eff8fd057edc61341">  420</a></span>&#160;      uint64_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a82f7a0ff04f52c2eff8fd057edc61341">oldest</a>;          </div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#abf194db5857b81ff86ec1559ad27414f">  421</a></span>&#160;      uint32_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#abf194db5857b81ff86ec1559ad27414f">txs_total</a>;       </div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a4addf08dbe4d8abc61d80c57256c7cc4">  422</a></span>&#160;      uint32_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a4addf08dbe4d8abc61d80c57256c7cc4">num_failing</a>;     </div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#aa01c86866ce776d3c27ec6974653e1ed">  423</a></span>&#160;      uint32_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#aa01c86866ce776d3c27ec6974653e1ed">num_10m</a>;         </div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#ade959d5eeea283e112753fbe114ef3a2">  424</a></span>&#160;      uint32_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#ade959d5eeea283e112753fbe114ef3a2">num_not_relayed</a>; </div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a9a214973222c69015a018ad6edaa6eb3">  425</a></span>&#160;      uint64_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a9a214973222c69015a018ad6edaa6eb3">histo_98pc</a>;      </div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#ac0d5b60dc8aaf2d3e1bbdd17d236e92b">  426</a></span>&#160;      std::vector&lt;std::pair&lt;uint32_t, uint64_t&gt;&gt; <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#ac0d5b60dc8aaf2d3e1bbdd17d236e92b">histo</a>; </div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a5bbd9aafb5c2f1a825ea82f3c9e9c166">  427</a></span>&#160;      uint32_t <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a5bbd9aafb5c2f1a825ea82f3c9e9c166">num_double_spends</a>; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    };</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html">tx_stats</a> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#afc6a4f1b878b42f63e3fbf99643c591c">get_transaction_stats</a>(<span class="keywordtype">bool</span> include_unrelayed_txes = <span class="keyword">true</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#aec13cc81f2955d9f39bf3273791a3e21">check_for_key_images</a>(<span class="keyword">const</span> std::vector&lt;crypto::key_image&gt;&amp; key_images, std::vector&lt;bool&gt;&amp; spent) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a8afa235429f2aad604d7a01bf8117c55">get_transaction</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a>&amp; h, std::string&amp; txblob) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a9946ac23813b0846275575e79b37bcc8">find_transactions</a>(<span class="keyword">const</span> std::unordered_set&lt;crypto::hash&gt;&amp; tx_hashes, std::vector&lt;std::string&gt;&amp; txblobs) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ada0bbc05821f25c43f87818dd048e2be">get_relayable_transactions</a>(std::vector&lt;std::pair&lt;crypto::hash, std::string&gt;&gt;&amp; txs) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a2a0cf4b37f2feb1653ac96a83945cca3">set_relayable</a>(<span class="keyword">const</span> std::vector&lt;crypto::hash&gt; &amp;tx_hashes);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#acec0c2d4cc416d504e4ceabbb175edc2">set_relayed</a>(<span class="keyword">const</span> std::vector&lt;std::pair&lt;crypto::hash, std::string&gt;&gt;&amp; txs);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ac819deab6187cd28a7a1233114b287d5">get_transactions_count</a>(<span class="keywordtype">bool</span> include_unrelayed_txes = <span class="keyword">true</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ac338181c8cdba5f77b645c530de1de7a">validate</a>(<a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">hf</a> version);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a7126ff436715b0012c73a78cc83ca0b1">  527</a></span>&#160;    uint64_t <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a7126ff436715b0012c73a78cc83ca0b1">cookie</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#acfcbd1baa408b2f7484b18bd848bd6a6">m_cookie</a>; }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ab572c0afc555ae393a8df2dcc0f00673">get_txpool_weight</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a76b8b8aba76dc6dac3ef345367574f69">set_txpool_max_weight</a>(<span class="keywordtype">size_t</span> bytes);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">//TODO: confirm the below comments and investigate whether or not this</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">//      is the desired behavior</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#ac8db608d610e9b31288681ab018ae2e9">  552</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ac8db608d610e9b31288681ab018ae2e9">key_images_container</a> = std::unordered_map&lt;crypto::key_image, std::unordered_set&lt;crypto::hash&gt;&gt;;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ac8db608d610e9b31288681ab018ae2e9">key_images_container</a> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a3c5681132864da1374850641c1e35f2e">get_spent_key_images</a>(<span class="keywordtype">bool</span> already_locked = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ad93aa45381a8ba23afbba87e50aa6e4b">insert_key_images</a>(<span class="keyword">const</span> <a class="code" href="classcryptonote_1_1transaction__prefix.html">transaction_prefix</a> &amp;tx, <span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;txid, <span class="keywordtype">bool</span> kept_by_block);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#aad00ed4cce2351c261925dfbde1b0a1e">remove_stuck_transactions</a>();</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#adc095de20f5654b4642f947a08d5e6ec">have_tx_keyimg_as_spent</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1key__image.html">crypto::key_image</a>&amp; key_im) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ac624b3e7995eaecac7bd77d28b21836d">have_duplicated_non_standard_tx</a>(<a class="code" href="classcryptonote_1_1transaction.html">transaction</a> <span class="keyword">const</span> &amp;tx, <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">hf</a> version) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a9360c129a0323bf11804be1764102f55">have_tx_keyimges_as_spent</a>(<span class="keyword">const</span> <a class="code" href="classcryptonote_1_1transaction.html">transaction</a>&amp; tx, std::vector&lt;crypto::hash&gt; *conflicting = <span class="keyword">nullptr</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a3fea8a79996be4896421a1d492414098">remove_transaction_keyimages</a>(<span class="keyword">const</span> <a class="code" href="classcryptonote_1_1transaction__prefix.html">transaction_prefix</a>&amp; tx, <span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;txid);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a223200675e9cb2dc9c748163664fc7e0">is_transaction_ready_to_go</a>(<a class="code" href="structcryptonote_1_1txpool__tx__meta__t.html">txpool_tx_meta_t</a>&amp; txd, <span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;txid, <span class="keyword">const</span> std::string &amp;txblob, <a class="code" href="classcryptonote_1_1transaction.html">transaction</a>&amp;tx) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ab421ff4baa8437324f4e3a6b2fb4e138">mark_double_spend</a>(<span class="keyword">const</span> <a class="code" href="classcryptonote_1_1transaction.html">transaction</a> &amp;tx);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a2371b71c2f9d0307a28fc2f9638c00f3">remove_tx</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;txid, <span class="keyword">const</span> <a class="code" href="structcryptonote_1_1txpool__tx__meta__t.html">txpool_tx_meta_t</a> *meta = <span class="keyword">nullptr</span>, <span class="keyword">const</span> sorted_tx_container::iterator *stc_it = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ace60037187690f98fe07f18c3daf32f4">prune</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;skip);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#adfb2c77087275ab6ff7759b773f8de15">remove_blink_conflicts</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;<span class="keywordtype">id</span>, <span class="keyword">const</span> std::vector&lt;crypto::hash&gt; &amp;conflict_txs, uint64_t *blink_rollback_height);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#af6636b9a2711cc5e296bcd7f526983a9">  696</a></span>&#160;    <span class="keyword">mutable</span> std::recursive_mutex <a class="code" href="classcryptonote_1_1tx__memory__pool.html#af6636b9a2711cc5e296bcd7f526983a9">m_transactions_lock</a>;  </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a6a2c458ea137674784b35e9d146ece8e">  699</a></span>&#160;    <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ac8db608d610e9b31288681ab018ae2e9">key_images_container</a> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a6a2c458ea137674784b35e9d146ece8e">m_spent_key_images</a>;  </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">//TODO: this time should be a named constant somewhere, not hard-coded</span></div>
<div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#af2c18bba98acf9ed2cdd03c891ecea91">  703</a></span>&#160;<span class="comment"></span>    <a class="code" href="classtools_1_1periodic__task.html">tools::periodic_task</a> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#af2c18bba98acf9ed2cdd03c891ecea91">m_remove_stuck_tx_interval</a>{30<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>};</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">//TODO: look into doing this better</span></div>
<div class="line"><a name="l00707"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a92d8773b05f8415e5fb5d031bc57fff1">  707</a></span>&#160;<span class="comment"></span>    <a class="code" href="namespacecryptonote.html#a519318e9f47111feb31d73d79a8003de">sorted_tx_container</a> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a92d8773b05f8415e5fb5d031bc57fff1">m_txs_by_fee_and_receive_time</a>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#acfcbd1baa408b2f7484b18bd848bd6a6">  709</a></span>&#160;    std::atomic&lt;uint64_t&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#acfcbd1baa408b2f7484b18bd848bd6a6">m_cookie</a>; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a9b641ee33f547d5603e14b9514a47aec">  712</a></span>&#160;    std::vector&lt;std::function&lt;void(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a>&amp;, <span class="keyword">const</span> <a class="code" href="classcryptonote_1_1transaction.html">transaction</a>&amp;, <span class="keyword">const</span> std::string&amp; blob, <span class="keyword">const</span> <a class="code" href="structcryptonote_1_1tx__pool__options.html">tx_pool_options</a>&amp;)&gt;&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a9b641ee33f547d5603e14b9514a47aec">m_tx_notify</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    sorted_tx_container::iterator <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a0a84ffb957eeda11ec3ef752bb9cb2fc">find_tx_in_sorted_container</a>(<span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a>&amp; <span class="keywordtype">id</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ae6d30e317c1b946903d0ed3170bdc109">check_tx_inputs</a>(<span class="keyword">const</span> std::function&lt;<a class="code" href="classcryptonote_1_1transaction.html">cryptonote::transaction</a>&amp;()&gt; &amp;get_tx, <span class="keyword">const</span> <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;txid, uint64_t &amp;max_used_block_height, <a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> &amp;max_used_block_id, <a class="code" href="structcryptonote_1_1tx__verification__context.html">tx_verification_context</a> &amp;tvc, <span class="keywordtype">bool</span> kept_by_block = <span class="keyword">false</span>, uint64_t* blink_rollback_height = <span class="keyword">nullptr</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a6b44eef259469c4cbbf2760fd9804933">  730</a></span>&#160;    std::unordered_set&lt;crypto::hash&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a6b44eef259469c4cbbf2760fd9804933">m_timed_out_transactions</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a972c861f927a7127042c87a9fadbbed0">  732</a></span>&#160;    <a class="code" href="classcryptonote_1_1Blockchain.html">Blockchain</a>&amp; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a972c861f927a7127042c87a9fadbbed0">m_blockchain</a>;  </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a4e5925b0e9f166ba16947525b278601a">  734</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a4e5925b0e9f166ba16947525b278601a">m_txpool_max_weight</a>;</div>
<div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#ade870150c431217bb94718b4de61b669">  735</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ade870150c431217bb94718b4de61b669">m_txpool_weight</a>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#abec31bcfbd9fcdb603103a8b18e4ba1a">  737</a></span>&#160;    <span class="keyword">mutable</span> std::unordered_map&lt;crypto::hash, std::tuple&lt;bool, tx_verification_context, uint64_t, crypto::hash&gt;&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#abec31bcfbd9fcdb603103a8b18e4ba1a">m_input_cache</a>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#ad386ffa8ca0ccb68c7bbc95031a05926">  739</a></span>&#160;    std::unordered_map&lt;crypto::hash, transaction&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#ad386ffa8ca0ccb68c7bbc95031a05926">m_parsed_tx_cache</a>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a0e1f7a8e08fea6ffe32904af0a99935c">  741</a></span>&#160;    <span class="keyword">mutable</span> std::shared_mutex <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a0e1f7a8e08fea6ffe32904af0a99935c">m_blinks_mutex</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">// Contains blink metadata for approved blink transactions. { txhash =&gt; blink_tx, ... }.</span></div>
<div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="classcryptonote_1_1tx__memory__pool.html#a1079cd70f9107447f221095781d78639">  744</a></span>&#160;    <span class="keyword">mutable</span> std::unordered_map&lt;crypto::hash, std::shared_ptr&lt;cryptonote::blink_tx&gt;&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a1079cd70f9107447f221095781d78639">m_blinks</a>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// Helper method: retrieves hashes and mined heights of blink txes since the immutable block;</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// mempool blinks are included with a height of 0.  Also takes care of cleaning up any blinks</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// that have become immutable.  Blink lock must not be already held.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    std::pair&lt;std::vector&lt;crypto::hash&gt;, std::vector&lt;uint64_t&gt;&gt; <a class="code" href="classcryptonote_1_1tx__memory__pool.html#a93308b7d5cfc2d4285f2bb83b0e0ad7d">get_blink_hashes_and_mined_heights</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  };</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_abe0121f98df0d3ccb836792ae2fb0fc9"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#abe0121f98df0d3ccb836792ae2fb0fc9">cryptonote::tx_memory_pool::tx_stats::bytes_min</a></div><div class="ttdeci">uint32_t bytes_min</div><div class="ttdoc">Min transaction size in pool.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:416</div></div>
<div class="ttc" id="anamespacecryptonote_html_a884c13f6c17c6ce8dd15f2e9bc4c75ef"><div class="ttname"><a href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">cryptonote::hf</a></div><div class="ttdeci">hf</div><div class="ttdef"><b>Definition:</b> cryptonote_config.h:189</div></div>
<div class="ttc" id="aclasscryptonote_1_1txCompare_html"><div class="ttname"><a href="classcryptonote_1_1txCompare.html">cryptonote::txCompare</a></div><div class="ttdef"><b>Definition:</b> tx_pool.h:59</div></div>
<div class="ttc" id="aclasscryptonote_1_1Blockchain_html"><div class="ttname"><a href="classcryptonote_1_1Blockchain.html">cryptonote::Blockchain</a></div><div class="ttdef"><b>Definition:</b> blockchain.h:111</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_a5bbd9aafb5c2f1a825ea82f3c9e9c166"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a5bbd9aafb5c2f1a825ea82f3c9e9c166">cryptonote::tx_memory_pool::tx_stats::num_double_spends</a></div><div class="ttdeci">uint32_t num_double_spends</div><div class="ttdoc">Number of double spend transactions.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:427</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a010a25d6e7eb662d6c29c732da0ee1c2"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a010a25d6e7eb662d6c29c732da0ee1c2">cryptonote::tx_memory_pool::blink_unique_lock</a></div><div class="ttdeci">auto blink_unique_lock(Args &amp;&amp;...args) const</div><div class="ttdoc">obtains a unique lock on the approved blink tx pool</div><div class="ttdef"><b>Definition:</b> tx_pool.h:348</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_aa5579d05844f4e0fe4b49b6a07ad9dd5"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#aa5579d05844f4e0fe4b49b6a07ad9dd5">cryptonote::tx_pool_options::burn_fixed</a></div><div class="ttdeci">uint64_t burn_fixed</div><div class="ttdoc">a required minimum amount that must be burned (in atomic currency)</div><div class="ttdef"><b>Definition:</b> tx_pool.h:80</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ad93aa45381a8ba23afbba87e50aa6e4b"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ad93aa45381a8ba23afbba87e50aa6e4b">cryptonote::tx_memory_pool::insert_key_images</a></div><div class="ttdeci">bool insert_key_images(const transaction_prefix &amp;tx, const crypto::hash &amp;txid, bool kept_by_block)</div><div class="ttdoc">insert key images into m_spent_key_images</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:829</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a52a32f2f88cf6ab332c7d68e2e9a87d5"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a52a32f2f88cf6ab332c7d68e2e9a87d5">cryptonote::tx_pool_options::do_not_relay</a></div><div class="ttdeci">bool do_not_relay</div><div class="ttdoc">to avoid relaying the transaction to the network</div><div class="ttdef"><b>Definition:</b> tx_pool.h:77</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a46c251121834a7f3627b64a887ae0fb2"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a46c251121834a7f3627b64a887ae0fb2">cryptonote::tx_pool_options::burn_percent</a></div><div class="ttdeci">uint64_t burn_percent</div><div class="ttdoc">a required amount as a percentage of the base required miner tx fee that must be burned (additive wit...</div><div class="ttdef"><b>Definition:</b> tx_pool.h:81</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a93308b7d5cfc2d4285f2bb83b0e0ad7d"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a93308b7d5cfc2d4285f2bb83b0e0ad7d">cryptonote::tx_memory_pool::get_blink_hashes_and_mined_heights</a></div><div class="ttdeci">std::pair&lt; std::vector&lt; crypto::hash &gt;, std::vector&lt; uint64_t &gt; &gt; get_blink_hashes_and_mined_heights() const</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:552</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ade870150c431217bb94718b4de61b669"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ade870150c431217bb94718b4de61b669">cryptonote::tx_memory_pool::m_txpool_weight</a></div><div class="ttdeci">size_t m_txpool_weight</div><div class="ttdef"><b>Definition:</b> tx_pool.h:735</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a011855e34b5f72c21770d3718313ef40"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a011855e34b5f72c21770d3718313ef40">cryptonote::tx_memory_pool::unlock</a></div><div class="ttdeci">void unlock() const</div><div class="ttdoc">unlocks the transaction pool</div><div class="ttdef"><b>Definition:</b> tx_pool.h:337</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_adfb2c77087275ab6ff7759b773f8de15"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#adfb2c77087275ab6ff7759b773f8de15">cryptonote::tx_memory_pool::remove_blink_conflicts</a></div><div class="ttdeci">bool remove_blink_conflicts(const crypto::hash &amp;id, const std::vector&lt; crypto::hash &gt; &amp;conflict_txs, uint64_t *blink_rollback_height)</div><div class="ttdoc">Attempt to add a blink tx &quot;by force&quot;, removing conflicting non-blink txs.</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:637</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a2a0cf4b37f2feb1653ac96a83945cca3"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a2a0cf4b37f2feb1653ac96a83945cca3">cryptonote::tx_memory_pool::set_relayable</a></div><div class="ttdeci">int set_relayable(const std::vector&lt; crypto::hash &gt; &amp;tx_hashes)</div><div class="ttdoc">clear transactions' do_not_relay flags (if set) so that they can start being relayed....</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1080</div></div>
<div class="ttc" id="averification__context_8h_html"><div class="ttname"><a href="verification__context_8h.html">verification_context.h</a></div></div>
<div class="ttc" id="aclasscryptonote_1_1txCompare_html_a1451c93cfac701a2832e225a556a2ac0"><div class="ttname"><a href="classcryptonote_1_1txCompare.html#a1451c93cfac701a2832e225a556a2ac0">cryptonote::txCompare::operator()</a></div><div class="ttdeci">bool operator()(const tx_by_fee_and_receive_time_entry &amp;a, const tx_by_fee_and_receive_time_entry &amp;b) const</div><div class="ttdef"><b>Definition:</b> tx_pool.h:62</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_ad642b88d568e37372ef90a19ca9d954b"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#ad642b88d568e37372ef90a19ca9d954b">cryptonote::tx_memory_pool::tx_stats::fee_total</a></div><div class="ttdeci">uint64_t fee_total</div><div class="ttdoc">Total fee's in pool in atomic units.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:419</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_a9a214973222c69015a018ad6edaa6eb3"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a9a214973222c69015a018ad6edaa6eb3">cryptonote::tx_memory_pool::tx_stats::histo_98pc</a></div><div class="ttdeci">uint64_t histo_98pc</div><div class="ttdoc">the time 98% of txes are &quot;younger&quot; than.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:425</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_afc6a4f1b878b42f63e3fbf99643c591c"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#afc6a4f1b878b42f63e3fbf99643c591c">cryptonote::tx_memory_pool::get_transaction_stats</a></div><div class="ttdeci">tx_stats get_transaction_stats(bool include_unrelayed_txes=true) const</div><div class="ttdoc">get a summary statistics of all transaction hashes in the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1168</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ac819deab6187cd28a7a1233114b287d5"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ac819deab6187cd28a7a1233114b287d5">cryptonote::tx_memory_pool::get_transactions_count</a></div><div class="ttdeci">size_t get_transactions_count(bool include_unrelayed_txes=true) const</div><div class="ttdoc">get the total number of transactions in the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1130</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a3d0b85b526e1d7cf27a58b076270c52b"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a3d0b85b526e1d7cf27a58b076270c52b">cryptonote::tx_memory_pool::get_transaction_hashes</a></div><div class="ttdeci">void get_transaction_hashes(std::vector&lt; crypto::hash &gt; &amp;txs, bool include_unrelayed_txes=true, bool include_only_blinked=false) const</div><div class="ttdoc">get a list of all transaction hashes in the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1155</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a54c005079be92dc34c487216278086e4"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a54c005079be92dc34c487216278086e4">cryptonote::tx_memory_pool::have_tx</a></div><div class="ttdeci">bool have_tx(const crypto::hash &amp;id) const</div><div class="ttdoc">checks if the pool has a transaction with the given hash</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1404</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a013deee6f30a649f65430ab8f27aa1ea"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a013deee6f30a649f65430ab8f27aa1ea">cryptonote::tx_memory_pool::add_new_blink</a></div><div class="ttdeci">bool add_new_blink(const std::shared_ptr&lt; blink_tx &gt; &amp;blink, tx_verification_context &amp;tvc, bool &amp;blink_exists)</div><div class="ttdoc">attempts to add a blink transaction to the transaction pool.</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:486</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a502d8fed21226db749415ed7415fc4ce"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a502d8fed21226db749415ed7415fc4ce">cryptonote::tx_pool_options::kept_by_block</a></div><div class="ttdeci">bool kept_by_block</div><div class="ttdoc">has this transaction been in a block?</div><div class="ttdef"><b>Definition:</b> tx_pool.h:75</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a48b0ca004bbdd657127cb3e85d986619"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a48b0ca004bbdd657127cb3e85d986619">cryptonote::tx_memory_pool::operator=</a></div><div class="ttdeci">tx_memory_pool &amp; operator=(const tx_memory_pool &amp;)=delete</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_a82f7a0ff04f52c2eff8fd057edc61341"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a82f7a0ff04f52c2eff8fd057edc61341">cryptonote::tx_memory_pool::tx_stats::oldest</a></div><div class="ttdeci">uint64_t oldest</div><div class="ttdoc">Unix time of the oldest transaction in the pool.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:420</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a9b641ee33f547d5603e14b9514a47aec"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a9b641ee33f547d5603e14b9514a47aec">cryptonote::tx_memory_pool::m_tx_notify</a></div><div class="ttdeci">std::vector&lt; std::function&lt; void(const crypto::hash &amp;, const transaction &amp;, const std::string &amp;blob, const tx_pool_options &amp;)&gt; &gt; m_tx_notify</div><div class="ttdoc">Callbacks for new tx notifications.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:712</div></div>
<div class="ttc" id="aclasstools_1_1periodic__task_html"><div class="ttname"><a href="classtools_1_1periodic__task.html">tools::periodic_task</a></div><div class="ttdef"><b>Definition:</b> periodic_task.h:12</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a6a2c458ea137674784b35e9d146ece8e"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a6a2c458ea137674784b35e9d146ece8e">cryptonote::tx_memory_pool::m_spent_key_images</a></div><div class="ttdeci">key_images_container m_spent_key_images</div><div class="ttdoc">container for spent key images from the transactions in the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.h:699</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a223200675e9cb2dc9c748163664fc7e0"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a223200675e9cb2dc9c748163664fc7e0">cryptonote::tx_memory_pool::is_transaction_ready_to_go</a></div><div class="ttdeci">bool is_transaction_ready_to_go(txpool_tx_meta_t &amp;txd, const crypto::hash &amp;txid, const std::string &amp;txblob, transaction &amp;tx) const</div><div class="ttdoc">check if a transaction is a valid candidate for inclusion in a block</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1533</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_a4addf08dbe4d8abc61d80c57256c7cc4"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a4addf08dbe4d8abc61d80c57256c7cc4">cryptonote::tx_memory_pool::tx_stats::num_failing</a></div><div class="ttdeci">uint32_t num_failing</div><div class="ttdoc">Bumber of failing transactions.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:422</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_acfcbd1baa408b2f7484b18bd848bd6a6"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#acfcbd1baa408b2f7484b18bd848bd6a6">cryptonote::tx_memory_pool::m_cookie</a></div><div class="ttdeci">std::atomic&lt; uint64_t &gt; m_cookie</div><div class="ttdoc">incremented at each change</div><div class="ttdef"><b>Definition:</b> tx_pool.h:709</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a8afa235429f2aad604d7a01bf8117c55"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a8afa235429f2aad604d7a01bf8117c55">cryptonote::tx_memory_pool::get_transaction</a></div><div class="ttdeci">bool get_transaction(const crypto::hash &amp;h, std::string &amp;txblob) const</div><div class="ttdoc">get a specific transaction from the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1295</div></div>
<div class="ttc" id="aoxen__economy_8h_html"><div class="ttname"><a href="oxen__economy_8h.html">oxen_economy.h</a></div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a0a84ffb957eeda11ec3ef752bb9cb2fc"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a0a84ffb957eeda11ec3ef752bb9cb2fc">cryptonote::tx_memory_pool::find_tx_in_sorted_container</a></div><div class="ttdeci">sorted_tx_container::iterator find_tx_in_sorted_container(const crypto::hash &amp;id) const</div><div class="ttdoc">get an iterator to a transaction in the sorted container</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:953</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ad386ffa8ca0ccb68c7bbc95031a05926"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ad386ffa8ca0ccb68c7bbc95031a05926">cryptonote::tx_memory_pool::m_parsed_tx_cache</a></div><div class="ttdeci">std::unordered_map&lt; crypto::hash, transaction &gt; m_parsed_tx_cache</div><div class="ttdef"><b>Definition:</b> tx_pool.h:739</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a0e1f7a8e08fea6ffe32904af0a99935c"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a0e1f7a8e08fea6ffe32904af0a99935c">cryptonote::tx_memory_pool::m_blinks_mutex</a></div><div class="ttdeci">std::shared_mutex m_blinks_mutex</div><div class="ttdef"><b>Definition:</b> tx_pool.h:741</div></div>
<div class="ttc" id="aaesb_8c_html_a20c782a91c883391b9bdf9e3176e447c"><div class="ttname"><a href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a></div><div class="ttdeci">#define s(x, c)</div><div class="ttdef"><b>Definition:</b> aesb.c:47</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ace60037187690f98fe07f18c3daf32f4"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ace60037187690f98fe07f18c3daf32f4">cryptonote::tx_memory_pool::prune</a></div><div class="ttdeci">void prune(const crypto::hash &amp;skip)</div><div class="ttdoc">prune lowest fee/byte txes till we're not above bytes</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:757</div></div>
<div class="ttc" id="acryptonote__basic__impl_8h_html"><div class="ttname"><a href="cryptonote__basic__impl_8h.html">cryptonote_basic_impl.h</a></div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a42c4a7b63dd11fc42f402616bf23873c"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a42c4a7b63dd11fc42f402616bf23873c">cryptonote::tx_pool_options::approved_blink</a></div><div class="ttdeci">bool approved_blink</div><div class="ttdoc">signals that this is a blink tx and so should be accepted even if it conflicts with mempool or recent...</div><div class="ttdef"><b>Definition:</b> tx_pool.h:78</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a9946ac23813b0846275575e79b37bcc8"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a9946ac23813b0846275575e79b37bcc8">cryptonote::tx_memory_pool::find_transactions</a></div><div class="ttdeci">int find_transactions(const std::unordered_set&lt; crypto::hash &gt; &amp;tx_hashes, std::vector&lt; std::string &gt; &amp;txblobs) const</div><div class="ttdoc">get specific transactions from the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1273</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a92d8773b05f8415e5fb5d031bc57fff1"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a92d8773b05f8415e5fb5d031bc57fff1">cryptonote::tx_memory_pool::m_txs_by_fee_and_receive_time</a></div><div class="ttdeci">sorted_tx_container m_txs_by_fee_and_receive_time</div><div class="ttdoc">&lt; container for transactions organized by fee per size and receive time</div><div class="ttdef"><b>Definition:</b> tx_pool.h:707</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a4e5925b0e9f166ba16947525b278601a"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a4e5925b0e9f166ba16947525b278601a">cryptonote::tx_memory_pool::m_txpool_max_weight</a></div><div class="ttdeci">size_t m_txpool_max_weight</div><div class="ttdef"><b>Definition:</b> tx_pool.h:734</div></div>
<div class="ttc" id="anamespacebase_html_acad90f7e7db0cef6b10f63a920e4a10e"><div class="ttname"><a href="namespacebase.html#acad90f7e7db0cef6b10f63a920e4a10e">base.b</a></div><div class="ttdeci">int b</div><div class="ttdef"><b>Definition:</b> base.py:1</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_aec13cc81f2955d9f39bf3273791a3e21"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#aec13cc81f2955d9f39bf3273791a3e21">cryptonote::tx_memory_pool::check_for_key_images</a></div><div class="ttdeci">bool check_for_key_images(const std::vector&lt; crypto::key_image &gt; &amp;key_images, std::vector&lt; bool &gt; &amp;spent) const</div><div class="ttdoc">check for presence of key images in the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1259</div></div>
<div class="ttc" id="anamespacewallet25_html_a069a9cf6e98b6412419b457042c3ea4e"><div class="ttname"><a href="namespacewallet25.html#a069a9cf6e98b6412419b457042c3ea4e">wallet25::tx_hash</a></div><div class="ttdeci">crypto::hash tx_hash(const cryptonote::transaction &amp;tx)</div><div class="ttdef"><b>Definition:</b> wallet2½.cpp:36</div></div>
<div class="ttc" id="aclasscryptonote_1_1transaction__prefix_html"><div class="ttname"><a href="classcryptonote_1_1transaction__prefix.html">cryptonote::transaction_prefix</a></div><div class="ttdef"><b>Definition:</b> cryptonote_basic.h:174</div></div>
<div class="ttc" id="anamespacebuild__protob_html_af7b1584c0fc5c4d61fa20bd5a9917df9"><div class="ttname"><a href="namespacebuild__protob.html#af7b1584c0fc5c4d61fa20bd5a9917df9">build_protob.args</a></div><div class="ttdeci">args</div><div class="ttdef"><b>Definition:</b> build_protob.py:10</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a781505a42371a8461edb4047bf6c2046"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a781505a42371a8461edb4047bf6c2046">cryptonote::tx_memory_pool::get_transactions</a></div><div class="ttdeci">void get_transactions(std::vector&lt; transaction &gt; &amp;txs, bool include_unrelayed_txes=true) const</div><div class="ttdoc">get a list of all transactions in the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1136</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ac338181c8cdba5f77b645c530de1de7a"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ac338181c8cdba5f77b645c530de1de7a">cryptonote::tx_memory_pool::validate</a></div><div class="ttdeci">size_t validate(hf version)</div><div class="ttdoc">remove transactions from the pool which are no longer valid</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1826</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_a7feb4fcf9b2ea0155c71e4e85dd2de05"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a7feb4fcf9b2ea0155c71e4e85dd2de05">cryptonote::tx_memory_pool::tx_stats::bytes_med</a></div><div class="ttdeci">uint32_t bytes_med</div><div class="ttdoc">Median transaction size in pool.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:418</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ab421ff4baa8437324f4e3a6b2fb4e138"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ab421ff4baa8437324f4e3a6b2fb4e138">cryptonote::tx_memory_pool::mark_double_spend</a></div><div class="ttdeci">void mark_double_spend(const transaction &amp;tx)</div><div class="ttdoc">mark all transactions double spending the one passed</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1640</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__verification__context_html"><div class="ttname"><a href="structcryptonote_1_1tx__verification__context.html">cryptonote::tx_verification_context</a></div><div class="ttdef"><b>Definition:</b> verification_context.h:68</div></div>
<div class="ttc" id="astructcryptonote_1_1block_html"><div class="ttname"><a href="structcryptonote_1_1block.html">cryptonote::block</a></div><div class="ttdef"><b>Definition:</b> cryptonote_basic.h:405</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a9a1b40549be4e5ce2575db5736f591ce"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a9a1b40549be4e5ce2575db5736f591ce">cryptonote::tx_memory_pool::get_mined_blinks</a></div><div class="ttdeci">std::vector&lt; crypto::hash &gt; get_mined_blinks(const std::set&lt; uint64_t &gt; &amp;heights) const</div><div class="ttdoc">returns the hashes of any non-immutable blink transactions mined in the given heights....</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:621</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_af6636b9a2711cc5e296bcd7f526983a9"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#af6636b9a2711cc5e296bcd7f526983a9">cryptonote::tx_memory_pool::m_transactions_lock</a></div><div class="ttdeci">std::recursive_mutex m_transactions_lock</div><div class="ttdoc">mutex for the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.h:696</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html">cryptonote::tx_pool_options</a></div><div class="ttdoc">Argument passed into add_tx specifying different requires on the transaction.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:74</div></div>
<div class="ttc" id="anamespacecryptonote_html_ad52e7d48940abd955a97796d3d2e71f0"><div class="ttname"><a href="namespacecryptonote.html#ad52e7d48940abd955a97796d3d2e71f0">cryptonote::tx_by_fee_and_receive_time_entry</a></div><div class="ttdeci">std::pair&lt; std::tuple&lt; bool, double, std::time_t &gt;, crypto::hash &gt; tx_by_fee_and_receive_time_entry</div><div class="ttdoc">tuple of &lt;deregister, transaction fee, receive time&gt; for organization</div><div class="ttdef"><b>Definition:</b> tx_pool.h:51</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a65b8179f3f72c219b0afe760d6df55ee"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a65b8179f3f72c219b0afe760d6df55ee">cryptonote::tx_memory_pool::try_lock</a></div><div class="ttdeci">bool try_lock() const</div><div class="ttdef"><b>Definition:</b> tx_pool.h:342</div></div>
<div class="ttc" id="anamespacecryptonote_html_a519318e9f47111feb31d73d79a8003de"><div class="ttname"><a href="namespacecryptonote.html#a519318e9f47111feb31d73d79a8003de">cryptonote::sorted_tx_container</a></div><div class="ttdeci">std::set&lt; tx_by_fee_and_receive_time_entry, txCompare &gt; sorted_tx_container</div><div class="ttdoc">container for sorting transactions by fee per unit size</div><div class="ttdef"><b>Definition:</b> tx_pool.h:71</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_adc095de20f5654b4642f947a08d5e6ec"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#adc095de20f5654b4642f947a08d5e6ec">cryptonote::tx_memory_pool::have_tx_keyimg_as_spent</a></div><div class="ttdeci">bool have_tx_keyimg_as_spent(const crypto::key_image &amp;key_im) const</div><div class="ttdoc">check if a transaction in the pool has a given spent key image</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1430</div></div>
<div class="ttc" id="anamespacecryptonote_html"><div class="ttname"><a href="namespacecryptonote.html">cryptonote</a></div><div class="ttdoc">Holds cryptonote related classes and helpers.</div><div class="ttdef"><b>Definition:</b> blockchain_db.cpp:43</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_aa99a39234919dfe66897951fa0bb5241"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#aa99a39234919dfe66897951fa0bb5241">cryptonote::tx_memory_pool::has_blink</a></div><div class="ttdeci">bool has_blink(const crypto::hash &amp;tx_hash) const</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:538</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_abec31bcfbd9fcdb603103a8b18e4ba1a"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#abec31bcfbd9fcdb603103a8b18e4ba1a">cryptonote::tx_memory_pool::m_input_cache</a></div><div class="ttdeci">std::unordered_map&lt; crypto::hash, std::tuple&lt; bool, tx_verification_context, uint64_t, crypto::hash &gt; &gt; m_input_cache</div><div class="ttdef"><b>Definition:</b> tx_pool.h:737</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a0e718457416f64580f4dfdc4e9926cbd"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a0e718457416f64580f4dfdc4e9926cbd">cryptonote::tx_memory_pool::lock</a></div><div class="ttdeci">void lock() const</div><div class="ttdoc">locks the transaction pool</div><div class="ttdef"><b>Definition:</b> tx_pool.h:332</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a720216004c8195ad817756b4312abd52a40652ee9ae143f1c1c830f01a5449ecb"><div class="ttname"><a href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a40652ee9ae143f1c1c830f01a5449ecb">service_nodes::quorum_type::blink</a></div><div class="ttdeci">@ blink</div></div>
<div class="ttc" id="aperiodic__task_8h_html"><div class="ttname"><a href="periodic__task_8h.html">periodic_task.h</a></div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a06edb4320ccd38f29c4bd2e71c71ac8e"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a06edb4320ccd38f29c4bd2e71c71ac8e">cryptonote::tx_pool_options::new_tx</a></div><div class="ttdeci">static tx_pool_options new_tx(bool do_not_relay=false)</div><div class="ttdef"><b>Definition:</b> tx_pool.h:85</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a3c5681132864da1374850641c1e35f2e"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a3c5681132864da1374850641c1e35f2e">cryptonote::tx_memory_pool::get_spent_key_images</a></div><div class="ttdeci">key_images_container get_spent_key_images(bool already_locked=false)</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:877</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_ade959d5eeea283e112753fbe114ef3a2"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#ade959d5eeea283e112753fbe114ef3a2">cryptonote::tx_memory_pool::tx_stats::num_not_relayed</a></div><div class="ttdeci">uint32_t num_not_relayed</div><div class="ttdoc">Number of non-relayed transactions.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:424</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a972c861f927a7127042c87a9fadbbed0"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a972c861f927a7127042c87a9fadbbed0">cryptonote::tx_memory_pool::m_blockchain</a></div><div class="ttdeci">Blockchain &amp; m_blockchain</div><div class="ttdoc">reference to the Blockchain object</div><div class="ttdef"><b>Definition:</b> tx_pool.h:732</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ac624b3e7995eaecac7bd77d28b21836d"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ac624b3e7995eaecac7bd77d28b21836d">cryptonote::tx_memory_pool::have_duplicated_non_standard_tx</a></div><div class="ttdeci">bool have_duplicated_non_standard_tx(transaction const &amp;tx, hf version) const</div><div class="ttdoc">check if a tx that does not have a key-image component has a duplicate in the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:98</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_af2bba96b565d97b87f2a90fef343eba0"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#af2bba96b565d97b87f2a90fef343eba0">cryptonote::tx_memory_pool::take_tx</a></div><div class="ttdeci">bool take_tx(const crypto::hash &amp;id, transaction &amp;tx, std::string &amp;txblob, size_t &amp;tx_weight, uint64_t &amp;fee, bool &amp;relayed, bool &amp;do_not_relay, bool &amp;double_spend_seen)</div><div class="ttdoc">takes a transaction with the given hash from the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:887</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_a38f69e8e279b4c56c6f431a5c41998eb"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a38f69e8e279b4c56c6f431a5c41998eb">cryptonote::tx_memory_pool::tx_stats::bytes_max</a></div><div class="ttdeci">uint32_t bytes_max</div><div class="ttdoc">Max transaction size in pool.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:417</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_aa01c86866ce776d3c27ec6974653e1ed"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#aa01c86866ce776d3c27ec6974653e1ed">cryptonote::tx_memory_pool::tx_stats::num_10m</a></div><div class="ttdeci">uint32_t num_10m</div><div class="ttdoc">Number of transactions in pool for more than 10 minutes.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:423</div></div>
<div class="ttc" id="astructcryptonote_1_1txpool__tx__meta__t_html"><div class="ttname"><a href="structcryptonote_1_1txpool__tx__meta__t.html">cryptonote::txpool_tx_meta_t</a></div><div class="ttdoc">a struct containing txpool per transaction metadata</div><div class="ttdef"><b>Definition:</b> blockchain_db.h:155</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a7126ff436715b0012c73a78cc83ca0b1"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a7126ff436715b0012c73a78cc83ca0b1">cryptonote::tx_memory_pool::cookie</a></div><div class="ttdeci">uint64_t cookie() const</div><div class="ttdoc">return the cookie</div><div class="ttdef"><b>Definition:</b> tx_pool.h:527</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_af2c18bba98acf9ed2cdd03c891ecea91"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#af2c18bba98acf9ed2cdd03c891ecea91">cryptonote::tx_memory_pool::m_remove_stuck_tx_interval</a></div><div class="ttdeci">tools::periodic_task m_remove_stuck_tx_interval</div><div class="ttdoc">interval on which to check for stale/&quot;stuck&quot; transactions</div><div class="ttdef"><b>Definition:</b> tx_pool.h:703</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ae6da06ddc8334f31dd69aecffdcf948e"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ae6da06ddc8334f31dd69aecffdcf948e">cryptonote::tx_memory_pool::on_blockchain_dec</a></div><div class="ttdeci">bool on_blockchain_dec()</div><div class="ttdoc">action to take when notified of a block removed from the blockchain</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1384</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_aad00ed4cce2351c261925dfbde1b0a1e"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#aad00ed4cce2351c261925dfbde1b0a1e">cryptonote::tx_memory_pool::remove_stuck_transactions</a></div><div class="ttdeci">bool remove_stuck_transactions()</div><div class="ttdoc">remove old transactions from the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:963</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_af13906ba925503f7de4bacfca1f1497c"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#af13906ba925503f7de4bacfca1f1497c">cryptonote::tx_memory_pool::blink_shared_lock</a></div><div class="ttdeci">auto blink_shared_lock(Args &amp;&amp;...args) const</div><div class="ttdoc">obtains a shared lock on the approved blink tx pool</div><div class="ttdef"><b>Definition:</b> tx_pool.h:354</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ac8db608d610e9b31288681ab018ae2e9"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ac8db608d610e9b31288681ab018ae2e9">cryptonote::tx_memory_pool::key_images_container</a></div><div class="ttdeci">std::unordered_map&lt; crypto::key_image, std::unordered_set&lt; crypto::hash &gt; &gt; key_images_container</div><div class="ttdoc">map key images to transactions which spent them</div><div class="ttdef"><b>Definition:</b> tx_pool.h:552</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_ac0d5b60dc8aaf2d3e1bbdd17d236e92b"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#ac0d5b60dc8aaf2d3e1bbdd17d236e92b">cryptonote::tx_memory_pool::tx_stats::histo</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; uint32_t, uint64_t &gt; &gt; histo</div><div class="ttdoc">List of txpool histo [number of txes, size in bytes] pairs.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:426</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a992c709afc7268d0d9cf23485095d98f"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a992c709afc7268d0d9cf23485095d98f">cryptonote::tx_memory_pool::tx_memory_pool</a></div><div class="ttdeci">tx_memory_pool(Blockchain &amp;bchs)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:93</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a1079cd70f9107447f221095781d78639"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a1079cd70f9107447f221095781d78639">cryptonote::tx_memory_pool::m_blinks</a></div><div class="ttdeci">std::unordered_map&lt; crypto::hash, std::shared_ptr&lt; cryptonote::blink_tx &gt; &gt; m_blinks</div><div class="ttdef"><b>Definition:</b> tx_pool.h:744</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a4e9a263a86f5966b6b49421aaed989ec"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a4e9a263a86f5966b6b49421aaed989ec">cryptonote::tx_memory_pool::get_blink</a></div><div class="ttdeci">std::shared_ptr&lt; blink_tx &gt; get_blink(const crypto::hash &amp;tx_hash) const</div><div class="ttdoc">accesses blink tx details if the given tx hash is a known, approved blink tx, nullptr otherwise.</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:530</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a9360c129a0323bf11804be1764102f55"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a9360c129a0323bf11804be1764102f55">cryptonote::tx_memory_pool::have_tx_keyimges_as_spent</a></div><div class="ttdeci">bool have_tx_keyimges_as_spent(const transaction &amp;tx, std::vector&lt; crypto::hash &gt; *conflicting=nullptr) const</div><div class="ttdoc">check if any spent key image in a transaction is in the pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1409</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a1211f3aefd5033931d168da4e78fd80a"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a1211f3aefd5033931d168da4e78fd80a">cryptonote::tx_memory_pool::fill_block_template</a></div><div class="ttdeci">bool fill_block_template(block &amp;bl, size_t median_weight, uint64_t already_generated_coins, size_t &amp;total_weight, uint64_t &amp;raw_fee, uint64_t &amp;expected_reward, hf version, uint64_t height)</div><div class="ttdoc">Chooses transactions for a block to include.</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1685</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a0f0cbf38cc22fed0c1e3e70d640e1371"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a0f0cbf38cc22fed0c1e3e70d640e1371">cryptonote::tx_pool_options::from_block</a></div><div class="ttdeci">static tx_pool_options from_block()</div><div class="ttdef"><b>Definition:</b> tx_pool.h:83</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a79af50e6ab702ec22ad69226ee87f00f"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a79af50e6ab702ec22ad69226ee87f00f">cryptonote::tx_pool_options::relayed</a></div><div class="ttdeci">bool relayed</div><div class="ttdoc">was this transaction from the network or a local client?</div><div class="ttdef"><b>Definition:</b> tx_pool.h:76</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ab424e94187ab40930a39b273ac6f31d7"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ab424e94187ab40930a39b273ac6f31d7">cryptonote::tx_memory_pool::get_blink_checksums</a></div><div class="ttdeci">std::map&lt; uint64_t, crypto::hash &gt; get_blink_checksums() const</div><div class="ttdoc">returns checksums of blink txes included in recently mined blocks and in the mempool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:601</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ae7fe5dc73d036d7ea07ac632317b6113"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ae7fe5dc73d036d7ea07ac632317b6113">cryptonote::tx_memory_pool::add_notify</a></div><div class="ttdeci">void add_notify(std::function&lt; void(const crypto::hash &amp;, const transaction &amp;, const std::string &amp;blob, const tx_pool_options &amp;)&gt; notify)</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:946</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a6b44eef259469c4cbbf2760fd9804933"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a6b44eef259469c4cbbf2760fd9804933">cryptonote::tx_memory_pool::m_timed_out_transactions</a></div><div class="ttdeci">std::unordered_set&lt; crypto::hash &gt; m_timed_out_transactions</div><div class="ttdoc">transactions which are unlikely to be included in blocks</div><div class="ttdef"><b>Definition:</b> tx_pool.h:730</div></div>
<div class="ttc" id="anamespaceMakeCryptoOps_html_a788b859b89f277e1252442fa34588fa7"><div class="ttname"><a href="namespaceMakeCryptoOps.html#a788b859b89f277e1252442fa34588fa7">MakeCryptoOps.a</a></div><div class="ttdeci">string a</div><div class="ttdef"><b>Definition:</b> MakeCryptoOps.py:15</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_a7cc30785acab0705af82a3ed6fb32b79"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#a7cc30785acab0705af82a3ed6fb32b79">cryptonote::tx_memory_pool::tx_stats::bytes_total</a></div><div class="ttdeci">uint64_t bytes_total</div><div class="ttdoc">Total size of all transactions in pool.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:415</div></div>
<div class="ttc" id="anamespaceoxen_html_a73145ac6fcfeee75e598ca9b9c94a39d"><div class="ttname"><a href="namespaceoxen.html#a73145ac6fcfeee75e598ca9b9c94a39d">oxen::BLINK_BURN_TX_FEE_PERCENT_V18</a></div><div class="ttdeci">constexpr uint64_t BLINK_BURN_TX_FEE_PERCENT_V18</div><div class="ttdef"><b>Definition:</b> oxen_economy.h:72</div></div>
<div class="ttc" id="atx__blink_8h_html"><div class="ttname"><a href="tx__blink_8h.html">tx_blink.h</a></div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html">cryptonote::tx_memory_pool</a></div><div class="ttdoc">Transaction pool, handles transactions which are not part of a block.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:112</div></div>
<div class="ttc" id="ahash_8h_html"><div class="ttname"><a href="hash_8h.html">hash.h</a></div></div>
<div class="ttc" id="anamespaceoxen_html_a0f6e48c7a3012ac3055ee50f3d3e672c"><div class="ttname"><a href="namespaceoxen.html#a0f6e48c7a3012ac3055ee50f3d3e672c">oxen::BLINK_BURN_FIXED</a></div><div class="ttdeci">constexpr uint64_t BLINK_BURN_FIXED</div><div class="ttdef"><b>Definition:</b> oxen_economy.h:70</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a5d217ba322d9d2e06500411fffe07d67"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a5d217ba322d9d2e06500411fffe07d67">cryptonote::tx_memory_pool::on_blockchain_inc</a></div><div class="ttdeci">bool on_blockchain_inc(block const &amp;blk)</div><div class="ttdoc">action to take when notified of a block added to the blockchain</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1305</div></div>
<div class="ttc" id="astructcrypto_1_1key__image_html"><div class="ttname"><a href="structcrypto_1_1key__image.html">crypto::key_image</a></div><div class="ttdef"><b>Definition:</b> crypto.h:74</div></div>
<div class="ttc" id="aclasscryptonote_1_1transaction_html"><div class="ttname"><a href="classcryptonote_1_1transaction.html">cryptonote::transaction</a></div><div class="ttdef"><b>Definition:</b> cryptonote_basic.h:239</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ae6710a00d13e4ddc0a1974b391ae85aa"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ae6710a00d13e4ddc0a1974b391ae85aa">cryptonote::tx_memory_pool::have_txs</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; have_txs(const std::vector&lt; crypto::hash &gt; &amp;hashes) const</div><div class="ttdoc">determines whether the given tx hashes are in the mempool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1392</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html_abf194db5857b81ff86ec1559ad27414f"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html#abf194db5857b81ff86ec1559ad27414f">cryptonote::tx_memory_pool::tx_stats::txs_total</a></div><div class="ttdeci">uint32_t txs_total</div><div class="ttdoc">Total number of transactions.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:421</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a3ca45a26f8f898479419592e10107a39"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a3ca45a26f8f898479419592e10107a39">cryptonote::tx_pool_options::new_blink</a></div><div class="ttdeci">static tx_pool_options new_blink(bool approved, hf hf_version)</div><div class="ttdef"><b>Definition:</b> tx_pool.h:86</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a76b8b8aba76dc6dac3ef345367574f69"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a76b8b8aba76dc6dac3ef345367574f69">cryptonote::tx_memory_pool::set_txpool_max_weight</a></div><div class="ttdeci">void set_txpool_max_weight(size_t bytes)</div><div class="ttdoc">set the max cumulative txpool weight in bytes</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:711</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a60742c292f673da41e8906e1ce18b59c"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a60742c292f673da41e8906e1ce18b59c">cryptonote::tx_memory_pool::keep_missing_blinks</a></div><div class="ttdeci">void keep_missing_blinks(std::vector&lt; crypto::hash &gt; &amp;tx_hashes) const</div><div class="ttdoc">modifies a vector of tx hashes to remove any that have known valid blink signatures</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:543</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_acec0c2d4cc416d504e4ceabbb175edc2"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#acec0c2d4cc416d504e4ceabbb175edc2">cryptonote::tx_memory_pool::set_relayed</a></div><div class="ttdeci">void set_relayed(const std::vector&lt; std::pair&lt; crypto::hash, std::string &gt;&gt; &amp;txs)</div><div class="ttdoc">tell the pool that certain transactions were just relayed</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1103</div></div>
<div class="ttc" id="astructcrypto_1_1hash_html"><div class="ttname"><a href="structcrypto_1_1hash.html">crypto::hash</a></div><div class="ttdef"><b>Definition:</b> hash.h:48</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ab572c0afc555ae393a8df2dcc0f00673"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ab572c0afc555ae393a8df2dcc0f00673">cryptonote::tx_memory_pool::get_txpool_weight</a></div><div class="ttdeci">size_t get_txpool_weight() const</div><div class="ttdoc">get the cumulative txpool weight in bytes</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:705</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a1b272997a403b2f451820e890ba628b0"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a1b272997a403b2f451820e890ba628b0">cryptonote::tx_memory_pool::on_idle</a></div><div class="ttdeci">void on_idle()</div><div class="ttdoc">action to take periodically</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:941</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a82ef1c5e089c16db7f09595a092d1825"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a82ef1c5e089c16db7f09595a092d1825">cryptonote::tx_memory_pool::init</a></div><div class="ttdeci">bool init(size_t max_txpool_weight=0)</div><div class="ttdoc">loads pool state (if any) from disk, and initializes pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1890</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a3fea8a79996be4896421a1d492414098"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a3fea8a79996be4896421a1d492414098">cryptonote::tx_memory_pool::remove_transaction_keyimages</a></div><div class="ttdeci">bool remove_transaction_keyimages(const transaction_prefix &amp;tx, const crypto::hash &amp;txid)</div><div class="ttdoc">forget a transaction's spent key images</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:848</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_a2371b71c2f9d0307a28fc2f9638c00f3"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#a2371b71c2f9d0307a28fc2f9638c00f3">cryptonote::tx_memory_pool::remove_tx</a></div><div class="ttdeci">bool remove_tx(const crypto::hash &amp;txid, const txpool_tx_meta_t *meta=nullptr, const sorted_tx_container::iterator *stc_it=nullptr)</div><div class="ttdoc">remove a transaction from the mempool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:717</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a15127e16e6c8bf5e05adaeae2c962caf"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a15127e16e6c8bf5e05adaeae2c962caf">cryptonote::tx_pool_options::from_peer</a></div><div class="ttdeci">static tx_pool_options from_peer()</div><div class="ttdef"><b>Definition:</b> tx_pool.h:84</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__memory__pool_1_1tx__stats_html"><div class="ttname"><a href="structcryptonote_1_1tx__memory__pool_1_1tx__stats.html">cryptonote::tx_memory_pool::tx_stats</a></div><div class="ttdoc">Return type of get_transaction_stats()</div><div class="ttdef"><b>Definition:</b> tx_pool.h:413</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ae6d30e317c1b946903d0ed3170bdc109"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ae6d30e317c1b946903d0ed3170bdc109">cryptonote::tx_memory_pool::check_tx_inputs</a></div><div class="ttdeci">bool check_tx_inputs(const std::function&lt; cryptonote::transaction &amp;()&gt; &amp;get_tx, const crypto::hash &amp;txid, uint64_t &amp;max_used_block_height, crypto::hash &amp;max_used_block_id, tx_verification_context &amp;tvc, bool kept_by_block=false, uint64_t *blink_rollback_height=nullptr) const</div><div class="ttdoc">cache/call Blockchain::check_tx_inputs results</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1436</div></div>
<div class="ttc" id="ablockchain__db_8h_html"><div class="ttname"><a href="blockchain__db_8h.html">blockchain_db.h</a></div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_afea956b17732998b8143d6d3d8e0ba7b"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#afea956b17732998b8143d6d3d8e0ba7b">cryptonote::tx_memory_pool::deinit</a></div><div class="ttdeci">bool deinit()</div><div class="ttdoc">attempts to save the transaction pool state to disk</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1954</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ada0bbc05821f25c43f87818dd048e2be"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ada0bbc05821f25c43f87818dd048e2be">cryptonote::tx_memory_pool::get_relayable_transactions</a></div><div class="ttdeci">bool get_relayable_transactions(std::vector&lt; std::pair&lt; crypto::hash, std::string &gt;&gt; &amp;txs) const</div><div class="ttdoc">get a list of all relayable transactions and their hashes</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:1026</div></div>
<div class="ttc" id="astructcryptonote_1_1tx__pool__options_html_a7c1a40ecfb16d900666993ada499513d"><div class="ttname"><a href="structcryptonote_1_1tx__pool__options.html#a7c1a40ecfb16d900666993ada499513d">cryptonote::tx_pool_options::fee_percent</a></div><div class="ttdeci">uint64_t fee_percent</div><div class="ttdoc">the required miner tx fee in percent relative to the base required miner tx fee; must be &gt;= 100.</div><div class="ttdef"><b>Definition:</b> tx_pool.h:79</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ad5946446c0e38b9e05b10bc658f949c9"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ad5946446c0e38b9e05b10bc658f949c9">cryptonote::tx_memory_pool::add_tx</a></div><div class="ttdeci">bool add_tx(transaction &amp;tx, const crypto::hash &amp;id, const std::string &amp;blob, size_t tx_weight, tx_verification_context &amp;tvc, const tx_pool_options &amp;opts, hf hf_version, uint64_t *blink_rollback_height=nullptr)</div><div class="ttdoc">add a transaction to the transaction pool</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:238</div></div>
<div class="ttc" id="anamespaceoxen_html_a0b3a347602a0433a588e21b2047ef39a"><div class="ttname"><a href="namespaceoxen.html#a0b3a347602a0433a588e21b2047ef39a">oxen::BLINK_MINER_TX_FEE_PERCENT</a></div><div class="ttdeci">constexpr uint64_t BLINK_MINER_TX_FEE_PERCENT</div><div class="ttdef"><b>Definition:</b> oxen_economy.h:69</div></div>
<div class="ttc" id="aclasscryptonote_1_1tx__memory__pool_html_ab3d69f56ad1b8807de5d3ff108543433"><div class="ttname"><a href="classcryptonote_1_1tx__memory__pool.html#ab3d69f56ad1b8807de5d3ff108543433">cryptonote::tx_memory_pool::add_existing_blink</a></div><div class="ttdeci">bool add_existing_blink(std::shared_ptr&lt; blink_tx &gt; blink)</div><div class="ttdoc">attempts to add blink transaction information about an existing blink transaction</div><div class="ttdef"><b>Definition:</b> tx_pool.cpp:519</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 21 2022 01:11:50 for Monero by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
