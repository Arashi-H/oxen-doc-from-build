<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monero: src/cryptonote_core/service_node_rules.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Monero
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c2124ce071ea3a7a634e4f0044274ddd.html">cryptonote_core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">service_node_rules.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="service__node__rules_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="crypto_2crypto_8h.html">crypto/crypto.h</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cryptonote__config_8h.html">cryptonote_config.h</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="oxen__economy_8h.html">oxen_economy.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="service__node__voting_8h.html">service_node_voting.h</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceservice__nodes.html">service_nodes</a> {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  <span class="comment">// validate_registration* and convert_registration_args functions throws this on error:</span></div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="structservice__nodes_1_1invalid__registration.html">   12</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structservice__nodes_1_1invalid__registration.html">invalid_registration</a> : std::invalid_argument { <span class="keyword">using</span> std::invalid_argument::invalid_argument; };</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a0f07c95f79d1ae1fb3e397216d5362ed">   14</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#a0f07c95f79d1ae1fb3e397216d5362ed">PULSE_QUORUM_ENTROPY_LAG</a>    = 21; <span class="comment">// How many blocks back from the tip of the Blockchain to source entropy for the Pulse quorums.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a47bc4da9cc36ea7cf79f1f2e486c0f89">   15</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a47bc4da9cc36ea7cf79f1f2e486c0f89">PULSE_ROUND_TIME</a>                                   = 60<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;</div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a60db44fd0e2fcbf49efc7a743f066b0e">   16</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a60db44fd0e2fcbf49efc7a743f066b0e">PULSE_WAIT_FOR_HANDSHAKES_DURATION</a>                 = 10<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a01e3e155b070e1dfe5fa67a0e9723913">   17</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a01e3e155b070e1dfe5fa67a0e9723913">PULSE_WAIT_FOR_OTHER_VALIDATOR_HANDSHAKES_DURATION</a> = 10<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a07081991516ee3a02830fc3bd6d96523">   18</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a07081991516ee3a02830fc3bd6d96523">PULSE_WAIT_FOR_BLOCK_TEMPLATE_DURATION</a>             = 10<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a9fd616c407c56a73a7a79dca6f9437f3">   19</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a9fd616c407c56a73a7a79dca6f9437f3">PULSE_WAIT_FOR_RANDOM_VALUE_HASH_DURATION</a>          = 10<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a92bbde11842d086caffabd211eafd13f">   20</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a92bbde11842d086caffabd211eafd13f">PULSE_WAIT_FOR_RANDOM_VALUE_DURATION</a>               = 10<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a98a1f2be1acde395d9f2a5a990215ccd">   21</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a98a1f2be1acde395d9f2a5a990215ccd">PULSE_WAIT_FOR_SIGNED_BLOCK_DURATION</a>               = 10<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ae9cbd0134985b8fafe837ef380787484">   23</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#ae9cbd0134985b8fafe837ef380787484">PULSE_QUORUM_NUM_VALIDATORS</a>     = 11;</div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a86ce306f257ea837cf348431499c113d">   24</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#a86ce306f257ea837cf348431499c113d">PULSE_BLOCK_REQUIRED_SIGNATURES</a> = 7;  <span class="comment">// A block must have exactly N signatures to be considered properly</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ae6e46bedb332be0cb43ce55424000ad6">   26</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#ae6e46bedb332be0cb43ce55424000ad6">PULSE_MIN_TARGET_BLOCK_TIME</a> = <a class="code" href="namespacecryptonote.html#a182234d3f9d96df72dd598b5009492aa">cryptonote::TARGET_BLOCK_TIME</a> - 30<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a8610a75114eaef731ecc13a673b01232">   27</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a8610a75114eaef731ecc13a673b01232">PULSE_MAX_TARGET_BLOCK_TIME</a> = <a class="code" href="namespacecryptonote.html#a182234d3f9d96df72dd598b5009492aa">cryptonote::TARGET_BLOCK_TIME</a> + 30<a class="code" href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a1cf578ffab6e1e354d992a08a1fa427e">   28</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#a1cf578ffab6e1e354d992a08a1fa427e">PULSE_QUORUM_SIZE</a> = <a class="code" href="namespaceservice__nodes.html#ae9cbd0134985b8fafe837ef380787484">PULSE_QUORUM_NUM_VALIDATORS</a> + 1 <span class="comment">/*Leader*/</span>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a47bc4da9cc36ea7cf79f1f2e486c0f89">PULSE_ROUND_TIME</a> &gt;=</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                <a class="code" href="namespaceservice__nodes.html#a60db44fd0e2fcbf49efc7a743f066b0e">PULSE_WAIT_FOR_HANDSHAKES_DURATION</a> +</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                <a class="code" href="namespaceservice__nodes.html#a01e3e155b070e1dfe5fa67a0e9723913">PULSE_WAIT_FOR_OTHER_VALIDATOR_HANDSHAKES_DURATION</a> +</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                <a class="code" href="namespaceservice__nodes.html#a07081991516ee3a02830fc3bd6d96523">PULSE_WAIT_FOR_BLOCK_TEMPLATE_DURATION</a> +</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                <a class="code" href="namespaceservice__nodes.html#a9fd616c407c56a73a7a79dca6f9437f3">PULSE_WAIT_FOR_RANDOM_VALUE_HASH_DURATION</a> +</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                <a class="code" href="namespaceservice__nodes.html#a92bbde11842d086caffabd211eafd13f">PULSE_WAIT_FOR_RANDOM_VALUE_DURATION</a> +</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                <a class="code" href="namespaceservice__nodes.html#a98a1f2be1acde395d9f2a5a990215ccd">PULSE_WAIT_FOR_SIGNED_BLOCK_DURATION</a>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#ae9cbd0134985b8fafe837ef380787484">PULSE_QUORUM_NUM_VALIDATORS</a> &gt;= <a class="code" href="namespaceservice__nodes.html#a86ce306f257ea837cf348431499c113d">PULSE_BLOCK_REQUIRED_SIGNATURES</a>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a0f07c95f79d1ae1fb3e397216d5362ed">PULSE_QUORUM_ENTROPY_LAG</a> &gt;= <a class="code" href="namespaceservice__nodes.html#a1cf578ffab6e1e354d992a08a1fa427e">PULSE_QUORUM_SIZE</a>, <span class="stringliteral">&quot;We need to pull atleast PULSE_QUORUM_SIZE number of blocks from the Blockchain, we can&#39;t if the amount of blocks to go back from the tip of the Blockchain is less than the blocks we need.&quot;</span>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a9036b1384967572d1e4699d1179eefe1">   41</a></span>&#160;  constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#a9036b1384967572d1e4699d1179eefe1">pulse_min_service_nodes</a>(<a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70a">cryptonote::network_type</a> nettype)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">return</span> (nettype == <a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70aa9ff86ed474dbbbbe88b28ee45ec70994">cryptonote::network_type::MAINNET</a>) ? 50 : <a class="code" href="namespaceservice__nodes.html#a1cf578ffab6e1e354d992a08a1fa427e">PULSE_QUORUM_SIZE</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a9036b1384967572d1e4699d1179eefe1">pulse_min_service_nodes</a>(<a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70aa9ff86ed474dbbbbe88b28ee45ec70994">cryptonote::network_type::MAINNET</a>) &gt;= <a class="code" href="namespaceservice__nodes.html#a1cf578ffab6e1e354d992a08a1fa427e">PULSE_QUORUM_SIZE</a>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a9036b1384967572d1e4699d1179eefe1">pulse_min_service_nodes</a>(<a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70aace8400aeb0c47ce5cd8e37a3a54e557b">cryptonote::network_type::TESTNET</a>) &gt;= <a class="code" href="namespaceservice__nodes.html#a1cf578ffab6e1e354d992a08a1fa427e">PULSE_QUORUM_SIZE</a>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#af126b9952e9024bbc009e7e60ff6b104">   48</a></span>&#160;  constexpr uint16_t <a class="code" href="namespaceservice__nodes.html#af126b9952e9024bbc009e7e60ff6b104">pulse_validator_bit_mask</a>()</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    uint16_t result = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> validator_index = 0; validator_index &lt; <a class="code" href="namespaceservice__nodes.html#ae9cbd0134985b8fafe837ef380787484">PULSE_QUORUM_NUM_VALIDATORS</a>; validator_index++)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      result |= 1 &lt;&lt; validator_index;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// Service node decommissioning: as service nodes stay up they earn &quot;credits&quot; (measured in blocks)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">// towards a future outage.  A new service node starts out with INITIAL_CREDIT, and then builds up</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// CREDIT_PER_DAY for each day the service node remains active up to a maximum of</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// DECOMMISSION_MAX_CREDIT.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">// If a service node stops sending uptime proofs, a quorum will consider whether the service node</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// has built up enough credits (at least MINIMUM): if so, instead of submitting a deregistration,</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="comment">// it instead submits a decommission.  This removes the service node from the list of active</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// service nodes both for rewards and for any active network duties.  If the service node comes</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// back online (i.e. starts sending the required performance proofs again) before the credits run</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// out then a quorum will reinstate the service node using a recommission transaction, which adds</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// the service node back to the bottom of the service node reward list, and resets its accumulated</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">// credits to RECOMMISSION_CREDIT (see below).  If it does not come back online within the</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// required number of blocks (i.e. the accumulated credit at the point of decommissioning) then a</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// quorum will send a permanent deregistration transaction to the network, starting a 30-day</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// deregistration count down.  (Note that it is possible for a server to slightly exceed its</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// decommission time: the first quorum test after the credit expires determines whether the server</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// gets recommissioned or decommissioned).</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a92b6929c3e6ce53be58cd91034a21226">   74</a></span>&#160;  <span class="keyword">inline</span> constexpr int64_t <a class="code" href="namespaceservice__nodes.html#a92b6929c3e6ce53be58cd91034a21226">DECOMMISSION_CREDIT_PER_DAY</a> = <a class="code" href="namespacecryptonote.html#aeb4bfc2bef985eb2011fab463ad6e966">cryptonote::BLOCKS_PER_DAY</a> / 30;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a255749fdc9666895b4c0b25e31f185a5">   75</a></span>&#160;  <span class="keyword">inline</span> constexpr int64_t <a class="code" href="namespaceservice__nodes.html#a255749fdc9666895b4c0b25e31f185a5">DECOMMISSION_INITIAL_CREDIT</a> = <a class="code" href="namespacecryptonote.html#a3d1634490c31f415a14adba978858289">cryptonote::BLOCKS_PER_HOUR</a> * 2;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">   76</a></span>&#160;  <span class="keyword">inline</span> constexpr int64_t <a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>     = <a class="code" href="namespacecryptonote.html#aeb4bfc2bef985eb2011fab463ad6e966">cryptonote::BLOCKS_PER_DAY</a> * 2;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a2374ddc6886b694a6f4cd55b0d329471">   77</a></span>&#160;  <span class="keyword">inline</span> constexpr int64_t <a class="code" href="namespaceservice__nodes.html#a2374ddc6886b694a6f4cd55b0d329471">DECOMMISSION_MINIMUM</a>        = <a class="code" href="namespacecryptonote.html#a3d1634490c31f415a14adba978858289">cryptonote::BLOCKS_PER_HOUR</a> * 2;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a255749fdc9666895b4c0b25e31f185a5">DECOMMISSION_INITIAL_CREDIT</a> &lt;= <a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, <span class="stringliteral">&quot;Initial registration decommission credit cannot be larger than the maximum decommission credit&quot;</span>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// This determines how many credits a node gets when being recommissioned after being</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">// decommissioned.  It gets passed two values: the credit at the time the node was decomissioned,</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// and the number of blocks the decommission lasted.  Note that it is possible for decomm_blocks</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// to be *larger* than credit_at_decomm: in particularl</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// The default, starting in Loki 8, subtracts two blocks for every block you were decomissioned,</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// or returns 0 if that value would be negative.  So, for example, if you had 1000 blocks of</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// credit and got decomissioned for 100 blocks, you will be recommissioned with 800 blocks of</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// credit.  If you got decomissioned for 500 or more you will be recommissioned with 0 blocks of</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// credit.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// Before Loki 8 (when this configuration was added) recomissioning would always reset your credit</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">// to 0, which is what happens if this function always returns 0.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">   94</a></span>&#160;  <span class="keyword">inline</span> constexpr int64_t <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(int64_t credit_at_decomm, int64_t decomm_blocks) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="keywordflow">return</span> std::max&lt;int64_t&gt;(0, credit_at_decomm - 2*decomm_blocks);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// Some sanity checks on the recommission credit value:</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, 0) &lt;= <a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;          <span class="stringliteral">&quot;Max recommission credit should not be higher than DECOMMISSION_MAX_CREDIT&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// These are by no means exhaustive, but will at least catch simple mistakes</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  static_assert(</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;          <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, <a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>) &lt;= <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, <a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>/2) &amp;&amp;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;          <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, <a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>/2) &lt;= <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, 0) &amp;&amp;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;          <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>/2, <a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>/2) &lt;= <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>/2, 0),</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;          <span class="stringliteral">&quot;Recommission credit should be (weakly) decreasing in the length of decommissioning&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  static_assert(</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>/2, 1) &lt;= <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, 1) &amp;&amp;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;          <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(0, 1) &lt;= <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>/2, 1),</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;          <span class="stringliteral">&quot;Recommission credit should be (weakly) increasing in initial credit blocks&quot;</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// This one actually could be supported (i.e. you can have negative credit and half to crawl out</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// of that hole), but the current code is entirely untested as to whether or not that actually</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// works.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  static_assert(</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, 0) &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;          <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, <a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>) &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          <a class="code" href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">RECOMMISSION_CREDIT</a>(<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>, 2*<a class="code" href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">DECOMMISSION_MAX_CREDIT</a>) &gt;= 0, <span class="comment">// delayed recommission that overhangs your time</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;          <span class="stringliteral">&quot;Recommission credit should not be negative&quot;</span>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a19d8c278b6458da4d8fb4392356dd611">  122</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t  <a class="code" href="namespaceservice__nodes.html#a19d8c278b6458da4d8fb4392356dd611">CHECKPOINT_NUM_CHECKPOINTS_FOR_CHAIN_FINALITY</a> = 2;  <span class="comment">// Number of consecutive checkpoints before, blocks preceeding the N checkpoints are locked in</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ac6ef3aa5377899d88316c68d94f175e2">  123</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t  <a class="code" href="namespaceservice__nodes.html#ac6ef3aa5377899d88316c68d94f175e2">CHECKPOINT_INTERVAL</a>                           = 4;  <span class="comment">// Checkpoint every 4 blocks and prune when too old except if (height % CHECKPOINT_STORE_PERSISTENTLY_INTERVAL == 0)</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#aa2749b02c6f1f5df3f17745725d912f8">  124</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t  <a class="code" href="namespaceservice__nodes.html#aa2749b02c6f1f5df3f17745725d912f8">CHECKPOINT_STORE_PERSISTENTLY_INTERVAL</a>        = 60; <span class="comment">// Persistently store the checkpoints at these intervals</span></div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a985ed8271d87efaae6e3893676d74b8e">  125</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t  <a class="code" href="namespaceservice__nodes.html#a985ed8271d87efaae6e3893676d74b8e">CHECKPOINT_VOTE_LIFETIME</a>                      = <a class="code" href="namespaceservice__nodes.html#aa2749b02c6f1f5df3f17745725d912f8">CHECKPOINT_STORE_PERSISTENTLY_INTERVAL</a>; <span class="comment">// Keep the last 60 blocks worth of votes</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a84e0b4526989f78e89c5c3296544a4e6">  127</a></span>&#160;  <span class="keyword">inline</span> constexpr int16_t <a class="code" href="namespaceservice__nodes.html#a84e0b4526989f78e89c5c3296544a4e6">QUORUM_VOTE_CHECK_COUNT</a>       = 8;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#abfaf5931c6b2e51ee9051b0dcd09eede">  128</a></span>&#160;  <span class="keyword">inline</span> constexpr int16_t <a class="code" href="namespaceservice__nodes.html#abfaf5931c6b2e51ee9051b0dcd09eede">PULSE_MAX_MISSABLE_VOTES</a>      = 4;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a10b803bda399c40f235f4529abf488b2">  129</a></span>&#160;  <span class="keyword">inline</span> constexpr int16_t <a class="code" href="namespaceservice__nodes.html#a10b803bda399c40f235f4529abf488b2">CHECKPOINT_MAX_MISSABLE_VOTES</a> = 4;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a013c724493c1d56e40aa4785cb1342d0">  130</a></span>&#160;  <span class="keyword">inline</span> constexpr int16_t <a class="code" href="namespaceservice__nodes.html#a013c724493c1d56e40aa4785cb1342d0">TIMESTAMP_MAX_MISSABLE_VOTES</a>  = 4;</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a9c5101956d6cf097d97b8ad317dbda1a">  131</a></span>&#160;  <span class="keyword">inline</span> constexpr int16_t <a class="code" href="namespaceservice__nodes.html#a9c5101956d6cf097d97b8ad317dbda1a">TIMESYNC_MAX_UNSYNCED_VOTES</a>   = 4;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a10b803bda399c40f235f4529abf488b2">CHECKPOINT_MAX_MISSABLE_VOTES</a> &lt; <a class="code" href="namespaceservice__nodes.html#a84e0b4526989f78e89c5c3296544a4e6">QUORUM_VOTE_CHECK_COUNT</a>,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="stringliteral">&quot;The maximum number of votes a service node can miss cannot be greater than the amount of checkpoint &quot;</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="stringliteral">&quot;quorums they must participate in before we check if they should be deregistered or not.&quot;</span>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a4757d4f381fd4f81b8521154e198f20f">  136</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">int</span> <a class="code" href="namespaceservice__nodes.html#a4757d4f381fd4f81b8521154e198f20f">BLINK_QUORUM_INTERVAL</a> = 5; <span class="comment">// We generate a new sub-quorum every N blocks (two consecutive quorums are needed for a blink signature)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a6f90f78f0830db68a4ed8913ccd1239f">  137</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">int</span> <a class="code" href="namespaceservice__nodes.html#a6f90f78f0830db68a4ed8913ccd1239f">BLINK_QUORUM_LAG</a>      = 7 * <a class="code" href="namespaceservice__nodes.html#a4757d4f381fd4f81b8521154e198f20f">BLINK_QUORUM_INTERVAL</a>; <span class="comment">// The lag (which must be a multiple of BLINK_QUORUM_INTERVAL) in determining the base blink quorum height</span></div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a0145831c0a4c9a7603a39491931ff4c8">  138</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">int</span> <a class="code" href="namespaceservice__nodes.html#a0145831c0a4c9a7603a39491931ff4c8">BLINK_EXPIRY_BUFFER</a>   = <a class="code" href="namespaceservice__nodes.html#a6f90f78f0830db68a4ed8913ccd1239f">BLINK_QUORUM_LAG</a> + 10; <span class="comment">// We don&#39;t select any SNs that have a scheduled unlock within this many blocks (measured from the lagged height)</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a6f90f78f0830db68a4ed8913ccd1239f">BLINK_QUORUM_LAG</a> % <a class="code" href="namespaceservice__nodes.html#a4757d4f381fd4f81b8521154e198f20f">BLINK_QUORUM_INTERVAL</a> == 0, <span class="stringliteral">&quot;BLINK_QUORUM_LAG must be an integral multiple of BLINK_QUORUM_INTERVAL&quot;</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a0145831c0a4c9a7603a39491931ff4c8">BLINK_EXPIRY_BUFFER</a> &gt; <a class="code" href="namespaceservice__nodes.html#a6f90f78f0830db68a4ed8913ccd1239f">BLINK_QUORUM_LAG</a> + <a class="code" href="namespaceservice__nodes.html#a4757d4f381fd4f81b8521154e198f20f">BLINK_QUORUM_INTERVAL</a>, <span class="stringliteral">&quot;BLINK_EXPIRY_BUFFER is too short to cover a blink quorum height range&quot;</span>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// State change quorums are in charge of policing the network by changing the state of a service</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// node on the network: temporary decommissioning, recommissioning, and permanent deregistration.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a2e32a525f7b1c135ac130385db6f1efc">  144</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#a2e32a525f7b1c135ac130385db6f1efc">STATE_CHANGE_NTH_OF_THE_NETWORK_TO_TEST</a> = 100;</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ac809e4b748aa8764a75a1efd76beca25">  145</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#ac809e4b748aa8764a75a1efd76beca25">STATE_CHANGE_MIN_NODES_TO_TEST</a>          = 50;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a2745e344755e6b64f12c2a6282e944d3">  146</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t <a class="code" href="namespaceservice__nodes.html#a2745e344755e6b64f12c2a6282e944d3">VOTE_LIFETIME</a>                           = <a class="code" href="namespacecryptonote.html#a3d1634490c31f415a14adba978858289">cryptonote::BLOCKS_PER_HOUR</a> * 2;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a7b836faff33d7e2a05395c65724592cf">  148</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#a7b836faff33d7e2a05395c65724592cf">STATE_CHANGE_MIN_VOTES_TO_CHANGE_STATE</a> = 7;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#aa5db295637f03714766b939f78de2f86">  149</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#aa5db295637f03714766b939f78de2f86">STATE_CHANGE_QUORUM_SIZE</a>               = 10;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ac667cde95a97bc86f5c00fa757efc38f">  150</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#ac667cde95a97bc86f5c00fa757efc38f">CHECKPOINT_QUORUM_SIZE</a>                 = 20;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ab95da2223071aaebfd7150ec35dc2c82">  151</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#ab95da2223071aaebfd7150ec35dc2c82">CHECKPOINT_MIN_VOTES</a>                   = 13;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#aea0be087b7c26a5184b8f955a42305ec">  152</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">int</span>    <a class="code" href="namespaceservice__nodes.html#aea0be087b7c26a5184b8f955a42305ec">BLINK_SUBQUORUM_SIZE</a>                   = 10;</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a81c685b10d90e18fef5f5168c86aa29c">  153</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">int</span>    <a class="code" href="namespaceservice__nodes.html#a81c685b10d90e18fef5f5168c86aa29c">BLINK_MIN_VOTES</a>                        = 7;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a7b836faff33d7e2a05395c65724592cf">STATE_CHANGE_MIN_VOTES_TO_CHANGE_STATE</a> &lt;= <a class="code" href="namespaceservice__nodes.html#aa5db295637f03714766b939f78de2f86">STATE_CHANGE_QUORUM_SIZE</a>, <span class="stringliteral">&quot;The number of votes required to kick can&#39;t exceed the actual quorum size, otherwise we never kick.&quot;</span>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#ab95da2223071aaebfd7150ec35dc2c82">CHECKPOINT_MIN_VOTES</a> &lt;= <a class="code" href="namespaceservice__nodes.html#ac667cde95a97bc86f5c00fa757efc38f">CHECKPOINT_QUORUM_SIZE</a>, <span class="stringliteral">&quot;The number of votes required to add a checkpoint can&#39;t exceed the actual quorum size, otherwise we never add checkpoints.&quot;</span>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a81c685b10d90e18fef5f5168c86aa29c">BLINK_MIN_VOTES</a> &lt;= <a class="code" href="namespaceservice__nodes.html#aea0be087b7c26a5184b8f955a42305ec">BLINK_SUBQUORUM_SIZE</a>, <span class="stringliteral">&quot;The number of votes required can&#39;t exceed the actual blink subquorum size, otherwise we never approve.&quot;</span>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a81c685b10d90e18fef5f5168c86aa29c">BLINK_MIN_VOTES</a> &gt; <a class="code" href="namespaceservice__nodes.html#aea0be087b7c26a5184b8f955a42305ec">BLINK_SUBQUORUM_SIZE</a> / 2, <span class="stringliteral">&quot;Blink approvals must require a majority of quorum members to prevent conflicting, signed blinks.&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// NOTE: We can reorg up to last 2 checkpoints + the number of extra blocks before the next checkpoint is set</span></div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a67a661f02128bcd5147585417ce761bd">  161</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t  <a class="code" href="namespaceservice__nodes.html#a67a661f02128bcd5147585417ce761bd">REORG_SAFETY_BUFFER_BLOCKS_POST_HF12</a> = (<a class="code" href="namespaceservice__nodes.html#ac6ef3aa5377899d88316c68d94f175e2">CHECKPOINT_INTERVAL</a> * <a class="code" href="namespaceservice__nodes.html#a19d8c278b6458da4d8fb4392356dd611">CHECKPOINT_NUM_CHECKPOINTS_FOR_CHAIN_FINALITY</a>) + (<a class="code" href="namespaceservice__nodes.html#ac6ef3aa5377899d88316c68d94f175e2">CHECKPOINT_INTERVAL</a> - 1);</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ab7f38da7587f68465586d52ff8782d69">  162</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t  <a class="code" href="namespaceservice__nodes.html#ab7f38da7587f68465586d52ff8782d69">REORG_SAFETY_BUFFER_BLOCKS_PRE_HF12</a>  = 20;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#a67a661f02128bcd5147585417ce761bd">REORG_SAFETY_BUFFER_BLOCKS_POST_HF12</a> &lt; <a class="code" href="namespaceservice__nodes.html#a2745e344755e6b64f12c2a6282e944d3">VOTE_LIFETIME</a>, <span class="stringliteral">&quot;Safety buffer should always be less than the vote lifetime&quot;</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  static_assert(<a class="code" href="namespaceservice__nodes.html#ab7f38da7587f68465586d52ff8782d69">REORG_SAFETY_BUFFER_BLOCKS_PRE_HF12</a>  &lt; <a class="code" href="namespaceservice__nodes.html#a2745e344755e6b64f12c2a6282e944d3">VOTE_LIFETIME</a>, <span class="stringliteral">&quot;Safety buffer should always be less than the vote lifetime&quot;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a4337d4727e7f7a84e3383c7a25d4e934">  166</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a4337d4727e7f7a84e3383c7a25d4e934">IP_CHANGE_WINDOW</a> = 24h; <span class="comment">// How far back an obligations quorum looks for multiple IPs (unless the following buffer is more recent)</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a5eabba3ef0283a14fbae04508a800392">  167</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keyword">auto</span> <a class="code" href="namespaceservice__nodes.html#a5eabba3ef0283a14fbae04508a800392">IP_CHANGE_BUFFER</a> = 2h; <span class="comment">// After we bump a SN for an IP change we don&#39;t bump again for changes within this time period</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a942e6ad598eeb38a07f89d466f64b3c2">  169</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#a942e6ad598eeb38a07f89d466f64b3c2">MAX_SWARM_SIZE</a>                   = 10;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// We never create a new swarm unless there are SWARM_BUFFER extra nodes</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// available in the queue.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a3fb1e856c0996b92b2eafa6ba2076454">  172</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#a3fb1e856c0996b92b2eafa6ba2076454">SWARM_BUFFER</a>                     = 5;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// if a swarm has strictly less nodes than this, it is considered unhealthy</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// and nearby swarms will mirror it&#39;s data. It will disappear, and is already considered gone.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#adcf8f4080b8a6e2c0621a0aeec921d87">  175</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#adcf8f4080b8a6e2c0621a0aeec921d87">MIN_SWARM_SIZE</a>                   = 5;</div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ad3f3b480e3139eeb83c466650b8b1e80">  176</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#ad3f3b480e3139eeb83c466650b8b1e80">IDEAL_SWARM_MARGIN</a>               = 2;</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ab3ca230cb0f260887777d9da87c4e831">  177</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#ab3ca230cb0f260887777d9da87c4e831">IDEAL_SWARM_SIZE</a>                 = <a class="code" href="namespaceservice__nodes.html#adcf8f4080b8a6e2c0621a0aeec921d87">MIN_SWARM_SIZE</a> + <a class="code" href="namespaceservice__nodes.html#ad3f3b480e3139eeb83c466650b8b1e80">IDEAL_SWARM_MARGIN</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#afd56adf1d701636284eea8f71a99098d">  178</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#afd56adf1d701636284eea8f71a99098d">EXCESS_BASE</a>                      = <a class="code" href="namespaceservice__nodes.html#adcf8f4080b8a6e2c0621a0aeec921d87">MIN_SWARM_SIZE</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a5a1d0bcb5cc3453296036089ed4d641a">  179</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#a5a1d0bcb5cc3453296036089ed4d641a">NEW_SWARM_SIZE</a>                   = <a class="code" href="namespaceservice__nodes.html#ab3ca230cb0f260887777d9da87c4e831">IDEAL_SWARM_SIZE</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// The lower swarm percentile that will be randomly filled with new service nodes</span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a90124f1d6e6879e4b083eb2e202b1e30">  181</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#a90124f1d6e6879e4b083eb2e202b1e30">FILL_SWARM_LOWER_PERCENTILE</a>      = 25;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">// Redistribute snodes from decommissioned swarms to the smallest swarms</span></div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#acb0c8dcf11b7c540582502b415111e35">  183</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#acb0c8dcf11b7c540582502b415111e35">DECOMMISSIONED_REDISTRIBUTION_LOWER_PERCENTILE</a> = 0;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// The upper swarm percentile that will be randomly selected during stealing</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ae477b23a28f0e2a0dac012da9f7cb37b">  185</a></span>&#160;  <span class="keyword">inline</span> constexpr <span class="keywordtype">size_t</span>   <a class="code" href="namespaceservice__nodes.html#ae477b23a28f0e2a0dac012da9f7cb37b">STEALING_SWARM_UPPER_PERCENTILE</a>  = 75;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a544decf5e2f18c5b9aac9f3d3063c5d2">  186</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t <a class="code" href="namespaceservice__nodes.html#a544decf5e2f18c5b9aac9f3d3063c5d2">KEY_IMAGE_AWAITING_UNLOCK_HEIGHT</a> = 0;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a253a695061b67e1fec86c53303b5f2c4">  188</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t <a class="code" href="namespaceservice__nodes.html#a253a695061b67e1fec86c53303b5f2c4">STATE_CHANGE_TX_LIFETIME_IN_BLOCKS</a> = <a class="code" href="namespaceservice__nodes.html#a2745e344755e6b64f12c2a6282e944d3">VOTE_LIFETIME</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// If we get an incoming vote of state change tx that is outside the acceptable range by this many</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// blocks then ignore it but don&#39;t trigger a connection drop; the sending side could be a couple</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// blocks out of sync and sending something that it thinks is legit.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#aee4d2fcf78b3f7264cc046e30f6c1128">  193</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t <a class="code" href="namespaceservice__nodes.html#aee4d2fcf78b3f7264cc046e30f6c1128">VOTE_OR_TX_VERIFY_HEIGHT_BUFFER</a>    = 5;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a71186eab52b20d8e5656aadf11049837">  195</a></span>&#160;  <span class="keyword">inline</span> constexpr std::array&lt;uint16_t, 3&gt; <a class="code" href="namespaceservice__nodes.html#a71186eab52b20d8e5656aadf11049837">MIN_STORAGE_SERVER_VERSION</a>{{2, 4, 0}};</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a8c2ea1f8e9b24f4df92fba98c5202718">  196</a></span>&#160;  <span class="keyword">inline</span> constexpr std::array&lt;uint16_t, 3&gt; <a class="code" href="namespaceservice__nodes.html#a8c2ea1f8e9b24f4df92fba98c5202718">MIN_LOKINET_VERSION</a>{{0, 9, 9}};</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// The minimum accepted version number, broadcasted by Service Nodes via uptime proofs for each hardfork</span></div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="structservice__nodes_1_1proof__version.html">  199</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structservice__nodes_1_1proof__version.html">proof_version</a></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  {</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="structservice__nodes_1_1proof__version.html#a1d7c591aeff6158cfb6d24c825e39782">  201</a></span>&#160;    std::pair&lt;cryptonote::hf, uint8_t&gt; <a class="code" href="structservice__nodes_1_1proof__version.html#a1d7c591aeff6158cfb6d24c825e39782">hardfork_revision</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structservice__nodes_1_1proof__version.html#ad95577a37b5ad2e938c0b71dfcbb658b">  202</a></span>&#160;    std::array&lt;uint16_t, 3&gt; <a class="code" href="structservice__nodes_1_1proof__version.html#ad95577a37b5ad2e938c0b71dfcbb658b">oxend</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="structservice__nodes_1_1proof__version.html#a042393b992b5b8e2b629dddc430e76de">  203</a></span>&#160;    std::array&lt;uint16_t, 3&gt; <a class="code" href="structservice__nodes_1_1proof__version.html#a042393b992b5b8e2b629dddc430e76de">lokinet</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="structservice__nodes_1_1proof__version.html#a972ccdd4f59d1df9c93bf8de869e83d1">  204</a></span>&#160;    std::array&lt;uint16_t, 3&gt; <a class="code" href="structservice__nodes_1_1proof__version.html#a972ccdd4f59d1df9c93bf8de869e83d1">storage_server</a>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  };</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a1d198db110af4f110570209600c505d9">  207</a></span>&#160;  <span class="keyword">inline</span> constexpr std::array <a class="code" href="namespaceservice__nodes.html#a1d198db110af4f110570209600c505d9">MIN_UPTIME_PROOF_VERSIONS</a> = {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="structservice__nodes_1_1proof__version.html">proof_version</a>{{<a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75efa67c436fdcf312a593986bda06b1b449e">cryptonote::hf::hf19_reward_batching</a>, 2}, {10,2,0}, {0,9,9}, {2,4,0}},</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="structservice__nodes_1_1proof__version.html">proof_version</a>{{<a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75efa67c436fdcf312a593986bda06b1b449e">cryptonote::hf::hf19_reward_batching</a>, 0}, {10,0,0}, {0,9,9}, {2,3,0}},</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  };</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a6ee77bc8b6bf09851397bad24893e2fe">  212</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="namespaceservice__nodes.html#a6ee77bc8b6bf09851397bad24893e2fe">swarm_id_t</a> = uint64_t;</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a65d5c18b4d5808a7c21ea9893a77fe93">  213</a></span>&#160;  <span class="keyword">inline</span> constexpr <a class="code" href="namespaceservice__nodes.html#a6ee77bc8b6bf09851397bad24893e2fe">swarm_id_t</a> <a class="code" href="namespaceservice__nodes.html#a65d5c18b4d5808a7c21ea9893a77fe93">UNASSIGNED_SWARM_ID</a> = UINT64_MAX;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a43bcac3ca080f197c26d23149befce69">  215</a></span>&#160;  constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__nodes.html#a43bcac3ca080f197c26d23149befce69">min_votes_for_quorum_type</a>(<a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52">quorum_type</a> <a class="code" href="namespacebase.html#a64eba7d4098c7d383bcf6a9ad0340de8">q</a>) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="namespacebase.html#a64eba7d4098c7d383bcf6a9ad0340de8">q</a> == <a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a8ad227215390a63934abc20fed39722f">quorum_type::obligations</a>     ? <a class="code" href="namespaceservice__nodes.html#a7b836faff33d7e2a05395c65724592cf">STATE_CHANGE_MIN_VOTES_TO_CHANGE_STATE</a> :</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="namespacebase.html#a64eba7d4098c7d383bcf6a9ad0340de8">q</a> == <a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a05304abc5ec69431ecc6730a302f2a37">quorum_type::checkpointing</a>   ? <a class="code" href="namespaceservice__nodes.html#ab95da2223071aaebfd7150ec35dc2c82">CHECKPOINT_MIN_VOTES</a> :</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <a class="code" href="namespacebase.html#a64eba7d4098c7d383bcf6a9ad0340de8">q</a> == <a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a40652ee9ae143f1c1c830f01a5449ecb">quorum_type::blink</a>           ? <a class="code" href="namespaceservice__nodes.html#a81c685b10d90e18fef5f5168c86aa29c">BLINK_MIN_VOTES</a> :</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      std::numeric_limits&lt;size_t&gt;::max();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  };</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a5a9c4bc935229938d1a1971112ed1971">  223</a></span>&#160;  constexpr <a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52">quorum_type</a> <a class="code" href="namespaceservice__nodes.html#a5a9c4bc935229938d1a1971112ed1971">max_quorum_type_for_hf</a>(<a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">cryptonote::hf</a> version)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        version &lt;= <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75efacc342f263e8cddcba32c25888c93ad90">cryptonote::hf::hf12_checkpointing</a> ? <a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a8ad227215390a63934abc20fed39722f">quorum_type::obligations</a> :</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        version &lt;  <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75efa571749981e5b93904ab832797a7883fe">cryptonote::hf::hf14_blink</a>         ? <a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a05304abc5ec69431ecc6730a302f2a37">quorum_type::checkpointing</a> :</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        version &lt;  <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75efa744198ad488063e0b9d1b6f59ce6fc84">cryptonote::hf::hf16_pulse</a>         ? <a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a40652ee9ae143f1c1c830f01a5449ecb">quorum_type::blink</a> :</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a02a8dc4cf01fed584c6423f577c0b0d7">quorum_type::pulse</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a2e2df97c5e7240ab85506fa91ff293e3">  232</a></span>&#160;  constexpr uint64_t <a class="code" href="namespaceservice__nodes.html#a2e2df97c5e7240ab85506fa91ff293e3">staking_num_lock_blocks</a>(<a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70a">cryptonote::network_type</a> nettype)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">switch</span> (nettype)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70aaa45f009ef381c3bc198dd0f352e08a2e">cryptonote::network_type::FAKECHAIN</a>: <span class="keywordflow">return</span> 30;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70aace8400aeb0c47ce5cd8e37a3a54e557b">cryptonote::network_type::TESTNET</a>:   <span class="keywordflow">return</span> <a class="code" href="namespacecryptonote.html#aeb4bfc2bef985eb2011fab463ad6e966">cryptonote::BLOCKS_PER_DAY</a> * 2;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">default</span>:                                  <span class="keywordflow">return</span> <a class="code" href="namespacecryptonote.html#aeb4bfc2bef985eb2011fab463ad6e966">cryptonote::BLOCKS_PER_DAY</a> * 30;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">//If a nodes timestamp varies by this amount of seconds they will be considered out of sync</span></div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ad352cecb0b9f0e27ac99a6a468ad5694">  243</a></span>&#160;  <span class="keyword">inline</span> constexpr uint8_t <a class="code" href="namespaceservice__nodes.html#ad352cecb0b9f0e27ac99a6a468ad5694">THRESHOLD_SECONDS_OUT_OF_SYNC</a> = 30;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">//If the below percentage of service nodes are out of sync we will consider our clock out of sync</span></div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a53c6a162f7757c785a4ca9f8e5121774">  246</a></span>&#160;  <span class="keyword">inline</span> constexpr uint8_t <a class="code" href="namespaceservice__nodes.html#a53c6a162f7757c785a4ca9f8e5121774">MAXIMUM_EXTERNAL_OUT_OF_SYNC</a> = 80;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// The SN operator must contribute at least 25% of the node&#39;s requirement, expressed as portions</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// (for pre-HF19 registrations).</span></div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a58bdf2810e4410d79e1e7ec94a890418">  250</a></span>&#160;  <span class="keyword">inline</span> constexpr uint64_t <a class="code" href="namespaceservice__nodes.html#a58bdf2810e4410d79e1e7ec94a890418">MINIMUM_OPERATOR_PORTION</a> = <a class="code" href="namespacecryptonote_1_1old.html#aff49d5bd41207b3e4a8c406c053261be">cryptonote::old::STAKING_PORTIONS</a> / <a class="code" href="namespaceoxen.html#a0e8389e6ea468a802ddefc7af77bbe27">oxen::MAX_CONTRIBUTORS_V1</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// Small Stake prevented from unlocking stake until a certain number of blocks have passed</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#ac62dc8c88fd49c6733d6a48114e93cb8">  253</a></span>&#160;  constexpr uint64_t <a class="code" href="namespaceservice__nodes.html#ac62dc8c88fd49c6733d6a48114e93cb8">SMALL_CONTRIBUTOR_UNLOCK_TIMER</a> = <a class="code" href="namespacecryptonote.html#aeb4bfc2bef985eb2011fab463ad6e966">cryptonote::BLOCKS_PER_DAY</a> * 30;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="namespaceservice__nodes.html#a4567dc99de9ed40aa19f27985dc3e214">  254</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="namespaceservice__nodes.html#a4567dc99de9ed40aa19f27985dc3e214">SMALL_CONTRIBUTOR_THRESHOLD</a> = std::ratio&lt;2499, 10000&gt;;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;static_assert(<a class="code" href="namespacecryptonote_1_1old.html#aff49d5bd41207b3e4a8c406c053261be">cryptonote::old::STAKING_PORTIONS</a> != UINT64_MAX, <span class="stringliteral">&quot;UINT64_MAX is used as the invalid value for failing to calculate the min_node_contribution&quot;</span>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">// return: UINT64_MAX if (num_contributions &gt; the max number of contributions), otherwise the amount in oxen atomic units</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;uint64_t <a class="code" href="namespaceservice__nodes.html#a8c52f16d66e0b53bb9b4bf6fe858b4d4">get_min_node_contribution</a>            (<a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">cryptonote::hf</a> version, uint64_t staking_requirement, uint64_t total_reserved, <span class="keywordtype">size_t</span> num_contributions);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;uint64_t <a class="code" href="namespaceservice__nodes.html#ab128a5a0ef4394ce7f1c5bd3f5ea3628">get_min_node_contribution_in_portions</a>(<a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">cryptonote::hf</a> version, uint64_t staking_requirement, uint64_t total_reserved, <span class="keywordtype">size_t</span> num_contributions);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">// Gets the maximum allowed stake amount.  This is used to prevent significant overstaking.  The</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">// wallet tries to avoid this when submitting a stake, but it can still happen when competing stakes</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">// get submitted into the mempool -- for example, with 10k of contribution room, two contributions</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">// of 8k could get submitted and both would be accepted, but the second one would only count as 2k</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">// of stake despite locking 8k.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">// Starting in HF16, we disallow a stake if it is more than MAXIMUM_ACCEPTABLE_STAKE ratio of the</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">// available contribution room, which allows slight overstaking but disallows larger overstakes.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;uint64_t <a class="code" href="namespaceservice__nodes.html#a5104982f824a60531362048518cdf05c">get_max_node_contribution</a>(<a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">cryptonote::hf</a> version, uint64_t staking_requirement, uint64_t total_reserved);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">// Returns the staking requirement at the given height; since HF16 (and always on testnet/devnet)</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">// this is fixed, but before HF16 on mainnet this is height-dependent.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;uint64_t <a class="code" href="namespaceservice__nodes.html#a8f4dc84dd9ca21434ef48a0e797bed73">get_staking_requirement</a>(<a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70a">cryptonote::network_type</a> nettype, uint64_t height);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">// Return the (fixed) staking requirement for a hardfork.  This is only valid for hardfork 16+ as</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">// earlier hardforks had a height-dependent staking requirement.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;uint64_t <a class="code" href="namespaceservice__nodes.html#a8f4dc84dd9ca21434ef48a0e797bed73">get_staking_requirement</a>(<a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70a">cryptonote::network_type</a> nettype, <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">cryptonote::hf</a> hardfork);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;uint64_t <a class="code" href="namespaceservice__nodes.html#afba38f786460d3a87da85828d8405123">portions_to_amount</a>(uint64_t portions, uint64_t staking_requirement);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceservice__nodes.html#a7c7ef55a390c8215cad19172d83cf6a1">check_service_node_portions</a>(</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">cryptonote::hf</a> version,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keyword">const</span> std::vector&lt;std::pair&lt;cryptonote::account_public_address, uint64_t&gt;&gt;&amp; portions);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceservice__nodes.html#a1af9223f7acc939e6d6b2fab2968a822">check_service_node_stakes</a>(</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">cryptonote::hf</a> hf_version,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70a">cryptonote::network_type</a> nettype,</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    uint64_t staking_requirement,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">const</span> std::vector&lt;std::pair&lt;cryptonote::account_public_address, uint64_t&gt;&gt;&amp; stakes);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<a class="code" href="structcrypto_1_1hash.html">crypto::hash</a> <a class="code" href="namespaceservice__nodes.html#a39375dcbac5c905eeb9e4604b2458013">generate_request_stake_unlock_hash</a>(uint32_t nonce);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;uint64_t     <a class="code" href="namespaceservice__nodes.html#a41686f2c897f6f8972c221653a4d1562">get_locked_key_image_unlock_height</a>(<a class="code" href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70a">cryptonote::network_type</a> nettype, uint64_t node_register_height, uint64_t curr_height);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">// Returns lowest x such that (staking_requirement * x/STAKING_PORTIONS) &gt;= amount</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;uint64_t <a class="code" href="namespaceservice__nodes.html#a459f06c1c3bc526051a1ed8844532c37">get_portions_to_make_amount</a>(uint64_t staking_requirement, uint64_t amount, uint64_t max_portions = <a class="code" href="namespacecryptonote_1_1old.html#aff49d5bd41207b3e4a8c406c053261be">cryptonote::old::STAKING_PORTIONS</a>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;std::optional&lt;double&gt; <a class="code" href="namespaceservice__nodes.html#ae8818286fddb85de5d2a05cd6cfacfbd">parse_fee_percent</a>(std::string_view fee);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;uint16_t <a class="code" href="namespaceservice__nodes.html#a191d5e68b2c27e3758e45b6652724628">percent_to_basis_points</a>(std::string percent_string);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespaceservice__nodes_html_a0145831c0a4c9a7603a39491931ff4c8"><div class="ttname"><a href="namespaceservice__nodes.html#a0145831c0a4c9a7603a39491931ff4c8">service_nodes::BLINK_EXPIRY_BUFFER</a></div><div class="ttdeci">constexpr int BLINK_EXPIRY_BUFFER</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:138</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a985ed8271d87efaae6e3893676d74b8e"><div class="ttname"><a href="namespaceservice__nodes.html#a985ed8271d87efaae6e3893676d74b8e">service_nodes::CHECKPOINT_VOTE_LIFETIME</a></div><div class="ttdeci">constexpr uint64_t CHECKPOINT_VOTE_LIFETIME</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:125</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_aa0eb333f14adf010ab81324de1dcc19c"><div class="ttname"><a href="namespaceservice__nodes.html#aa0eb333f14adf010ab81324de1dcc19c">service_nodes::RECOMMISSION_CREDIT</a></div><div class="ttdeci">constexpr int64_t RECOMMISSION_CREDIT(int64_t credit_at_decomm, int64_t decomm_blocks)</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:94</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ab128a5a0ef4394ce7f1c5bd3f5ea3628"><div class="ttname"><a href="namespaceservice__nodes.html#ab128a5a0ef4394ce7f1c5bd3f5ea3628">service_nodes::get_min_node_contribution_in_portions</a></div><div class="ttdeci">uint64_t get_min_node_contribution_in_portions(hf version, uint64_t staking_requirement, uint64_t total_reserved, size_t num_contributions)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:225</div></div>
<div class="ttc" id="anamespacecryptonote_html_a884c13f6c17c6ce8dd15f2e9bc4c75ef"><div class="ttname"><a href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75ef">cryptonote::hf</a></div><div class="ttdeci">hf</div><div class="ttdef"><b>Definition:</b> cryptonote_config.h:189</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_aee4d2fcf78b3f7264cc046e30f6c1128"><div class="ttname"><a href="namespaceservice__nodes.html#aee4d2fcf78b3f7264cc046e30f6c1128">service_nodes::VOTE_OR_TX_VERIFY_HEIGHT_BUFFER</a></div><div class="ttdeci">constexpr uint64_t VOTE_OR_TX_VERIFY_HEIGHT_BUFFER</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:193</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a1cf578ffab6e1e354d992a08a1fa427e"><div class="ttname"><a href="namespaceservice__nodes.html#a1cf578ffab6e1e354d992a08a1fa427e">service_nodes::PULSE_QUORUM_SIZE</a></div><div class="ttdeci">constexpr size_t PULSE_QUORUM_SIZE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:28</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ab7f38da7587f68465586d52ff8782d69"><div class="ttname"><a href="namespaceservice__nodes.html#ab7f38da7587f68465586d52ff8782d69">service_nodes::REORG_SAFETY_BUFFER_BLOCKS_PRE_HF12</a></div><div class="ttdeci">constexpr uint64_t REORG_SAFETY_BUFFER_BLOCKS_PRE_HF12</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:162</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a7b836faff33d7e2a05395c65724592cf"><div class="ttname"><a href="namespaceservice__nodes.html#a7b836faff33d7e2a05395c65724592cf">service_nodes::STATE_CHANGE_MIN_VOTES_TO_CHANGE_STATE</a></div><div class="ttdeci">constexpr size_t STATE_CHANGE_MIN_VOTES_TO_CHANGE_STATE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:148</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a65d5c18b4d5808a7c21ea9893a77fe93"><div class="ttname"><a href="namespaceservice__nodes.html#a65d5c18b4d5808a7c21ea9893a77fe93">service_nodes::UNASSIGNED_SWARM_ID</a></div><div class="ttdeci">constexpr swarm_id_t UNASSIGNED_SWARM_ID</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:213</div></div>
<div class="ttc" id="astructservice__nodes_1_1proof__version_html"><div class="ttname"><a href="structservice__nodes_1_1proof__version.html">service_nodes::proof_version</a></div><div class="ttdef"><b>Definition:</b> service_node_rules.h:199</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ab3ca230cb0f260887777d9da87c4e831"><div class="ttname"><a href="namespaceservice__nodes.html#ab3ca230cb0f260887777d9da87c4e831">service_nodes::IDEAL_SWARM_SIZE</a></div><div class="ttdeci">constexpr size_t IDEAL_SWARM_SIZE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:177</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a39375dcbac5c905eeb9e4604b2458013"><div class="ttname"><a href="namespaceservice__nodes.html#a39375dcbac5c905eeb9e4604b2458013">service_nodes::generate_request_stake_unlock_hash</a></div><div class="ttdeci">crypto::hash generate_request_stake_unlock_hash(uint32_t nonce)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:181</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a10b803bda399c40f235f4529abf488b2"><div class="ttname"><a href="namespaceservice__nodes.html#a10b803bda399c40f235f4529abf488b2">service_nodes::CHECKPOINT_MAX_MISSABLE_VOTES</a></div><div class="ttdeci">constexpr int16_t CHECKPOINT_MAX_MISSABLE_VOTES</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:129</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a07081991516ee3a02830fc3bd6d96523"><div class="ttname"><a href="namespaceservice__nodes.html#a07081991516ee3a02830fc3bd6d96523">service_nodes::PULSE_WAIT_FOR_BLOCK_TEMPLATE_DURATION</a></div><div class="ttdeci">constexpr auto PULSE_WAIT_FOR_BLOCK_TEMPLATE_DURATION</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:18</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a2374ddc6886b694a6f4cd55b0d329471"><div class="ttname"><a href="namespaceservice__nodes.html#a2374ddc6886b694a6f4cd55b0d329471">service_nodes::DECOMMISSION_MINIMUM</a></div><div class="ttdeci">constexpr int64_t DECOMMISSION_MINIMUM</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:77</div></div>
<div class="ttc" id="anamespacebase_html_a64eba7d4098c7d383bcf6a9ad0340de8"><div class="ttname"><a href="namespacebase.html#a64eba7d4098c7d383bcf6a9ad0340de8">base.q</a></div><div class="ttdeci">int q</div><div class="ttdef"><b>Definition:</b> base.py:2</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a0f07c95f79d1ae1fb3e397216d5362ed"><div class="ttname"><a href="namespaceservice__nodes.html#a0f07c95f79d1ae1fb3e397216d5362ed">service_nodes::PULSE_QUORUM_ENTROPY_LAG</a></div><div class="ttdeci">constexpr size_t PULSE_QUORUM_ENTROPY_LAG</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:14</div></div>
<div class="ttc" id="anamespacecryptonote_html_a182234d3f9d96df72dd598b5009492aa"><div class="ttname"><a href="namespacecryptonote.html#a182234d3f9d96df72dd598b5009492aa">cryptonote::TARGET_BLOCK_TIME</a></div><div class="ttdeci">constexpr auto TARGET_BLOCK_TIME</div><div class="ttdef"><b>Definition:</b> cryptonote_config.h:67</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a013c724493c1d56e40aa4785cb1342d0"><div class="ttname"><a href="namespaceservice__nodes.html#a013c724493c1d56e40aa4785cb1342d0">service_nodes::TIMESTAMP_MAX_MISSABLE_VOTES</a></div><div class="ttdeci">constexpr int16_t TIMESTAMP_MAX_MISSABLE_VOTES</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:130</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a5104982f824a60531362048518cdf05c"><div class="ttname"><a href="namespaceservice__nodes.html#a5104982f824a60531362048518cdf05c">service_nodes::get_max_node_contribution</a></div><div class="ttdeci">uint64_t get_max_node_contribution(hf version, uint64_t staking_requirement, uint64_t total_reserved)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:203</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a5a1d0bcb5cc3453296036089ed4d641a"><div class="ttname"><a href="namespaceservice__nodes.html#a5a1d0bcb5cc3453296036089ed4d641a">service_nodes::NEW_SWARM_SIZE</a></div><div class="ttdeci">constexpr size_t NEW_SWARM_SIZE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:179</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a5eabba3ef0283a14fbae04508a800392"><div class="ttname"><a href="namespaceservice__nodes.html#a5eabba3ef0283a14fbae04508a800392">service_nodes::IP_CHANGE_BUFFER</a></div><div class="ttdeci">constexpr auto IP_CHANGE_BUFFER</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:167</div></div>
<div class="ttc" id="astructservice__nodes_1_1proof__version_html_a972ccdd4f59d1df9c93bf8de869e83d1"><div class="ttname"><a href="structservice__nodes_1_1proof__version.html#a972ccdd4f59d1df9c93bf8de869e83d1">service_nodes::proof_version::storage_server</a></div><div class="ttdeci">std::array&lt; uint16_t, 3 &gt; storage_server</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:204</div></div>
<div class="ttc" id="anamespaceservice__nodes_html"><div class="ttname"><a href="namespaceservice__nodes.html">service_nodes</a></div><div class="ttdef"><b>Definition:</b> blockchain_db.h:98</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ac6ef3aa5377899d88316c68d94f175e2"><div class="ttname"><a href="namespaceservice__nodes.html#ac6ef3aa5377899d88316c68d94f175e2">service_nodes::CHECKPOINT_INTERVAL</a></div><div class="ttdeci">constexpr uint64_t CHECKPOINT_INTERVAL</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:123</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a9c5101956d6cf097d97b8ad317dbda1a"><div class="ttname"><a href="namespaceservice__nodes.html#a9c5101956d6cf097d97b8ad317dbda1a">service_nodes::TIMESYNC_MAX_UNSYNCED_VOTES</a></div><div class="ttdeci">constexpr int16_t TIMESYNC_MAX_UNSYNCED_VOTES</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:131</div></div>
<div class="ttc" id="anamespacecryptonote_html_a884c13f6c17c6ce8dd15f2e9bc4c75efa571749981e5b93904ab832797a7883fe"><div class="ttname"><a href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75efa571749981e5b93904ab832797a7883fe">cryptonote::hf::hf14_blink</a></div><div class="ttdeci">@ hf14_blink</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_aa2749b02c6f1f5df3f17745725d912f8"><div class="ttname"><a href="namespaceservice__nodes.html#aa2749b02c6f1f5df3f17745725d912f8">service_nodes::CHECKPOINT_STORE_PERSISTENTLY_INTERVAL</a></div><div class="ttdeci">constexpr uint64_t CHECKPOINT_STORE_PERSISTENTLY_INTERVAL</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:124</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a8610a75114eaef731ecc13a673b01232"><div class="ttname"><a href="namespaceservice__nodes.html#a8610a75114eaef731ecc13a673b01232">service_nodes::PULSE_MAX_TARGET_BLOCK_TIME</a></div><div class="ttdeci">constexpr auto PULSE_MAX_TARGET_BLOCK_TIME</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:27</div></div>
<div class="ttc" id="anamespacecryptonote_html_a884c13f6c17c6ce8dd15f2e9bc4c75efacc342f263e8cddcba32c25888c93ad90"><div class="ttname"><a href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75efacc342f263e8cddcba32c25888c93ad90">cryptonote::hf::hf12_checkpointing</a></div><div class="ttdeci">@ hf12_checkpointing</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a84e0b4526989f78e89c5c3296544a4e6"><div class="ttname"><a href="namespaceservice__nodes.html#a84e0b4526989f78e89c5c3296544a4e6">service_nodes::QUORUM_VOTE_CHECK_COUNT</a></div><div class="ttdeci">constexpr int16_t QUORUM_VOTE_CHECK_COUNT</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:127</div></div>
<div class="ttc" id="anamespacecryptonote_html_a1823e8e194e85c09ac7231f927cca70a"><div class="ttname"><a href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70a">cryptonote::network_type</a></div><div class="ttdeci">network_type</div><div class="ttdef"><b>Definition:</b> cryptonote_config.h:241</div></div>
<div class="ttc" id="astructservice__nodes_1_1proof__version_html_a042393b992b5b8e2b629dddc430e76de"><div class="ttname"><a href="structservice__nodes_1_1proof__version.html#a042393b992b5b8e2b629dddc430e76de">service_nodes::proof_version::lokinet</a></div><div class="ttdeci">std::array&lt; uint16_t, 3 &gt; lokinet</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:203</div></div>
<div class="ttc" id="anamespaceoxen_html_a0e8389e6ea468a802ddefc7af77bbe27"><div class="ttname"><a href="namespaceoxen.html#a0e8389e6ea468a802ddefc7af77bbe27">oxen::MAX_CONTRIBUTORS_V1</a></div><div class="ttdeci">constexpr size_t MAX_CONTRIBUTORS_V1</div><div class="ttdef"><b>Definition:</b> oxen_economy.h:55</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ae6e46bedb332be0cb43ce55424000ad6"><div class="ttname"><a href="namespaceservice__nodes.html#ae6e46bedb332be0cb43ce55424000ad6">service_nodes::PULSE_MIN_TARGET_BLOCK_TIME</a></div><div class="ttdeci">constexpr auto PULSE_MIN_TARGET_BLOCK_TIME</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:26</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a942e6ad598eeb38a07f89d466f64b3c2"><div class="ttname"><a href="namespaceservice__nodes.html#a942e6ad598eeb38a07f89d466f64b3c2">service_nodes::MAX_SWARM_SIZE</a></div><div class="ttdeci">constexpr size_t MAX_SWARM_SIZE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:169</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ae9cbd0134985b8fafe837ef380787484"><div class="ttname"><a href="namespaceservice__nodes.html#ae9cbd0134985b8fafe837ef380787484">service_nodes::PULSE_QUORUM_NUM_VALIDATORS</a></div><div class="ttdeci">constexpr size_t PULSE_QUORUM_NUM_VALIDATORS</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:23</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_adcf8f4080b8a6e2c0621a0aeec921d87"><div class="ttname"><a href="namespaceservice__nodes.html#adcf8f4080b8a6e2c0621a0aeec921d87">service_nodes::MIN_SWARM_SIZE</a></div><div class="ttdeci">constexpr size_t MIN_SWARM_SIZE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:175</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a8c2ea1f8e9b24f4df92fba98c5202718"><div class="ttname"><a href="namespaceservice__nodes.html#a8c2ea1f8e9b24f4df92fba98c5202718">service_nodes::MIN_LOKINET_VERSION</a></div><div class="ttdeci">constexpr std::array&lt; uint16_t, 3 &gt; MIN_LOKINET_VERSION</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:196</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a720216004c8195ad817756b4312abd52a05304abc5ec69431ecc6730a302f2a37"><div class="ttname"><a href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a05304abc5ec69431ecc6730a302f2a37">service_nodes::quorum_type::checkpointing</a></div><div class="ttdeci">@ checkpointing</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a6ee77bc8b6bf09851397bad24893e2fe"><div class="ttname"><a href="namespaceservice__nodes.html#a6ee77bc8b6bf09851397bad24893e2fe">service_nodes::swarm_id_t</a></div><div class="ttdeci">uint64_t swarm_id_t</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:212</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a2e32a525f7b1c135ac130385db6f1efc"><div class="ttname"><a href="namespaceservice__nodes.html#a2e32a525f7b1c135ac130385db6f1efc">service_nodes::STATE_CHANGE_NTH_OF_THE_NETWORK_TO_TEST</a></div><div class="ttdeci">constexpr size_t STATE_CHANGE_NTH_OF_THE_NETWORK_TO_TEST</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:144</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a92bbde11842d086caffabd211eafd13f"><div class="ttname"><a href="namespaceservice__nodes.html#a92bbde11842d086caffabd211eafd13f">service_nodes::PULSE_WAIT_FOR_RANDOM_VALUE_DURATION</a></div><div class="ttdeci">constexpr auto PULSE_WAIT_FOR_RANDOM_VALUE_DURATION</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:20</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a3fb1e856c0996b92b2eafa6ba2076454"><div class="ttname"><a href="namespaceservice__nodes.html#a3fb1e856c0996b92b2eafa6ba2076454">service_nodes::SWARM_BUFFER</a></div><div class="ttdeci">constexpr size_t SWARM_BUFFER</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:172</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a6f90f78f0830db68a4ed8913ccd1239f"><div class="ttname"><a href="namespaceservice__nodes.html#a6f90f78f0830db68a4ed8913ccd1239f">service_nodes::BLINK_QUORUM_LAG</a></div><div class="ttdeci">constexpr int BLINK_QUORUM_LAG</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:137</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a1af9223f7acc939e6d6b2fab2968a822"><div class="ttname"><a href="namespaceservice__nodes.html#a1af9223f7acc939e6d6b2fab2968a822">service_nodes::check_service_node_stakes</a></div><div class="ttdeci">bool check_service_node_stakes(hf hf_version, cryptonote::network_type nettype, uint64_t staking_requirement, const std::vector&lt; std::pair&lt; cryptonote::account_public_address, uint64_t &gt;&gt; &amp;stakes)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:145</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_afba38f786460d3a87da85828d8405123"><div class="ttname"><a href="namespaceservice__nodes.html#afba38f786460d3a87da85828d8405123">service_nodes::portions_to_amount</a></div><div class="ttdeci">uint64_t portions_to_amount(uint64_t portions, uint64_t staking_requirement)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:102</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a86ce306f257ea837cf348431499c113d"><div class="ttname"><a href="namespaceservice__nodes.html#a86ce306f257ea837cf348431499c113d">service_nodes::PULSE_BLOCK_REQUIRED_SIGNATURES</a></div><div class="ttdeci">constexpr size_t PULSE_BLOCK_REQUIRED_SIGNATURES</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:24</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a41686f2c897f6f8972c221653a4d1562"><div class="ttname"><a href="namespaceservice__nodes.html#a41686f2c897f6f8972c221653a4d1562">service_nodes::get_locked_key_image_unlock_height</a></div><div class="ttdeci">uint64_t get_locked_key_image_unlock_height(cryptonote::network_type nettype, uint64_t node_register_height, uint64_t curr_height)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:191</div></div>
<div class="ttc" id="acryptonote__config_8h_html"><div class="ttname"><a href="cryptonote__config_8h.html">cryptonote_config.h</a></div></div>
<div class="ttc" id="aoxen__economy_8h_html"><div class="ttname"><a href="oxen__economy_8h.html">oxen_economy.h</a></div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ae477b23a28f0e2a0dac012da9f7cb37b"><div class="ttname"><a href="namespaceservice__nodes.html#ae477b23a28f0e2a0dac012da9f7cb37b">service_nodes::STEALING_SWARM_UPPER_PERCENTILE</a></div><div class="ttdeci">constexpr size_t STEALING_SWARM_UPPER_PERCENTILE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:185</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a47bc4da9cc36ea7cf79f1f2e486c0f89"><div class="ttname"><a href="namespaceservice__nodes.html#a47bc4da9cc36ea7cf79f1f2e486c0f89">service_nodes::PULSE_ROUND_TIME</a></div><div class="ttdeci">constexpr auto PULSE_ROUND_TIME</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:15</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ad352cecb0b9f0e27ac99a6a468ad5694"><div class="ttname"><a href="namespaceservice__nodes.html#ad352cecb0b9f0e27ac99a6a468ad5694">service_nodes::THRESHOLD_SECONDS_OUT_OF_SYNC</a></div><div class="ttdeci">constexpr uint8_t THRESHOLD_SECONDS_OUT_OF_SYNC</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:243</div></div>
<div class="ttc" id="aaesb_8c_html_a20c782a91c883391b9bdf9e3176e447c"><div class="ttname"><a href="aesb_8c.html#a20c782a91c883391b9bdf9e3176e447c">s</a></div><div class="ttdeci">#define s(x, c)</div><div class="ttdef"><b>Definition:</b> aesb.c:47</div></div>
<div class="ttc" id="anamespacecryptonote_html_a3d1634490c31f415a14adba978858289"><div class="ttname"><a href="namespacecryptonote.html#a3d1634490c31f415a14adba978858289">cryptonote::BLOCKS_PER_HOUR</a></div><div class="ttdeci">constexpr uint64_t BLOCKS_PER_HOUR</div><div class="ttdef"><b>Definition:</b> cryptonote_config.h:68</div></div>
<div class="ttc" id="anamespacecryptonote_html_a884c13f6c17c6ce8dd15f2e9bc4c75efa744198ad488063e0b9d1b6f59ce6fc84"><div class="ttname"><a href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75efa744198ad488063e0b9d1b6f59ce6fc84">cryptonote::hf::hf16_pulse</a></div><div class="ttdeci">@ hf16_pulse</div></div>
<div class="ttc" id="astructservice__nodes_1_1proof__version_html_a1d7c591aeff6158cfb6d24c825e39782"><div class="ttname"><a href="structservice__nodes_1_1proof__version.html#a1d7c591aeff6158cfb6d24c825e39782">service_nodes::proof_version::hardfork_revision</a></div><div class="ttdeci">std::pair&lt; cryptonote::hf, uint8_t &gt; hardfork_revision</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:201</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a2e2df97c5e7240ab85506fa91ff293e3"><div class="ttname"><a href="namespaceservice__nodes.html#a2e2df97c5e7240ab85506fa91ff293e3">service_nodes::staking_num_lock_blocks</a></div><div class="ttdeci">constexpr uint64_t staking_num_lock_blocks(cryptonote::network_type nettype)</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:232</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a2745e344755e6b64f12c2a6282e944d3"><div class="ttname"><a href="namespaceservice__nodes.html#a2745e344755e6b64f12c2a6282e944d3">service_nodes::VOTE_LIFETIME</a></div><div class="ttdeci">constexpr uint64_t VOTE_LIFETIME</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:146</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a191d5e68b2c27e3758e45b6652724628"><div class="ttname"><a href="namespaceservice__nodes.html#a191d5e68b2c27e3758e45b6652724628">service_nodes::percent_to_basis_points</a></div><div class="ttdeci">uint16_t percent_to_basis_points(std::string percent_string)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:261</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a8f4dc84dd9ca21434ef48a0e797bed73"><div class="ttname"><a href="namespaceservice__nodes.html#a8f4dc84dd9ca21434ef48a0e797bed73">service_nodes::get_staking_requirement</a></div><div class="ttdeci">uint64_t get_staking_requirement(cryptonote::network_type nettype, hf hardfork)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:21</div></div>
<div class="ttc" id="anamespacecryptonote_html_aeb4bfc2bef985eb2011fab463ad6e966"><div class="ttname"><a href="namespacecryptonote.html#aeb4bfc2bef985eb2011fab463ad6e966">cryptonote::BLOCKS_PER_DAY</a></div><div class="ttdeci">constexpr uint64_t BLOCKS_PER_DAY</div><div class="ttdef"><b>Definition:</b> cryptonote_config.h:69</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ac62dc8c88fd49c6733d6a48114e93cb8"><div class="ttname"><a href="namespaceservice__nodes.html#ac62dc8c88fd49c6733d6a48114e93cb8">service_nodes::SMALL_CONTRIBUTOR_UNLOCK_TIMER</a></div><div class="ttdeci">constexpr uint64_t SMALL_CONTRIBUTOR_UNLOCK_TIMER</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:253</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a8c52f16d66e0b53bb9b4bf6fe858b4d4"><div class="ttname"><a href="namespaceservice__nodes.html#a8c52f16d66e0b53bb9b4bf6fe858b4d4">service_nodes::get_min_node_contribution</a></div><div class="ttdeci">uint64_t get_min_node_contribution(hf version, uint64_t staking_requirement, uint64_t total_reserved, size_t num_contributions)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:211</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a01e3e155b070e1dfe5fa67a0e9723913"><div class="ttname"><a href="namespaceservice__nodes.html#a01e3e155b070e1dfe5fa67a0e9723913">service_nodes::PULSE_WAIT_FOR_OTHER_VALIDATOR_HANDSHAKES_DURATION</a></div><div class="ttdeci">constexpr auto PULSE_WAIT_FOR_OTHER_VALIDATOR_HANDSHAKES_DURATION</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:17</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a81c685b10d90e18fef5f5168c86aa29c"><div class="ttname"><a href="namespaceservice__nodes.html#a81c685b10d90e18fef5f5168c86aa29c">service_nodes::BLINK_MIN_VOTES</a></div><div class="ttdeci">constexpr int BLINK_MIN_VOTES</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:153</div></div>
<div class="ttc" id="astructservice__nodes_1_1invalid__registration_html"><div class="ttname"><a href="structservice__nodes_1_1invalid__registration.html">service_nodes::invalid_registration</a></div><div class="ttdef"><b>Definition:</b> service_node_rules.h:12</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a1d198db110af4f110570209600c505d9"><div class="ttname"><a href="namespaceservice__nodes.html#a1d198db110af4f110570209600c505d9">service_nodes::MIN_UPTIME_PROOF_VERSIONS</a></div><div class="ttdeci">constexpr std::array MIN_UPTIME_PROOF_VERSIONS</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:207</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a71186eab52b20d8e5656aadf11049837"><div class="ttname"><a href="namespaceservice__nodes.html#a71186eab52b20d8e5656aadf11049837">service_nodes::MIN_STORAGE_SERVER_VERSION</a></div><div class="ttdeci">constexpr std::array&lt; uint16_t, 3 &gt; MIN_STORAGE_SERVER_VERSION</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:195</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a43bcac3ca080f197c26d23149befce69"><div class="ttname"><a href="namespaceservice__nodes.html#a43bcac3ca080f197c26d23149befce69">service_nodes::min_votes_for_quorum_type</a></div><div class="ttdeci">constexpr size_t min_votes_for_quorum_type(quorum_type q)</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:215</div></div>
<div class="ttc" id="anamespacecryptonote_html_a884c13f6c17c6ce8dd15f2e9bc4c75efa67c436fdcf312a593986bda06b1b449e"><div class="ttname"><a href="namespacecryptonote.html#a884c13f6c17c6ce8dd15f2e9bc4c75efa67c436fdcf312a593986bda06b1b449e">cryptonote::hf::hf19_reward_batching</a></div><div class="ttdeci">@ hf19_reward_batching</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ad3f3b480e3139eeb83c466650b8b1e80"><div class="ttname"><a href="namespaceservice__nodes.html#ad3f3b480e3139eeb83c466650b8b1e80">service_nodes::IDEAL_SWARM_MARGIN</a></div><div class="ttdeci">constexpr size_t IDEAL_SWARM_MARGIN</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:176</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a253a695061b67e1fec86c53303b5f2c4"><div class="ttname"><a href="namespaceservice__nodes.html#a253a695061b67e1fec86c53303b5f2c4">service_nodes::STATE_CHANGE_TX_LIFETIME_IN_BLOCKS</a></div><div class="ttdeci">constexpr uint64_t STATE_CHANGE_TX_LIFETIME_IN_BLOCKS</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:188</div></div>
<div class="ttc" id="astructservice__nodes_1_1proof__version_html_ad95577a37b5ad2e938c0b71dfcbb658b"><div class="ttname"><a href="structservice__nodes_1_1proof__version.html#ad95577a37b5ad2e938c0b71dfcbb658b">service_nodes::proof_version::oxend</a></div><div class="ttdeci">std::array&lt; uint16_t, 3 &gt; oxend</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:202</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a53c6a162f7757c785a4ca9f8e5121774"><div class="ttname"><a href="namespaceservice__nodes.html#a53c6a162f7757c785a4ca9f8e5121774">service_nodes::MAXIMUM_EXTERNAL_OUT_OF_SYNC</a></div><div class="ttdeci">constexpr uint8_t MAXIMUM_EXTERNAL_OUT_OF_SYNC</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:246</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a720216004c8195ad817756b4312abd52a40652ee9ae143f1c1c830f01a5449ecb"><div class="ttname"><a href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a40652ee9ae143f1c1c830f01a5449ecb">service_nodes::quorum_type::blink</a></div><div class="ttdeci">@ blink</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_acb0c8dcf11b7c540582502b415111e35"><div class="ttname"><a href="namespaceservice__nodes.html#acb0c8dcf11b7c540582502b415111e35">service_nodes::DECOMMISSIONED_REDISTRIBUTION_LOWER_PERCENTILE</a></div><div class="ttdeci">constexpr size_t DECOMMISSIONED_REDISTRIBUTION_LOWER_PERCENTILE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:183</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a4337d4727e7f7a84e3383c7a25d4e934"><div class="ttname"><a href="namespaceservice__nodes.html#a4337d4727e7f7a84e3383c7a25d4e934">service_nodes::IP_CHANGE_WINDOW</a></div><div class="ttdeci">constexpr auto IP_CHANGE_WINDOW</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:166</div></div>
<div class="ttc" id="anamespacecryptonote_1_1old_html_aff49d5bd41207b3e4a8c406c053261be"><div class="ttname"><a href="namespacecryptonote_1_1old.html#aff49d5bd41207b3e4a8c406c053261be">cryptonote::old::STAKING_PORTIONS</a></div><div class="ttdeci">constexpr uint64_t STAKING_PORTIONS</div><div class="ttdef"><b>Definition:</b> cryptonote_config.h:291</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a67a661f02128bcd5147585417ce761bd"><div class="ttname"><a href="namespaceservice__nodes.html#a67a661f02128bcd5147585417ce761bd">service_nodes::REORG_SAFETY_BUFFER_BLOCKS_POST_HF12</a></div><div class="ttdeci">constexpr uint64_t REORG_SAFETY_BUFFER_BLOCKS_POST_HF12</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:161</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_aea0be087b7c26a5184b8f955a42305ec"><div class="ttname"><a href="namespaceservice__nodes.html#aea0be087b7c26a5184b8f955a42305ec">service_nodes::BLINK_SUBQUORUM_SIZE</a></div><div class="ttdeci">constexpr int BLINK_SUBQUORUM_SIZE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:152</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a98a1f2be1acde395d9f2a5a990215ccd"><div class="ttname"><a href="namespaceservice__nodes.html#a98a1f2be1acde395d9f2a5a990215ccd">service_nodes::PULSE_WAIT_FOR_SIGNED_BLOCK_DURATION</a></div><div class="ttdeci">constexpr auto PULSE_WAIT_FOR_SIGNED_BLOCK_DURATION</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:21</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ab95da2223071aaebfd7150ec35dc2c82"><div class="ttname"><a href="namespaceservice__nodes.html#ab95da2223071aaebfd7150ec35dc2c82">service_nodes::CHECKPOINT_MIN_VOTES</a></div><div class="ttdeci">constexpr size_t CHECKPOINT_MIN_VOTES</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:151</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a255749fdc9666895b4c0b25e31f185a5"><div class="ttname"><a href="namespaceservice__nodes.html#a255749fdc9666895b4c0b25e31f185a5">service_nodes::DECOMMISSION_INITIAL_CREDIT</a></div><div class="ttdeci">constexpr int64_t DECOMMISSION_INITIAL_CREDIT</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:75</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ac809e4b748aa8764a75a1efd76beca25"><div class="ttname"><a href="namespaceservice__nodes.html#ac809e4b748aa8764a75a1efd76beca25">service_nodes::STATE_CHANGE_MIN_NODES_TO_TEST</a></div><div class="ttdeci">constexpr size_t STATE_CHANGE_MIN_NODES_TO_TEST</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:145</div></div>
<div class="ttc" id="aservice__node__voting_8h_html"><div class="ttname"><a href="service__node__voting_8h.html">service_node_voting.h</a></div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a4567dc99de9ed40aa19f27985dc3e214"><div class="ttname"><a href="namespaceservice__nodes.html#a4567dc99de9ed40aa19f27985dc3e214">service_nodes::SMALL_CONTRIBUTOR_THRESHOLD</a></div><div class="ttdeci">std::ratio&lt; 2499, 10000 &gt; SMALL_CONTRIBUTOR_THRESHOLD</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:254</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a022a78097b1a0c39685709bb55c8d03e"><div class="ttname"><a href="namespaceservice__nodes.html#a022a78097b1a0c39685709bb55c8d03e">service_nodes::DECOMMISSION_MAX_CREDIT</a></div><div class="ttdeci">constexpr int64_t DECOMMISSION_MAX_CREDIT</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:76</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a7c7ef55a390c8215cad19172d83cf6a1"><div class="ttname"><a href="namespaceservice__nodes.html#a7c7ef55a390c8215cad19172d83cf6a1">service_nodes::check_service_node_portions</a></div><div class="ttdeci">bool check_service_node_portions(hf hf_version, const std::vector&lt; std::pair&lt; cryptonote::account_public_address, uint64_t &gt;&gt; &amp;portions)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:107</div></div>
<div class="ttc" id="anamespacecryptonote_html_a1823e8e194e85c09ac7231f927cca70aa9ff86ed474dbbbbe88b28ee45ec70994"><div class="ttname"><a href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70aa9ff86ed474dbbbbe88b28ee45ec70994">cryptonote::network_type::MAINNET</a></div><div class="ttdeci">@ MAINNET</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ae8818286fddb85de5d2a05cd6cfacfbd"><div class="ttname"><a href="namespaceservice__nodes.html#ae8818286fddb85de5d2a05cd6cfacfbd">service_nodes::parse_fee_percent</a></div><div class="ttdeci">std::optional&lt; double &gt; parse_fee_percent(std::string_view fee)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:243</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_abfaf5931c6b2e51ee9051b0dcd09eede"><div class="ttname"><a href="namespaceservice__nodes.html#abfaf5931c6b2e51ee9051b0dcd09eede">service_nodes::PULSE_MAX_MISSABLE_VOTES</a></div><div class="ttdeci">constexpr int16_t PULSE_MAX_MISSABLE_VOTES</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:128</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_af126b9952e9024bbc009e7e60ff6b104"><div class="ttname"><a href="namespaceservice__nodes.html#af126b9952e9024bbc009e7e60ff6b104">service_nodes::pulse_validator_bit_mask</a></div><div class="ttdeci">constexpr uint16_t pulse_validator_bit_mask()</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:48</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a19d8c278b6458da4d8fb4392356dd611"><div class="ttname"><a href="namespaceservice__nodes.html#a19d8c278b6458da4d8fb4392356dd611">service_nodes::CHECKPOINT_NUM_CHECKPOINTS_FOR_CHAIN_FINALITY</a></div><div class="ttdeci">constexpr uint64_t CHECKPOINT_NUM_CHECKPOINTS_FOR_CHAIN_FINALITY</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:122</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a9fd616c407c56a73a7a79dca6f9437f3"><div class="ttname"><a href="namespaceservice__nodes.html#a9fd616c407c56a73a7a79dca6f9437f3">service_nodes::PULSE_WAIT_FOR_RANDOM_VALUE_HASH_DURATION</a></div><div class="ttdeci">constexpr auto PULSE_WAIT_FOR_RANDOM_VALUE_HASH_DURATION</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:19</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a92b6929c3e6ce53be58cd91034a21226"><div class="ttname"><a href="namespaceservice__nodes.html#a92b6929c3e6ce53be58cd91034a21226">service_nodes::DECOMMISSION_CREDIT_PER_DAY</a></div><div class="ttdeci">constexpr int64_t DECOMMISSION_CREDIT_PER_DAY</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:74</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_aa5db295637f03714766b939f78de2f86"><div class="ttname"><a href="namespaceservice__nodes.html#aa5db295637f03714766b939f78de2f86">service_nodes::STATE_CHANGE_QUORUM_SIZE</a></div><div class="ttdeci">constexpr size_t STATE_CHANGE_QUORUM_SIZE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:149</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a5a9c4bc935229938d1a1971112ed1971"><div class="ttname"><a href="namespaceservice__nodes.html#a5a9c4bc935229938d1a1971112ed1971">service_nodes::max_quorum_type_for_hf</a></div><div class="ttdeci">constexpr quorum_type max_quorum_type_for_hf(cryptonote::hf version)</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:223</div></div>
<div class="ttc" id="anamespacecryptonote_html_a1823e8e194e85c09ac7231f927cca70aaa45f009ef381c3bc198dd0f352e08a2e"><div class="ttname"><a href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70aaa45f009ef381c3bc198dd0f352e08a2e">cryptonote::network_type::FAKECHAIN</a></div><div class="ttdeci">@ FAKECHAIN</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a544decf5e2f18c5b9aac9f3d3063c5d2"><div class="ttname"><a href="namespaceservice__nodes.html#a544decf5e2f18c5b9aac9f3d3063c5d2">service_nodes::KEY_IMAGE_AWAITING_UNLOCK_HEIGHT</a></div><div class="ttdeci">constexpr uint64_t KEY_IMAGE_AWAITING_UNLOCK_HEIGHT</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:186</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_afd56adf1d701636284eea8f71a99098d"><div class="ttname"><a href="namespaceservice__nodes.html#afd56adf1d701636284eea8f71a99098d">service_nodes::EXCESS_BASE</a></div><div class="ttdeci">constexpr size_t EXCESS_BASE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:178</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a58bdf2810e4410d79e1e7ec94a890418"><div class="ttname"><a href="namespaceservice__nodes.html#a58bdf2810e4410d79e1e7ec94a890418">service_nodes::MINIMUM_OPERATOR_PORTION</a></div><div class="ttdeci">constexpr uint64_t MINIMUM_OPERATOR_PORTION</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:250</div></div>
<div class="ttc" id="astructcrypto_1_1hash_html"><div class="ttname"><a href="structcrypto_1_1hash.html">crypto::hash</a></div><div class="ttdef"><b>Definition:</b> hash.h:48</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a90124f1d6e6879e4b083eb2e202b1e30"><div class="ttname"><a href="namespaceservice__nodes.html#a90124f1d6e6879e4b083eb2e202b1e30">service_nodes::FILL_SWARM_LOWER_PERCENTILE</a></div><div class="ttdeci">constexpr size_t FILL_SWARM_LOWER_PERCENTILE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:181</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a4757d4f381fd4f81b8521154e198f20f"><div class="ttname"><a href="namespaceservice__nodes.html#a4757d4f381fd4f81b8521154e198f20f">service_nodes::BLINK_QUORUM_INTERVAL</a></div><div class="ttdeci">constexpr int BLINK_QUORUM_INTERVAL</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:136</div></div>
<div class="ttc" id="acrypto_2crypto_8h_html"><div class="ttname"><a href="crypto_2crypto_8h.html">crypto.h</a></div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a720216004c8195ad817756b4312abd52a02a8dc4cf01fed584c6423f577c0b0d7"><div class="ttname"><a href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a02a8dc4cf01fed584c6423f577c0b0d7">service_nodes::quorum_type::pulse</a></div><div class="ttdeci">@ pulse</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a9036b1384967572d1e4699d1179eefe1"><div class="ttname"><a href="namespaceservice__nodes.html#a9036b1384967572d1e4699d1179eefe1">service_nodes::pulse_min_service_nodes</a></div><div class="ttdeci">constexpr size_t pulse_min_service_nodes(cryptonote::network_type nettype)</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:41</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a60db44fd0e2fcbf49efc7a743f066b0e"><div class="ttname"><a href="namespaceservice__nodes.html#a60db44fd0e2fcbf49efc7a743f066b0e">service_nodes::PULSE_WAIT_FOR_HANDSHAKES_DURATION</a></div><div class="ttdeci">constexpr auto PULSE_WAIT_FOR_HANDSHAKES_DURATION</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:16</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a459f06c1c3bc526051a1ed8844532c37"><div class="ttname"><a href="namespaceservice__nodes.html#a459f06c1c3bc526051a1ed8844532c37">service_nodes::get_portions_to_make_amount</a></div><div class="ttdeci">uint64_t get_portions_to_make_amount(uint64_t staking_requirement, uint64_t amount, uint64_t max_portions)</div><div class="ttdef"><b>Definition:</b> service_node_rules.cpp:232</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a720216004c8195ad817756b4312abd52a8ad227215390a63934abc20fed39722f"><div class="ttname"><a href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52a8ad227215390a63934abc20fed39722f">service_nodes::quorum_type::obligations</a></div><div class="ttdeci">@ obligations</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_ac667cde95a97bc86f5c00fa757efc38f"><div class="ttname"><a href="namespaceservice__nodes.html#ac667cde95a97bc86f5c00fa757efc38f">service_nodes::CHECKPOINT_QUORUM_SIZE</a></div><div class="ttdeci">constexpr size_t CHECKPOINT_QUORUM_SIZE</div><div class="ttdef"><b>Definition:</b> service_node_rules.h:150</div></div>
<div class="ttc" id="anamespaceservice__nodes_html_a720216004c8195ad817756b4312abd52"><div class="ttname"><a href="namespaceservice__nodes.html#a720216004c8195ad817756b4312abd52">service_nodes::quorum_type</a></div><div class="ttdeci">quorum_type</div><div class="ttdef"><b>Definition:</b> service_node_voting.h:57</div></div>
<div class="ttc" id="anamespacecryptonote_html_a1823e8e194e85c09ac7231f927cca70aace8400aeb0c47ce5cd8e37a3a54e557b"><div class="ttname"><a href="namespacecryptonote.html#a1823e8e194e85c09ac7231f927cca70aace8400aeb0c47ce5cd8e37a3a54e557b">cryptonote::network_type::TESTNET</a></div><div class="ttdeci">@ TESTNET</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 21 2022 01:11:50 for Monero by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
